---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/transient-fault-handling
title: Tratamento de falhas transitórias (criando aplicativos de nuvem do mundo real com o Azure) | Microsoft Docs
author: MikeWasson
description: A criação de aplicativos de nuvem do mundo real com o livro eletrônico do Azure é baseada em uma apresentação desenvolvida por Scott Guthrie. Ele explica 13 padrões e práticas que podem...
ms.author: riande
ms.date: 11/03/2015
ms.assetid: 7ead83bc-c08c-4b26-8617-00e07292e35c
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/transient-fault-handling
msc.type: authoredcontent
ms.openlocfilehash: e798cb83cfb97db63fef6dc38c8f62804461d01b
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/19/2020
ms.locfileid: "77456849"
---
# <a name="transient-fault-handling-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="7c7af-104">Tratamento de falhas transitórias (criando aplicativos de nuvem do mundo real com o Azure)</span><span class="sxs-lookup"><span data-stu-id="7c7af-104">Transient Fault Handling (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="7c7af-105">por [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://twitter.com/RickAndMSFT), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="7c7af-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://twitter.com/RickAndMSFT), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="7c7af-106">[Baixar o projeto de ti](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) ou [baixar o livro eletrônico](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="7c7af-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="7c7af-107">A **criação de aplicativos de nuvem do mundo real com** o livro eletrônico do Azure é baseada em uma apresentação desenvolvida por Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="7c7af-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="7c7af-108">Ele explica 13 padrões e práticas que podem ajudá-lo a desenvolver com sucesso aplicativos Web para a nuvem.</span><span class="sxs-lookup"><span data-stu-id="7c7af-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="7c7af-109">Para obter informações sobre o livro eletrônico, consulte [o primeiro capítulo](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="7c7af-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="7c7af-110">Quando você está criando um aplicativo de nuvem do mundo real, uma das coisas que você precisa pensar é como lidar com interrupções de serviço temporário.</span><span class="sxs-lookup"><span data-stu-id="7c7af-110">When you're designing a real world cloud app, one of the things you have to think about is how to handle temporary service interruptions.</span></span> <span data-ttu-id="7c7af-111">Esse problema é exclusivamente importante em aplicativos de nuvem porque você depende de conexões de rede e de serviços externos.</span><span class="sxs-lookup"><span data-stu-id="7c7af-111">This issue is uniquely important in cloud apps because you're so dependent on network connections and external services.</span></span> <span data-ttu-id="7c7af-112">Com freqüência, você pode obter poucos problemas que normalmente são de auto-recuperação e, se você não estiver preparado para tratá-los de forma inteligente, eles resultarão em uma experiência inadequada para seus clientes.</span><span class="sxs-lookup"><span data-stu-id="7c7af-112">You can frequently get little glitches that are typically self-healing, and if you aren't prepared to handle them intelligently, they'll result in a bad experience for your customers.</span></span>

## <a name="causes-of-transient-failures"></a><span data-ttu-id="7c7af-113">Causas de falhas transitórias</span><span class="sxs-lookup"><span data-stu-id="7c7af-113">Causes of transient failures</span></span>

<span data-ttu-id="7c7af-114">No ambiente de nuvem, você descobrirá que as conexões de banco de dados com falha e descartadas acontecem periodicamente.</span><span class="sxs-lookup"><span data-stu-id="7c7af-114">In the cloud environment you'll find that failed and dropped database connections happen periodically.</span></span> <span data-ttu-id="7c7af-115">Isso é parcialmente porque você está passando por mais balanceadores de carga em comparação com o ambiente local onde o servidor Web e o servidor de banco de dados têm uma conexão física direta.</span><span class="sxs-lookup"><span data-stu-id="7c7af-115">That's partly because you're going through more load balancers compared to the on-premises environment where your web server and database server have a direct physical connection.</span></span> <span data-ttu-id="7c7af-116">Além disso, às vezes, quando você depende de um serviço de multilocatário, verá que as chamadas para o serviço ficam mais lentas ou com tempo limite porque outra pessoa que usa o serviço está atingindo muito.</span><span class="sxs-lookup"><span data-stu-id="7c7af-116">Also, sometimes when you're dependent on a multi-tenant service you'll see calls to the service get slower or time out because someone else who uses the service is hitting it heavily.</span></span> <span data-ttu-id="7c7af-117">Em outros casos, você pode ser o usuário que está acessando o serviço com muita frequência e o serviço restrição deliberadamente – nega conexões – para evitar que você afete negativamente outros locatários do serviço.</span><span class="sxs-lookup"><span data-stu-id="7c7af-117">In other cases you might be the user who is hitting the service too frequently, and the service deliberately throttles you – denies connections – in order to prevent you from adversely affecting other tenants of the service.</span></span>

## <a name="use-smart-retryback-off-logic-to-mitigate-the-effect-of-transient-failures"></a><span data-ttu-id="7c7af-118">Use a lógica de repetição/retirada inteligente para atenuar o efeito de falhas transitórias</span><span class="sxs-lookup"><span data-stu-id="7c7af-118">Use smart retry/back-off logic to mitigate the effect of transient failures</span></span>

<span data-ttu-id="7c7af-119">Em vez de lançar uma exceção e exibir uma página de erro ou não disponível para o cliente, você pode reconhecer os erros que normalmente são transitórios e repetir automaticamente a operação que resultou no erro, na esperança de que, antes de longo, você seja bem-sucedido.</span><span class="sxs-lookup"><span data-stu-id="7c7af-119">Instead of throwing an exception and displaying a not available or error page to your customer, you can recognize errors that are typically transient, and automatically retry the operation that resulted in the error, in hopes that before long you'll be successful.</span></span> <span data-ttu-id="7c7af-120">Na maioria das vezes, a operação terá êxito na segunda tentativa, e você se recuperará do erro sem que o cliente já tenha se informado de que houve um problema.</span><span class="sxs-lookup"><span data-stu-id="7c7af-120">Most of the time the operation will succeed on the second try, and you'll recover from the error without the customer ever having been aware that there was a problem.</span></span>

<span data-ttu-id="7c7af-121">Há várias maneiras de implementar a lógica de repetição inteligente.</span><span class="sxs-lookup"><span data-stu-id="7c7af-121">There are several ways you can implement smart retry logic.</span></span>

- <span data-ttu-id="7c7af-122">O grupo de práticas de &amp; de padrões da Microsoft tem um [bloco de aplicativo de tratamento de falhas transitórios](https://msdn.microsoft.com/library/dn440719(v=pandp.60).aspx) que faz tudo para você se você estiver usando ADO.net para acesso ao banco de dados SQL (não por meio de Entity Framework).</span><span class="sxs-lookup"><span data-stu-id="7c7af-122">The Microsoft Patterns &amp; Practices group has a [Transient Fault Handling Application Block](https://msdn.microsoft.com/library/dn440719(v=pandp.60).aspx) that does everything for you if you're using ADO.NET for SQL Database access (not through Entity Framework).</span></span> <span data-ttu-id="7c7af-123">Basta definir uma política para repetições – quantas vezes repetir uma consulta ou um comando e por quanto tempo aguardar entre as tentativas – e encapsular o código SQL em um bloco *using* .</span><span class="sxs-lookup"><span data-stu-id="7c7af-123">You just set a policy for retries – how many times to retry a query or command and how long to wait between tries – and wrap your SQL code in a *using* block.</span></span>

    [!code-csharp[Main](transient-fault-handling/samples/sample1.cs)]

    <span data-ttu-id="7c7af-124">O TFH também dá suporte ao [Azure cache na função](https://msdn.microsoft.com/library/windowsazure/dn386103.aspx) e ao [barramento de serviço](https://azure.microsoft.com/services/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="7c7af-124">TFH also supports [Azure In-Role Cache](https://msdn.microsoft.com/library/windowsazure/dn386103.aspx) and [Service Bus](https://azure.microsoft.com/services/service-bus/).</span></span>
- <span data-ttu-id="7c7af-125">Quando você usa o Entity Framework normalmente não está trabalhando diretamente com conexões SQL, portanto, não é possível usar esse pacote de padrões e práticas, mas Entity Framework 6 compila esse tipo de lógica de repetição diretamente na estrutura.</span><span class="sxs-lookup"><span data-stu-id="7c7af-125">When you use the Entity Framework you typically aren't working directly with SQL connections, so you can't use this Patterns and Practices package, but Entity Framework 6 builds this kind of retry logic right into the framework.</span></span> <span data-ttu-id="7c7af-126">De maneira semelhante, você especifica a estratégia de repetição e, em seguida, o EF usa essa estratégia sempre que acessa o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="7c7af-126">In a similar way you specify the retry strategy, and then EF uses that strategy whenever it accesses the database.</span></span>

    <span data-ttu-id="7c7af-127">Para usar esse recurso no aplicativo Fix it, tudo o que precisamos fazer é adicionar uma classe derivada de *DbConfiguration* e ativar a lógica de repetição.</span><span class="sxs-lookup"><span data-stu-id="7c7af-127">To use this feature in the Fix It app, all we have to do is add a class that derives from *DbConfiguration* and turn on the retry logic.</span></span>

    [!code-csharp[Main](transient-fault-handling/samples/sample2.cs)]

    <span data-ttu-id="7c7af-128">Para exceções do banco de dados SQL que a estrutura identifica como erros transitórios, o código mostrado instrui o EF a tentar novamente a operação até três vezes, com um atraso de retirada exponencial entre as repetições e um atraso máximo de 5 segundos.</span><span class="sxs-lookup"><span data-stu-id="7c7af-128">For SQL Database exceptions that the framework identifies as typically transient errors, the code shown instructs EF to retry the operation up to 3 times, with an exponential back-off delay between retries, and a maximum delay of 5 seconds.</span></span> <span data-ttu-id="7c7af-129">O retirada exponencial significa que, após cada repetição com falha, ele aguardará por um período de tempo maior antes de tentar novamente.</span><span class="sxs-lookup"><span data-stu-id="7c7af-129">Exponential back-off means that after each failed retry it will wait for a longer period of time before trying again.</span></span> <span data-ttu-id="7c7af-130">Se três tentativas em uma linha falharem, ele gerará uma exceção.</span><span class="sxs-lookup"><span data-stu-id="7c7af-130">If three tries in a row fail, it will throw an exception.</span></span> <span data-ttu-id="7c7af-131">A seção a seguir sobre os separadores de circuito explica por que você deseja retirada exponencial e um número limitado de repetições.</span><span class="sxs-lookup"><span data-stu-id="7c7af-131">The following section about circuit breakers explains why you want exponential back-off and a limited number of retries.</span></span>

    <span data-ttu-id="7c7af-132">Você pode ter problemas semelhantes ao usar o serviço de armazenamento do Azure, como o aplicativo Fix it faz para BLOBs, e a API do cliente de armazenamento .NET já implementa o mesmo tipo de lógica.</span><span class="sxs-lookup"><span data-stu-id="7c7af-132">You can have similar issues when you're using the Azure Storage service, as the Fix It app does for Blobs, and the .NET storage client API already implements the same kind of logic.</span></span> <span data-ttu-id="7c7af-133">Você apenas especifica a política de repetição ou não precisa nem fazer isso se estiver satisfeito com as configurações padrão.</span><span class="sxs-lookup"><span data-stu-id="7c7af-133">You just specify the retry policy, or you don't even have to do that if you're happy with the default settings.</span></span>

<a id="circuitbreakers"></a>
## <a name="circuit-breakers"></a><span data-ttu-id="7c7af-134">Disjuntores de circuito</span><span class="sxs-lookup"><span data-stu-id="7c7af-134">Circuit breakers</span></span>

<span data-ttu-id="7c7af-135">Há várias razões pelas quais você não deseja repetir muitas vezes por um período longo demais:</span><span class="sxs-lookup"><span data-stu-id="7c7af-135">There are several reasons why you don't want to retry too many times over too long a period:</span></span>

- <span data-ttu-id="7c7af-136">Muitos usuários repetindo de forma persistente as solicitações com falha podem prejudicar a experiência de outros usuários.</span><span class="sxs-lookup"><span data-stu-id="7c7af-136">Too many users persistently retrying failed requests might degrade other users' experience.</span></span> <span data-ttu-id="7c7af-137">Se milhões de pessoas estiverem fazendo solicitações repetidas de repetição, você poderá estar se vinculando a filas de expedição do IIS e impedindo que seu aplicativo atenda a solicitações que, de outra forma, pudesse lidar com êxito.</span><span class="sxs-lookup"><span data-stu-id="7c7af-137">If millions of people are all making repeated retry requests you could be tying up IIS dispatch queues and preventing your app from servicing requests that it otherwise could handle successfully.</span></span>
- <span data-ttu-id="7c7af-138">Se todos estiverem tentando novamente devido a uma falha de serviço, pode haver tantas solicitações enfileiradas que o serviço é inundado quando ele começa a ser recuperado.</span><span class="sxs-lookup"><span data-stu-id="7c7af-138">If everyone is retrying due to a service failure, there could be so many requests queued up that the service gets flooded when it starts to recover.</span></span>
- <span data-ttu-id="7c7af-139">Se o erro for devido à limitação e houver uma janela de tempo que o serviço usa para limitação, as tentativas contínuas podem mover essa janela para fora e fazer com que a limitação continue.</span><span class="sxs-lookup"><span data-stu-id="7c7af-139">If the error is due to throttling and there's a window of time the service uses for throttling, continued retries could move that window out and cause the throttling to continue.</span></span>
- <span data-ttu-id="7c7af-140">Você pode ter um usuário aguardando que uma página da Web seja renderizada.</span><span class="sxs-lookup"><span data-stu-id="7c7af-140">You might have a user waiting for a web page to render.</span></span> <span data-ttu-id="7c7af-141">Fazer as pessoas aguardarem muito tempo pode ser mais irritante que, de modo relativamente rápido, aconselha-las a tentar novamente mais tarde.</span><span class="sxs-lookup"><span data-stu-id="7c7af-141">Making people wait too long might be more annoying that relatively quickly advising them to try again later.</span></span>

<span data-ttu-id="7c7af-142">A retirada exponencial aborda alguns desses problemas limitando a frequência de novas tentativas que um serviço pode obter do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="7c7af-142">Exponential back-off addresses some of these issue by limiting the frequency of retries a service can get from your application.</span></span> <span data-ttu-id="7c7af-143">Mas você também precisa ter separadores de *circuito*: isso significa que, em um determinado limite de repetição, seu aplicativo para de tentar novamente e executa alguma outra ação, como uma das seguintes:</span><span class="sxs-lookup"><span data-stu-id="7c7af-143">But you also need to have *circuit breakers*: this means that at a certain retry threshold your app stops retrying and takes some other action, such as one of the following:</span></span>

- <span data-ttu-id="7c7af-144">Fallback personalizado.</span><span class="sxs-lookup"><span data-stu-id="7c7af-144">Custom fallback.</span></span> <span data-ttu-id="7c7af-145">Se não for possível obter um preço de estoque de Reuters, talvez você possa obtê-lo do Bloomberg; ou, se você não puder obter dados do banco de dado, talvez você possa obtê-los do cache.</span><span class="sxs-lookup"><span data-stu-id="7c7af-145">If you can't get a stock price from Reuters, maybe you can get it from Bloomberg; or if you can't get data from the database, maybe you can get it from cache.</span></span>
- <span data-ttu-id="7c7af-146">Falha silenciosa.</span><span class="sxs-lookup"><span data-stu-id="7c7af-146">Fail silent.</span></span> <span data-ttu-id="7c7af-147">Se o que você precisa de um serviço não é tudo ou nada para seu aplicativo, basta retornar NULL quando não for possível obter os dados.</span><span class="sxs-lookup"><span data-stu-id="7c7af-147">If what you need from a service isn't all-or-nothing for your app, just return null when you can't get the data.</span></span> <span data-ttu-id="7c7af-148">Se você estiver exibindo uma tarefa corrigir ti e o serviço BLOB não estiver respondendo, você poderá exibir os detalhes da tarefa sem a imagem.</span><span class="sxs-lookup"><span data-stu-id="7c7af-148">If you're displaying a Fix It task and the Blob service isn't responding, you could display the task details without the image.</span></span>
- <span data-ttu-id="7c7af-149">Falha rápida.</span><span class="sxs-lookup"><span data-stu-id="7c7af-149">Fail fast.</span></span> <span data-ttu-id="7c7af-150">Erro do usuário para evitar a inundação do serviço com solicitações de repetição que poderiam causar interrupção do serviço para outros usuários ou estender uma janela de limitação.</span><span class="sxs-lookup"><span data-stu-id="7c7af-150">Error out the user to avoid flooding the service with retry requests which could cause service disruption for other users or extend a throttling window.</span></span> <span data-ttu-id="7c7af-151">Você pode exibir uma mensagem amigável "tentar novamente mais tarde".</span><span class="sxs-lookup"><span data-stu-id="7c7af-151">You can display a friendly "try again later" message.</span></span>

<span data-ttu-id="7c7af-152">Não há nenhuma política de repetição única para todos os tamanhos.</span><span class="sxs-lookup"><span data-stu-id="7c7af-152">There is no one-size-fits-all retry policy.</span></span> <span data-ttu-id="7c7af-153">Você pode repetir mais vezes e aguardar mais tempo em um processo de trabalho em segundo plano assíncrono do que em um aplicativo Web síncrono em que um usuário está aguardando uma resposta.</span><span class="sxs-lookup"><span data-stu-id="7c7af-153">You can retry more times and wait longer in an asynchronous background worker process than you would in a synchronous web app where a user is waiting for a response.</span></span> <span data-ttu-id="7c7af-154">Você pode esperar mais tempo entre as repetições de um serviço de banco de dados relacional do que você faria para um serviço de cache.</span><span class="sxs-lookup"><span data-stu-id="7c7af-154">You can wait longer between retries for a relational database service than you would for a cache service.</span></span> <span data-ttu-id="7c7af-155">Aqui estão alguns exemplos de políticas de repetição recomendadas para dar uma ideia de como os números podem variar.</span><span class="sxs-lookup"><span data-stu-id="7c7af-155">Here are some sample recommended retry policies to give you an idea of how the numbers might vary.</span></span> <span data-ttu-id="7c7af-156">("Fast First" significa sem atraso antes da primeira repetição.</span><span class="sxs-lookup"><span data-stu-id="7c7af-156">("Fast First" means no delay before the first retry.</span></span>

![Políticas de repetição de exemplo](transient-fault-handling/_static/image1.png)

<span data-ttu-id="7c7af-158">Para obter diretrizes de política de repetição do banco de dados SQL, consulte [solucionar falhas transitórias e erros de conexão para o banco de dados SQL](https://azure.microsoft.com/documentation/articles/sql-database-connectivity-issues/).</span><span class="sxs-lookup"><span data-stu-id="7c7af-158">For SQL Database retry policy guidance, see [Troubleshoot transient faults and connection errors to SQL Database](https://azure.microsoft.com/documentation/articles/sql-database-connectivity-issues/).</span></span>

## <a name="summary"></a><span data-ttu-id="7c7af-159">Resumo</span><span class="sxs-lookup"><span data-stu-id="7c7af-159">Summary</span></span>

<span data-ttu-id="7c7af-160">Uma estratégia de repetição/retirada pode ajudar a tornar os erros temporários visíveis para o cliente na maior parte do tempo, e a Microsoft fornece estruturas que você pode usar para minimizar o trabalho que está implementando uma estratégia, independentemente de você estar usando o ADO.NET, Entity Framework ou o serviço de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="7c7af-160">A retry/back-off strategy can help make temporary errors invisible to the customer most of the time, and Microsoft provides frameworks that you can use to minimize your work implementing a strategy whether you're using ADO.NET, Entity Framework, or the Azure Storage service.</span></span>

<span data-ttu-id="7c7af-161">No [próximo capítulo](distributed-caching.md), veremos como melhorar o desempenho e a confiabilidade usando o Caching distribuído.</span><span class="sxs-lookup"><span data-stu-id="7c7af-161">In the [next chapter](distributed-caching.md), we'll look at how to improve performance and reliability by using distributed caching.</span></span>

## <a name="resources"></a><span data-ttu-id="7c7af-162">Recursos</span><span class="sxs-lookup"><span data-stu-id="7c7af-162">Resources</span></span>

<span data-ttu-id="7c7af-163">Para obter mais informações, consulte os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="7c7af-163">For more information, see the following resources:</span></span>

<span data-ttu-id="7c7af-164">Documentação</span><span class="sxs-lookup"><span data-stu-id="7c7af-164">Documentation</span></span>

- <span data-ttu-id="7c7af-165">[Práticas recomendadas para o design de serviços em grande escala nos serviços de nuvem do Azure](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span><span class="sxs-lookup"><span data-stu-id="7c7af-165">[Best Practices for the Design of Large-Scale Services on Azure Cloud Services](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span></span> <span data-ttu-id="7c7af-166">White Paper por Mark Simms e Michael Thomassy.</span><span class="sxs-lookup"><span data-stu-id="7c7af-166">White paper by Mark Simms and Michael Thomassy.</span></span> <span data-ttu-id="7c7af-167">Semelhante à série FailSafe, mas apresenta detalhes mais detalhados.</span><span class="sxs-lookup"><span data-stu-id="7c7af-167">Similar to the Failsafe series but goes into more how-to details.</span></span> <span data-ttu-id="7c7af-168">Consulte a seção telemetria e diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="7c7af-168">See the Telemetry and Diagnostics section.</span></span>
- <span data-ttu-id="7c7af-169">[FailSafe: Diretrizes para arquiteturas de nuvem resilientes](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx).</span><span class="sxs-lookup"><span data-stu-id="7c7af-169">[Failsafe: Guidance for Resilient Cloud Architectures](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx).</span></span> <span data-ttu-id="7c7af-170">White Paper por Marc Mercuri, Ulrich Homann e Andrew TOWNHILL.</span><span class="sxs-lookup"><span data-stu-id="7c7af-170">White paper by Marc Mercuri, Ulrich Homann, and Andrew Townhill.</span></span> <span data-ttu-id="7c7af-171">Versão da página da Web da série de vídeos FailSafe.</span><span class="sxs-lookup"><span data-stu-id="7c7af-171">Web page version of the FailSafe video series.</span></span>
- <span data-ttu-id="7c7af-172">[Práticas e padrões da Microsoft – diretrizes do Azure](https://msdn.microsoft.com/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="7c7af-172">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="7c7af-173">Consulte padrão de repetição, padrão de supervisor de agente do Agendador.</span><span class="sxs-lookup"><span data-stu-id="7c7af-173">See Retry pattern, Scheduler Agent Supervisor pattern.</span></span>
- <span data-ttu-id="7c7af-174">[Tolerância a falhas no banco de dados SQL do Azure](https://blogs.msdn.com/b/windowsazure/archive/2012/07/30/fault-tolerance-in-windows-azure-sql-database.aspx).</span><span class="sxs-lookup"><span data-stu-id="7c7af-174">[Fault-tolerance in Azure SQL Database](https://blogs.msdn.com/b/windowsazure/archive/2012/07/30/fault-tolerance-in-windows-azure-sql-database.aspx).</span></span> <span data-ttu-id="7c7af-175">Postagem do blog de Tony Petrossian.</span><span class="sxs-lookup"><span data-stu-id="7c7af-175">Blog post by Tony Petrossian.</span></span>
- <span data-ttu-id="7c7af-176">[Entity Framework-resiliência de conexão/lógica de repetição](https://msdn.microsoft.com/data/dn456835).</span><span class="sxs-lookup"><span data-stu-id="7c7af-176">[Entity Framework - Connection Resiliency / Retry Logic](https://msdn.microsoft.com/data/dn456835).</span></span> <span data-ttu-id="7c7af-177">Como usar e personalizar o recurso de tratamento de falhas transitórias do Entity Framework 6.</span><span class="sxs-lookup"><span data-stu-id="7c7af-177">How to use and customize the transient fault handling feature of Entity Framework 6.</span></span>
- <span data-ttu-id="7c7af-178">[Resiliência de conexão e interceptação de comando com o Entity Framework em um aplicativo MVC ASP.net](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md).</span><span class="sxs-lookup"><span data-stu-id="7c7af-178">[Connection Resiliency and Command Interception with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md).</span></span> <span data-ttu-id="7c7af-179">O quarto de uma série de tutoriais de nove partes, mostra como configurar o recurso de resiliência de conexão do EF 6 para o banco de dados SQL.</span><span class="sxs-lookup"><span data-stu-id="7c7af-179">Fourth in a nine-part tutorial series, shows how to set up the EF 6 connection resilience feature for SQL Database.</span></span>

<span data-ttu-id="7c7af-180">vídeos</span><span class="sxs-lookup"><span data-stu-id="7c7af-180">Videos</span></span>

- <span data-ttu-id="7c7af-181">[FailSafe: criando serviços de nuvem escalonáveis e resilientes](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="7c7af-181">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="7c7af-182">Série de nove partes de Ulrich Homann, Marc Mercuri e de Mark Simms.</span><span class="sxs-lookup"><span data-stu-id="7c7af-182">Nine-part series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="7c7af-183">Apresenta conceitos de alto nível e princípios arquitetônicos de uma maneira muito acessível e interessante, com histórias extraídas da experiência CAT (equipe de consultoria para clientes) da Microsoft com os clientes reais.</span><span class="sxs-lookup"><span data-stu-id="7c7af-183">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="7c7af-184">Consulte a discussão de disjuntores de circuito no episódio 3 a partir de 40:55.</span><span class="sxs-lookup"><span data-stu-id="7c7af-184">See the discussion of circuit breakers in episode 3 starting at 40:55.</span></span>
- <span data-ttu-id="7c7af-185">[Criando Big: lições aprendidas de clientes do Azure-parte II](https://channel9.msdn.com/Events/Build/2012/3-030).</span><span class="sxs-lookup"><span data-stu-id="7c7af-185">[Building Big: Lessons learned from Azure customers - Part II](https://channel9.msdn.com/Events/Build/2012/3-030).</span></span> <span data-ttu-id="7c7af-186">Mark Simms fala sobre o design de falhas, tratamento de falhas transitórias e instrumentação de tudo.</span><span class="sxs-lookup"><span data-stu-id="7c7af-186">Mark Simms talks about designing for failure, transient fault handling, and instrumenting everything.</span></span>

<span data-ttu-id="7c7af-187">Exemplos de código</span><span class="sxs-lookup"><span data-stu-id="7c7af-187">Code sample</span></span>

- <span data-ttu-id="7c7af-188">[Conceitos básicos do serviço de nuvem no Azure](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649).</span><span class="sxs-lookup"><span data-stu-id="7c7af-188">[Cloud Service Fundamentals in Azure](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649).</span></span> <span data-ttu-id="7c7af-189">Aplicativo de exemplo criado pelo Microsoft Azure equipe de consultoria ao cliente que demonstra como usar o TFH ( [bloco de tratamento de falhas transitórias) da Enterprise Library](http://nuget.org/packages/EnterpriseLibrary.TransientFaultHandling/) .</span><span class="sxs-lookup"><span data-stu-id="7c7af-189">Sample application created by the Microsoft Azure Customer Advisory Team that demonstrates how to use the [Enterprise Library Transient Fault Handling Block](http://nuget.org/packages/EnterpriseLibrary.TransientFaultHandling/) (TFH).</span></span> <span data-ttu-id="7c7af-190">Para saber mais, consulte [Camada de acesso a dados dos conceitos básicos do serviço de nuvem — tratamento de falhas transitórias](https://social.technet.microsoft.com/wiki/contents/articles/18665.cloud-service-fundamentals-data-access-layer-transient-fault-handling.aspx).</span><span class="sxs-lookup"><span data-stu-id="7c7af-190">For more information, see [Cloud Service Fundamentals Data Access Layer – Transient Fault Handling](https://social.technet.microsoft.com/wiki/contents/articles/18665.cloud-service-fundamentals-data-access-layer-transient-fault-handling.aspx).</span></span> <span data-ttu-id="7c7af-191">TFH é recomendado para acesso ao banco de dados usando o ADO.NET diretamente (sem usar Entity Framework).</span><span class="sxs-lookup"><span data-stu-id="7c7af-191">TFH is recommended for database access using ADO.NET directly (without using Entity Framework).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="7c7af-192">[Anterior](monitoring-and-telemetry.md)
> [Próximo](distributed-caching.md)</span><span class="sxs-lookup"><span data-stu-id="7c7af-192">[Previous](monitoring-and-telemetry.md)
[Next](distributed-caching.md)</span></span>
