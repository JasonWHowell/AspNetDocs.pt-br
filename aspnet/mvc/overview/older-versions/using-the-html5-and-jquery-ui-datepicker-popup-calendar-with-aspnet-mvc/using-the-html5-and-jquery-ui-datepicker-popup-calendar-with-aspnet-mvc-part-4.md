---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: Usando o calendário de pop-up DatePicker do HTML5 e jQuery UI com o ASP.NET MVC-parte 4 | Microsoft Docs
author: Rick-Anderson
description: Este tutorial ensinará a você noções básicas de como trabalhar com modelos do editor, modelos de exibição e o calendário de pop-up do jQuery UI DatePicker em um ASP.NET MV...
ms.author: riande
ms.date: 08/29/2011
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: 583e782641efea9a9517edb31f7718b28203d756
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78538944"
---
# <a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="5f61a-103">Usando o calendário de pop-up DatePicker do HTML5 e jQuery UI com o ASP.NET MVC-parte 4</span><span class="sxs-lookup"><span data-stu-id="5f61a-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>

<span data-ttu-id="5f61a-104">por [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="5f61a-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="5f61a-105">Este tutorial ensinará a você noções básicas de como trabalhar com modelos do editor, modelos de exibição e o calendário de pop-up do jQuery UI DatePicker em um aplicativo Web ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5f61a-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>

### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="5f61a-106">Adicionando um modelo para Editar datas</span><span class="sxs-lookup"><span data-stu-id="5f61a-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="5f61a-107">Nesta seção, você criará um modelo para Editar datas que serão aplicadas quando o ASP.NET MVC exibir a interface do usuário para editar propriedades de modelo que são marcadas com a enumeração de **Data** do atributo [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) .</span><span class="sxs-lookup"><span data-stu-id="5f61a-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attribute.</span></span> <span data-ttu-id="5f61a-108">O modelo só renderizará a data; a hora não será exibida.</span><span class="sxs-lookup"><span data-stu-id="5f61a-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="5f61a-109">No modelo, você usará o calendário de pop-up [do jQuery UI DatePicker](http://jqueryui.com/demos/datepicker/) para fornecer uma maneira de Editar datas.</span><span class="sxs-lookup"><span data-stu-id="5f61a-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="5f61a-110">Para começar, abra o arquivo *Movie.cs* e adicione o atributo [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) com a enumeração **Date** à propriedade `ReleaseDate`, conforme mostrado no código a seguir:</span><span class="sxs-lookup"><span data-stu-id="5f61a-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="5f61a-111">Esse código faz com que o campo de `ReleaseDate` seja exibido sem o tempo nos modelos de exibição e nos modelos de edição.</span><span class="sxs-lookup"><span data-stu-id="5f61a-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="5f61a-112">Se seu aplicativo contiver um modelo *Date. cshtml* na pasta *Views\Shared\EditorTemplates* ou na pasta *Views\Movies\EditorTemplates* , esse modelo será usado para renderizar qualquer propriedade `DateTime` durante a edição.</span><span class="sxs-lookup"><span data-stu-id="5f61a-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="5f61a-113">Caso contrário, o sistema de modelagem de ASP.NET interno exibirá a propriedade como uma data.</span><span class="sxs-lookup"><span data-stu-id="5f61a-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="5f61a-114">Pressione CTRL+F5 para executar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5f61a-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="5f61a-115">Selecione um link de edição para verificar se o campo de entrada para a data de lançamento está mostrando apenas a data.</span><span class="sxs-lookup"><span data-stu-id="5f61a-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="5f61a-116">Em **Gerenciador de soluções**, expanda a pasta *exibições* , expanda a pasta *compartilhada* e clique com o botão direito do mouse na pasta *Views\Shared\EditorTemplates* .</span><span class="sxs-lookup"><span data-stu-id="5f61a-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="5f61a-117">Clique em **Adicionar**e em **Exibir**.</span><span class="sxs-lookup"><span data-stu-id="5f61a-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="5f61a-118">A caixa de diálogo **Adicionar exibição** é exibida.</span><span class="sxs-lookup"><span data-stu-id="5f61a-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="5f61a-119">Na caixa **nome da exibição** , digite &quot;data&quot;.</span><span class="sxs-lookup"><span data-stu-id="5f61a-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="5f61a-120">Marque a caixa de seleção **criar como uma exibição parcial** .</span><span class="sxs-lookup"><span data-stu-id="5f61a-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="5f61a-121">Verifique se as caixas de seleção **usar um layout ou uma página mestra** e **criar uma exibição fortemente tipada** não estão marcadas.</span><span class="sxs-lookup"><span data-stu-id="5f61a-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="5f61a-122">Clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="5f61a-122">Click **Add**.</span></span> <span data-ttu-id="5f61a-123">O modelo *Views\Shared\EditorTemplates\Date.cshtml* é criado.</span><span class="sxs-lookup"><span data-stu-id="5f61a-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="5f61a-124">Adicione o código a seguir ao modelo *Views\Shared\EditorTemplates\Date.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="5f61a-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="5f61a-125">A primeira linha declara que o modelo é um tipo de `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="5f61a-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="5f61a-126">Embora você não precise declarar o tipo de modelo em modelos de edição e exibição, é uma prática recomendada para que você obtenha a verificação de tempo de compilação do modelo que está sendo passado para a exibição.</span><span class="sxs-lookup"><span data-stu-id="5f61a-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="5f61a-127">(Outro benefício é que, em seguida, você obtém o IntelliSense para o modelo na exibição no Visual Studio.) Se o tipo de modelo não for declarado, o ASP.NET MVC considerará um tipo [dinâmico](https://msdn.microsoft.com/library/dd264741.aspx) e não haverá nenhuma verificação de tipo em tempo de compilação.</span><span class="sxs-lookup"><span data-stu-id="5f61a-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="5f61a-128">Se você declarar o modelo para ser um tipo de `DateTime`, ele se tornará fortemente tipado.</span><span class="sxs-lookup"><span data-stu-id="5f61a-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="5f61a-129">A segunda linha é apenas uma marcação HTML literal que exibe &quot;usando o modelo de data&quot; antes de um campo de data.</span><span class="sxs-lookup"><span data-stu-id="5f61a-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="5f61a-130">Você usará essa linha temporariamente para verificar se esse modelo de data está sendo usado.</span><span class="sxs-lookup"><span data-stu-id="5f61a-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="5f61a-131">A próxima linha é um auxiliar [HTML. TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) que renderiza um campo `input` que é uma caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="5f61a-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="5f61a-132">O terceiro parâmetro para o auxiliar usa um tipo anônimo para definir a classe da caixa de texto como `datefield` e o tipo como `date`.</span><span class="sxs-lookup"><span data-stu-id="5f61a-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="5f61a-133">(Como `class` é um reservado no C#, você precisa usar o caractere de `@` para escapar o atributo `class` no C# analisador.)</span><span class="sxs-lookup"><span data-stu-id="5f61a-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="5f61a-134">O tipo de `date` é um tipo de entrada HTML5 que permite que os navegadores com reconhecimento de HTML5 processem um controle de calendário HTML5.</span><span class="sxs-lookup"><span data-stu-id="5f61a-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="5f61a-135">Posteriormente, você adicionará um JavaScript para conectar o jQuery DatePicker ao elemento `Html.TextBox` usando a classe `datefield`.</span><span class="sxs-lookup"><span data-stu-id="5f61a-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="5f61a-136">Pressione CTRL+F5 para executar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5f61a-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="5f61a-137">Você pode verificar se a propriedade `ReleaseDate` no modo de exibição de edição está usando o modelo de edição porque o modelo exibe &quot;usando o modelo de data&quot; logo antes da caixa de entrada de texto `ReleaseDate`, conforme mostrado nesta imagem:</span><span class="sxs-lookup"><span data-stu-id="5f61a-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="5f61a-138">No navegador, exiba a origem da página.</span><span class="sxs-lookup"><span data-stu-id="5f61a-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="5f61a-139">(Por exemplo, clique com o botão direito do mouse na página e selecione **Exibir origem**.) O exemplo a seguir mostra algumas das marcações da página, ilustrando os atributos `class` e `type` no HTML renderizado.</span><span class="sxs-lookup"><span data-stu-id="5f61a-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="5f61a-140">Retorne ao modelo *Views\Shared\EditorTemplates\Date.cshtml* e remova o &quot;usando o modelo de data&quot; marcação.</span><span class="sxs-lookup"><span data-stu-id="5f61a-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="5f61a-141">Agora, o modelo concluído tem esta aparência:</span><span class="sxs-lookup"><span data-stu-id="5f61a-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="5f61a-142">Adicionando um calendário de pop-up do jQuery UI DatePicker usando o NuGet</span><span class="sxs-lookup"><span data-stu-id="5f61a-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="5f61a-143">Nesta seção, você adicionará o calendário de pop-up [do jQuery UI DatePicker](http://jqueryui.com/demos/datepicker/) ao modelo de edição de data.</span><span class="sxs-lookup"><span data-stu-id="5f61a-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="5f61a-144">A biblioteca [da interface do usuário do jQuery](http://jqueryui.com/) fornece suporte para animação, efeitos avançados e widgets personalizáveis.</span><span class="sxs-lookup"><span data-stu-id="5f61a-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="5f61a-145">Ele é criado sobre a biblioteca JavaScript do jQuery.</span><span class="sxs-lookup"><span data-stu-id="5f61a-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="5f61a-146">O calendário pop-up DatePicker torna mais fácil e natural inserir datas usando um calendário em vez de inserir uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="5f61a-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="5f61a-147">O calendário pop-up também limita os usuários a datas legais – a entrada de texto comum para uma data permite que você insira algo como `2/33/1999` (fevereiro de 33rd, 1999), mas o calendário de pop-up [da interface do usuário do jQuery DatePicker](http://jqueryui.com/demos/datepicker/) não permitirá isso.</span><span class="sxs-lookup"><span data-stu-id="5f61a-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="5f61a-148">Primeiro, você precisa instalar as bibliotecas da interface do usuário do jQuery.</span><span class="sxs-lookup"><span data-stu-id="5f61a-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="5f61a-149">Para fazer isso, você usará o NuGet, que é um Gerenciador de pacotes incluído nas versões do SP1 do Visual Studio 2010 e do Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="5f61a-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="5f61a-150">No Visual Web Developer, no menu **ferramentas** , selecione **Gerenciador de pacotes NuGet** e, em seguida, selecione **gerenciar pacotes NuGet**.</span><span class="sxs-lookup"><span data-stu-id="5f61a-150">In Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="5f61a-151">Observação: se o menu **ferramentas** não exibir o comando **Gerenciador de pacotes NuGet** , você precisará instalar o NuGet seguindo as instruções na página [instalando o NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) do site do NuGet.</span><span class="sxs-lookup"><span data-stu-id="5f61a-151">Note: If the **Tools** menu doesn't display the **NuGet Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="5f61a-152">Se você estiver usando o Visual Studio em vez do Visual Web Developer, no menu **ferramentas** , selecione **Gerenciador de pacotes NuGet** e, em seguida, selecione **Adicionar referência de pacote de biblioteca**.</span><span class="sxs-lookup"><span data-stu-id="5f61a-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="5f61a-153">Na caixa de diálogo **MVCMovie-gerenciar pacotes NuGet** , clique na guia **online** à esquerda e, em seguida, insira &quot;jQuery. UI&quot; na caixa de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5f61a-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="5f61a-154">Selecione j **consultar widgets da interface do usuário: DatePicker**e, em seguida, selecione o botão **instalar** .</span><span class="sxs-lookup"><span data-stu-id="5f61a-154">Select j **Query UI Widgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="5f61a-155">O NuGet adiciona essas versões de depuração e versões reduzidos do jQuery UI Core e o seletor de data da interface do usuário do jQuery ao seu projeto:</span><span class="sxs-lookup"><span data-stu-id="5f61a-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- <span data-ttu-id="5f61a-156">*jQuery. UI. Core. js*</span><span class="sxs-lookup"><span data-stu-id="5f61a-156">*jquery.ui.core.js*</span></span>
- <span data-ttu-id="5f61a-157">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="5f61a-157">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="5f61a-158">*jQuery. UI. DatePicker. js*</span><span class="sxs-lookup"><span data-stu-id="5f61a-158">*jquery.ui.datepicker.js*</span></span>
- <span data-ttu-id="5f61a-159">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="5f61a-159">*jquery.ui.datepicker.min.js*</span></span>

<span data-ttu-id="5f61a-160">Observação: as versões de depuração (os arquivos sem a extensão *. min. js* ) são úteis para depuração, mas em um site de produção, você incluiria apenas as versões reduzidos.</span><span class="sxs-lookup"><span data-stu-id="5f61a-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="5f61a-161">Para realmente usar o seletor de data do jQuery, você precisa criar um script jQuery que conectará o widget calendário ao modelo de edição.</span><span class="sxs-lookup"><span data-stu-id="5f61a-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="5f61a-162">Em **Gerenciador de soluções**, clique com o botão direito do mouse na pasta *scripts* e selecione **Adicionar**, **novo item**e, em seguida, **arquivo JScript**.</span><span class="sxs-lookup"><span data-stu-id="5f61a-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="5f61a-163">Nomeie o arquivo *DatePickerReady. js*.</span><span class="sxs-lookup"><span data-stu-id="5f61a-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="5f61a-164">Adicione o seguinte código ao arquivo *DatePickerReady. js* :</span><span class="sxs-lookup"><span data-stu-id="5f61a-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="5f61a-165">Se você não estiver familiarizado com o jQuery, aqui está uma breve explicação do que isso faz: a primeira linha é a função &quot;jQuery Ready&quot;, que é chamada quando todos os elementos DOM em uma página são carregados.</span><span class="sxs-lookup"><span data-stu-id="5f61a-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="5f61a-166">A segunda linha seleciona todos os elementos DOM que têm o nome de classe `datefield`e, em seguida, invoca a função `datepicker` para cada um deles.</span><span class="sxs-lookup"><span data-stu-id="5f61a-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="5f61a-167">(Lembre-se de que você adicionou a classe `datefield` ao modelo *Views\Shared\EditorTemplates\Date.cshtml* anteriormente no tutorial.)</span><span class="sxs-lookup"><span data-stu-id="5f61a-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="5f61a-168">Em seguida, abra o arquivo *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="5f61a-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="5f61a-169">Você precisa adicionar referências aos seguintes arquivos, que são necessários para que você possa usar o seletor de data:</span><span class="sxs-lookup"><span data-stu-id="5f61a-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- <span data-ttu-id="5f61a-170">*Content/themes/base/jQuery. UI. Core. css*</span><span class="sxs-lookup"><span data-stu-id="5f61a-170">*Content/themes/base/jquery.ui.core.css*</span></span>
- <span data-ttu-id="5f61a-171">*Content/themes/base/jQuery. UI. DatePicker. css*</span><span class="sxs-lookup"><span data-stu-id="5f61a-171">*Content/themes/base/jquery.ui.datepicker.css*</span></span>
- <span data-ttu-id="5f61a-172">*Content/themes/base/jQuery. UI. Theme. css*</span><span class="sxs-lookup"><span data-stu-id="5f61a-172">*Content/themes/base/jquery.ui.theme.css*</span></span>
- <span data-ttu-id="5f61a-173">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="5f61a-173">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="5f61a-174">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="5f61a-174">*jquery.ui.datepicker.min.js*</span></span>
- <span data-ttu-id="5f61a-175">*DatePickerReady. js*</span><span class="sxs-lookup"><span data-stu-id="5f61a-175">*DatePickerReady.js*</span></span>

<span data-ttu-id="5f61a-176">O exemplo a seguir mostra o código real que você deve adicionar na parte inferior do elemento `head` no arquivo *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="5f61a-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="5f61a-177">A seção `head` completa é mostrada aqui:</span><span class="sxs-lookup"><span data-stu-id="5f61a-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="5f61a-178">O método [auxiliar de conteúdo de URL](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) converte o caminho de recurso em um caminho absoluto.</span><span class="sxs-lookup"><span data-stu-id="5f61a-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="5f61a-179">Você deve usar `@URL.Content` para referenciar corretamente esses recursos quando o aplicativo estiver em execução no IIS.</span><span class="sxs-lookup"><span data-stu-id="5f61a-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="5f61a-180">Pressione CTRL+F5 para executar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5f61a-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="5f61a-181">Selecione um link de edição e, em seguida, coloque o ponto de inserção no campo **liberado** .</span><span class="sxs-lookup"><span data-stu-id="5f61a-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="5f61a-182">O calendário de pop-up da interface do usuário do jQuery é exibido.</span><span class="sxs-lookup"><span data-stu-id="5f61a-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="5f61a-183">Como a maioria dos controles jQuery, o DatePicker permite personalizá-lo extensivamente.</span><span class="sxs-lookup"><span data-stu-id="5f61a-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="5f61a-184">Para obter informações, consulte [personalização visual: Criando um tema da interface do usuário do jQuery](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) no site [da interface do usuário do jQuery](http://learn.jquery.com/jquery-ui/getting-started/) .</span><span class="sxs-lookup"><span data-stu-id="5f61a-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="5f61a-185">Suporte ao controle de entrada de data do HTML5</span><span class="sxs-lookup"><span data-stu-id="5f61a-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="5f61a-186">À medida que mais navegadores dão suporte a HTML5, você desejará usar a entrada do HTML5 nativo, como o `date` elemento de entrada e não usar o calendário da interface do usuário do jQuery.</span><span class="sxs-lookup"><span data-stu-id="5f61a-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="5f61a-187">Você pode adicionar lógica ao seu aplicativo para usar automaticamente os controles HTML5 se o navegador oferecer suporte a eles.</span><span class="sxs-lookup"><span data-stu-id="5f61a-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="5f61a-188">Para fazer isso, substitua o conteúdo do arquivo *DatePickerReady. js* pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="5f61a-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="5f61a-189">A primeira linha desse script usa o Modernizr para verificar se há suporte para a entrada de data do HTML5.</span><span class="sxs-lookup"><span data-stu-id="5f61a-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="5f61a-190">Se não houver suporte, o seletor de data da interface do usuário do jQuery será conectado em vez disso.</span><span class="sxs-lookup"><span data-stu-id="5f61a-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="5f61a-191">(O[Modernizr](http://www.modernizr.com/docs/) é uma biblioteca JavaScript de código aberto que detecta a disponibilidade de implementações nativas do HTML5 e do CSS3.</span><span class="sxs-lookup"><span data-stu-id="5f61a-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="5f61a-192">O Modernizr está incluído em quaisquer novos projetos do ASP.NET MVC que você criar.)</span><span class="sxs-lookup"><span data-stu-id="5f61a-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="5f61a-193">Depois de fazer essa alteração, você pode testá-la usando um navegador que dá suporte a HTML5, como o Opera 11.</span><span class="sxs-lookup"><span data-stu-id="5f61a-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="5f61a-194">Execute o aplicativo usando um navegador compatível com o HTML5 e edite uma entrada de filme.</span><span class="sxs-lookup"><span data-stu-id="5f61a-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="5f61a-195">O controle de data do HTML5 é usado em vez do calendário de pop-up da interface do usuário do jQuery:</span><span class="sxs-lookup"><span data-stu-id="5f61a-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="5f61a-196">Como as novas versões dos navegadores estão implementando o HTML5 de forma incremental, uma boa abordagem para agora é adicionar código ao seu site que acomoda uma ampla variedade de suporte a HTML5.</span><span class="sxs-lookup"><span data-stu-id="5f61a-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="5f61a-197">Por exemplo, um script *DatePickerReady. js* mais robusto é mostrado abaixo, permitindo que o site ofereça suporte a navegadores que só dão suporte parcial ao controle de data do HTML5.</span><span class="sxs-lookup"><span data-stu-id="5f61a-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="5f61a-198">Esse script seleciona elementos HTML5 `input` do tipo `date` que não dão suporte completo ao controle de data do HTML5.</span><span class="sxs-lookup"><span data-stu-id="5f61a-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="5f61a-199">Para esses elementos, ele conecta o calendário de Popup da interface do usuário do jQuery e, em seguida, altera o atributo `type` de `date` para `text`.</span><span class="sxs-lookup"><span data-stu-id="5f61a-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="5f61a-200">Ao alterar o atributo `type` de `date` para `text`, o suporte parcial a datas do HTML5 é eliminado.</span><span class="sxs-lookup"><span data-stu-id="5f61a-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="5f61a-201">Um script *DatePickerReady. js* ainda mais robusto pode ser encontrado em [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="5f61a-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="5f61a-202">Adicionando datas anuláveis aos modelos</span><span class="sxs-lookup"><span data-stu-id="5f61a-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="5f61a-203">Se você usar um dos modelos de data existentes e passar uma data nula, obterá um erro em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="5f61a-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="5f61a-204">Para tornar os modelos de data mais robustos, você os alterará para manipular valores nulos.</span><span class="sxs-lookup"><span data-stu-id="5f61a-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="5f61a-205">Para dar suporte a datas anuláveis, altere o código no *Views\Shared\DisplayTemplates\DateTime.cshtml* para o seguinte:</span><span class="sxs-lookup"><span data-stu-id="5f61a-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="5f61a-206">O código retorna uma cadeia de caracteres vazia quando o modelo é **nulo**.</span><span class="sxs-lookup"><span data-stu-id="5f61a-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="5f61a-207">Altere o código no arquivo *Views\Shared\EditorTemplates\Date.cshtml* para o seguinte:</span><span class="sxs-lookup"><span data-stu-id="5f61a-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="5f61a-208">Quando esse código é executado, se o modelo não for nulo, o valor de `DateTime` do modelo será usado.</span><span class="sxs-lookup"><span data-stu-id="5f61a-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="5f61a-209">Se o modelo for nulo, a data atual será usada em seu lugar.</span><span class="sxs-lookup"><span data-stu-id="5f61a-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="5f61a-210">Wrapup</span><span class="sxs-lookup"><span data-stu-id="5f61a-210">Wrapup</span></span>

<span data-ttu-id="5f61a-211">Este tutorial abordou os conceitos básicos dos auxiliares do ASP.NET templateed e mostra como usar o calendário de pop-up do jQuery UI DatePicker em um aplicativo MVC do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5f61a-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="5f61a-212">Para obter mais informações, Experimente estes recursos:</span><span class="sxs-lookup"><span data-stu-id="5f61a-212">For more information, try these resources:</span></span>

- <span data-ttu-id="5f61a-213">Para obter informações sobre localização, consulte blog do Rajeesh [JQueryUI DatePicker no ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="5f61a-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="5f61a-214">Para obter informações sobre a interface do usuário do jQuery, consulte [jQuery UI](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="5f61a-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="5f61a-215">Para obter informações sobre como localizar o controle DatePicker, consulte [UI/DatePicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="5f61a-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="5f61a-216">Para obter mais informações sobre os modelos ASP.NET MVC, consulte a série de Blogs de Brad Wilson em [modelos do ASP.NET MVC 2](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="5f61a-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="5f61a-217">Embora a série tenha sido escrita para o ASP.NET MVC 2, o material ainda se aplica à versão atual do ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5f61a-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="5f61a-218">Anterior</span><span class="sxs-lookup"><span data-stu-id="5f61a-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)
