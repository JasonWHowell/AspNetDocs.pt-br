---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
title: Configurando um servidor de banco de dados para publicação de Implantação da Web | Microsoft Docs
author: jrjlee
description: Este tópico descreve como configurar um servidor de banco de dados SQL Server 2008 R2 para dar suporte à implantação e à publicação na Web. As tarefas descritas neste tópico são co...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: e7c447f9-eddf-4bbe-9f18-3326d965d093
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
msc.type: authoredcontent
ms.openlocfilehash: ade3c1ba1c470092f512436f39b8831458408c2c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78634613"
---
# <a name="configuring-a-database-server-for-web-deploy-publishing"></a><span data-ttu-id="f46dd-104">Configuração de um servidor de banco de dados para publicação de Implantação da Web</span><span class="sxs-lookup"><span data-stu-id="f46dd-104">Configuring a Database Server for Web Deploy Publishing</span></span>

<span data-ttu-id="f46dd-105">por [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="f46dd-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="f46dd-106">Baixar PDF</span><span class="sxs-lookup"><span data-stu-id="f46dd-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="f46dd-107">Este tópico descreve como configurar um servidor de banco de dados SQL Server 2008 R2 para dar suporte à implantação e à publicação na Web.</span><span class="sxs-lookup"><span data-stu-id="f46dd-107">This topic describes how to configure a SQL Server 2008 R2 database server to support web deployment and publishing.</span></span>
> 
> <span data-ttu-id="f46dd-108">As tarefas descritas neste tópico são comuns a cada cenário&#x2014;de implantação, não importa se os servidores Web estão configurados para usar o serviço de agente remoto da ferramenta de implantação da Web do IIS (implantação da Web), o manipulador de implantação da Web ou a implantação offline ou se o aplicativo está sendo executado em um único servidor Web ou em um farm de servidores.</span><span class="sxs-lookup"><span data-stu-id="f46dd-108">The tasks described in this topic are common to every deployment scenario&#x2014;it doesn't matter whether your web servers are configured to use the IIS Web Deployment Tool (Web Deploy) Remote Agent Service, the Web Deploy Handler, or offline deployment or your application is running on a single web server or a server farm.</span></span> <span data-ttu-id="f46dd-109">A maneira como você implanta o banco de dados pode mudar de acordo com os requisitos de segurança e outras considerações.</span><span class="sxs-lookup"><span data-stu-id="f46dd-109">The way you deploy the database may change according to security requirements and other considerations.</span></span> <span data-ttu-id="f46dd-110">Por exemplo, você pode implantar o banco de dados com ou sem um exemplo de dado, e você pode implantar mapeamentos de função de usuário ou configurá-los manualmente após a implantação.</span><span class="sxs-lookup"><span data-stu-id="f46dd-110">For example, you might deploy the database with or without sample data, and you might deploy user role mappings or configure them manually after deployment.</span></span> <span data-ttu-id="f46dd-111">No entanto, a maneira como você configura o servidor de banco de dados permanece a mesma.</span><span class="sxs-lookup"><span data-stu-id="f46dd-111">However, the way you configure the database server remains the same.</span></span>

<span data-ttu-id="f46dd-112">Você não precisa instalar nenhum produto ou ferramenta adicional para configurar um servidor de banco de dados para dar suporte à implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="f46dd-112">You don't have to install any additional products or tools to configuring a database server to support web deployment.</span></span> <span data-ttu-id="f46dd-113">Supondo que o servidor de banco de dados e o servidor Web sejam executados em computadores diferentes, você simplesmente precisa:</span><span class="sxs-lookup"><span data-stu-id="f46dd-113">Assuming that your database server and your web server run on different machines, you simply need to:</span></span>

- <span data-ttu-id="f46dd-114">Permitir que SQL Server se comunique usando TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="f46dd-114">Permit SQL Server to communicate using TCP/IP.</span></span>
- <span data-ttu-id="f46dd-115">Permitir tráfego de SQL Server por meio de firewalls.</span><span class="sxs-lookup"><span data-stu-id="f46dd-115">Allow SQL Server traffic through any firewalls.</span></span>
- <span data-ttu-id="f46dd-116">Forneça à conta da máquina do servidor Web um logon SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f46dd-116">Give the web server machine account a SQL Server login.</span></span>
- <span data-ttu-id="f46dd-117">Mapeie o logon da conta do computador para qualquer função de banco de dados necessária.</span><span class="sxs-lookup"><span data-stu-id="f46dd-117">Map the machine account login to any required database roles.</span></span>
- <span data-ttu-id="f46dd-118">Forneça à conta que executará a implantação uma SQL Server permissões de logon e criador de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="f46dd-118">Give the account that will run the deployment a SQL Server login and database creator permissions.</span></span>
- <span data-ttu-id="f46dd-119">Para dar suporte a implantações repetidas, mapeie o logon da conta de implantação para o **bd\_** função de banco de dados proprietário.</span><span class="sxs-lookup"><span data-stu-id="f46dd-119">To support repeat deployments, map the deployment account login to the **db\_owner** database role.</span></span>

<span data-ttu-id="f46dd-120">Este tópico mostrará como executar cada um desses procedimentos.</span><span class="sxs-lookup"><span data-stu-id="f46dd-120">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="f46dd-121">As tarefas e orientações neste tópico pressupõem que você está começando com uma instância padrão do SQL Server 2008 R2 em execução no Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="f46dd-121">The tasks and walkthroughs in this topic assume that you're starting with a default instance of SQL Server 2008 R2 running on Windows Server 2008 R2.</span></span> <span data-ttu-id="f46dd-122">Antes de continuar, verifique se:</span><span class="sxs-lookup"><span data-stu-id="f46dd-122">Before you continue, ensure that:</span></span>

- <span data-ttu-id="f46dd-123">O Windows Server 2008 R2 Service Pack 1 e todas as atualizações disponíveis estão instaladas.</span><span class="sxs-lookup"><span data-stu-id="f46dd-123">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="f46dd-124">O servidor está ingressado no domínio.</span><span class="sxs-lookup"><span data-stu-id="f46dd-124">The server is domain-joined.</span></span>
- <span data-ttu-id="f46dd-125">O servidor tem um endereço IP estático.</span><span class="sxs-lookup"><span data-stu-id="f46dd-125">The server has a static IP address.</span></span>
- <span data-ttu-id="f46dd-126">SQL Server 2008 R2 Service Pack 1 e todas as atualizações disponíveis estão instaladas.</span><span class="sxs-lookup"><span data-stu-id="f46dd-126">SQL Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>

<span data-ttu-id="f46dd-127">A instância de SQL Server só precisa incluir a função **serviços de mecanismo de banco de dados** , que é incluída automaticamente em qualquer instalação do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f46dd-127">The SQL Server instance only needs to include the **Database Engine Services** role, which is included automatically in any SQL Server installation.</span></span> <span data-ttu-id="f46dd-128">No entanto, para facilitar a configuração e a manutenção, recomendamos que você inclua as **ferramentas de gerenciamento – básicas** e **ferramentas de gerenciamento –** funções de servidor completas.</span><span class="sxs-lookup"><span data-stu-id="f46dd-128">However, for ease of configuration and maintenance, we recommend that you include the **Management Tools – Basic** and **Management Tools – Complete** server roles.</span></span>

> [!NOTE]
> <span data-ttu-id="f46dd-129">Para obter mais informações sobre como unir computadores a um domínio, consulte [unindo computadores ao domínio e fazendo logon](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="f46dd-129">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="f46dd-130">Para obter mais informações sobre como configurar endereços IP estáticos, consulte [configurar um endereço IP estático](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="f46dd-130">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="f46dd-131">Para obter mais informações sobre como instalar o SQL Server, consulte [instalando o SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span><span class="sxs-lookup"><span data-stu-id="f46dd-131">For more information on installing SQL Server, see [Installing SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span></span>

## <a name="enable-remote-access-to-sql-server"></a><span data-ttu-id="f46dd-132">Habilitar o acesso remoto para SQL Server</span><span class="sxs-lookup"><span data-stu-id="f46dd-132">Enable Remote Access to SQL Server</span></span>

<span data-ttu-id="f46dd-133">SQL Server usa TCP/IP para se comunicar com computadores remotos.</span><span class="sxs-lookup"><span data-stu-id="f46dd-133">SQL Server uses TCP/IP to communicate with remote computers.</span></span> <span data-ttu-id="f46dd-134">Se o servidor de banco de dados e o servidor Web estiverem em computadores diferentes, você precisará:</span><span class="sxs-lookup"><span data-stu-id="f46dd-134">If your database server and your web server are on different machines, you need to:</span></span>

- <span data-ttu-id="f46dd-135">Defina SQL Server configurações de rede para permitir a comunicação por TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="f46dd-135">Configure SQL Server networking settings to allow communication over TCP/IP.</span></span>
- <span data-ttu-id="f46dd-136">Configure qualquer firewall de hardware ou software para permitir o tráfego TCP (e, em alguns casos, o tráfego UDP) nas portas que a instância de SQL Server usa.</span><span class="sxs-lookup"><span data-stu-id="f46dd-136">Configure any hardware or software firewalls to allow TCP traffic (and in some cases User Datagram Protocol (UDP) traffic) on the ports that the SQL Server instance uses.</span></span>

<span data-ttu-id="f46dd-137">Para permitir que SQL Server se comuniquem por TCP/IP, use SQL Server Configuration Manager para alterar a configuração de rede para sua instância de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f46dd-137">To enable SQL Server to communicate over TCP/IP, use SQL Server Configuration Manager to change the network configuration for your SQL Server instance.</span></span>

<span data-ttu-id="f46dd-138">**Para permitir que SQL Server se comunique usando TCP/IP**</span><span class="sxs-lookup"><span data-stu-id="f46dd-138">**To enable SQL Server to communicate using TCP/IP**</span></span>

1. <span data-ttu-id="f46dd-139">No menu **Iniciar** , aponte para **todos os programas**, clique **em Microsoft SQL Server 2008 R2**, clique em **ferramentas de configuração**e, em seguida, clique em **SQL Server Configuration Manager**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-139">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, click **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="f46dd-140">No painel exibição de árvore, expanda **SQL Server configuração de rede**e clique em **protocolos para MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-140">In the tree view pane, expand **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="f46dd-141">Se você tiver instalado várias instâncias do SQL Server, verá um <strong>protocolo para</strong>o item<em>[nome da instância]</em> para cada instância.</span><span class="sxs-lookup"><span data-stu-id="f46dd-141">If you have installed multiple instances of SQL Server, you'll see a <strong>Protocols for</strong><em>[instance name]</em> item for each instance.</span></span> <span data-ttu-id="f46dd-142">Você precisa definir as configurações de rede em uma base de instância por instância.</span><span class="sxs-lookup"><span data-stu-id="f46dd-142">You need to configure network settings on an instance-by-instance basis.</span></span>
3. <span data-ttu-id="f46dd-143">No painel de detalhes, clique com o botão direito do mouse na linha **TCP/IP** e clique em **habilitar**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-143">In the details pane, right-click the **TCP/IP** row, and then click **Enable**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image1.png)
4. <span data-ttu-id="f46dd-144">Na caixa de diálogo de **aviso** , clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-144">In the **Warning** dialog box, click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image2.png)
5. <span data-ttu-id="f46dd-145">Você precisa reiniciar o serviço MSSQLSERVER antes de sua nova configuração de rede entrar em vigor.</span><span class="sxs-lookup"><span data-stu-id="f46dd-145">You need to restart the MSSQLSERVER service before your new network configuration will take effect.</span></span> <span data-ttu-id="f46dd-146">Você pode fazer isso em um prompt de comando, no console de serviços ou em SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="f46dd-146">You can do that at a command prompt, from the Services console, or from SQL Server Management Studio.</span></span> <span data-ttu-id="f46dd-147">Neste procedimento, você usará SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="f46dd-147">In this procedure, you'll use SQL Server Management Studio.</span></span>
6. <span data-ttu-id="f46dd-148">Feche o SQL Server Configuration Manager.</span><span class="sxs-lookup"><span data-stu-id="f46dd-148">Close SQL Server Configuration Manager.</span></span>
7. <span data-ttu-id="f46dd-149">No menu **Iniciar** , aponte para **todos os programas**, clique em **Microsoft SQL Server 2008 R2**e, em seguida, clique em **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-149">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
8. <span data-ttu-id="f46dd-150">Na caixa de diálogo **conectar ao servidor** , na caixa **nome do servidor** , digite o nome do servidor de banco de dados e clique em **conectar**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-150">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image3.png)
9. <span data-ttu-id="f46dd-151">No painel Pesquisador de **objetos** , clique com o botão direito do mouse no nó do servidor pai (por exemplo, **TESTDB1**) e clique em **reiniciar**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-151">In the **Object Explorer** pane, right-click the parent server node (for example, **TESTDB1**), and then click **Restart**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image4.png)
10. <span data-ttu-id="f46dd-152">Na caixa de diálogo **Microsoft SQL Server Management Studio** , clique em **Sim**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-152">In the **Microsoft SQL Server Management Studio** dialog box, click **Yes**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image5.png)
11. <span data-ttu-id="f46dd-153">Quando o serviço for reiniciado, feche SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="f46dd-153">When the service has restarted, close SQL Server Management Studio.</span></span>

<span data-ttu-id="f46dd-154">Para permitir o tráfego de SQL Server por meio de um firewall, primeiro você precisa saber quais portas sua instância de SQL Server está usando.</span><span class="sxs-lookup"><span data-stu-id="f46dd-154">To allow SQL Server traffic through a firewall, you first need to know which ports your SQL Server instance is using.</span></span> <span data-ttu-id="f46dd-155">Isso dependerá de como a instância de SQL Server foi criada e configurada:</span><span class="sxs-lookup"><span data-stu-id="f46dd-155">This will depend on how the SQL Server instance was created and configured:</span></span>

- <span data-ttu-id="f46dd-156">Uma *instância padrão* do SQL Server ouve (e responde a) solicitações na porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="f46dd-156">A *default instance* of SQL Server listens for (and responds to) requests on TCP port 1433.</span></span>
- <span data-ttu-id="f46dd-157">Uma *instância nomeada* do SQL Server ouve (e responde a) solicitações em uma porta TCP atribuída dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="f46dd-157">A *named instance* of SQL Server listens for (and responds to) requests on a dynamically assigned TCP port.</span></span>
- <span data-ttu-id="f46dd-158">Se o serviço de SQL Server Browser estiver habilitado, os clientes poderão consultar o serviço na porta UDP 1434 para descobrir qual porta TCP usar para uma instância de SQL Server específica.</span><span class="sxs-lookup"><span data-stu-id="f46dd-158">If the SQL Server Browser service is enabled, clients can query the service on UDP port 1434 to find out which TCP port to use for a particular SQL Server instance.</span></span> <span data-ttu-id="f46dd-159">No entanto, esse serviço geralmente é desabilitado por motivos de segurança.</span><span class="sxs-lookup"><span data-stu-id="f46dd-159">However, this service is often disabled for security reasons.</span></span>

<span data-ttu-id="f46dd-160">Supondo que você esteja usando uma instância padrão do SQL Server, você precisa configurar o firewall para permitir o tráfego.</span><span class="sxs-lookup"><span data-stu-id="f46dd-160">Assuming that you're using a default instance of SQL Server, you need to configure your firewall to allow traffic.</span></span>

| <span data-ttu-id="f46dd-161">Direção</span><span class="sxs-lookup"><span data-stu-id="f46dd-161">Direction</span></span> | <span data-ttu-id="f46dd-162">Da porta</span><span class="sxs-lookup"><span data-stu-id="f46dd-162">From Port</span></span> | <span data-ttu-id="f46dd-163">Para porta</span><span class="sxs-lookup"><span data-stu-id="f46dd-163">To Port</span></span> | <span data-ttu-id="f46dd-164">Tipo de Porta</span><span class="sxs-lookup"><span data-stu-id="f46dd-164">Port Type</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f46dd-165">Entrada</span><span class="sxs-lookup"><span data-stu-id="f46dd-165">Inbound</span></span> | <span data-ttu-id="f46dd-166">Qualquer</span><span class="sxs-lookup"><span data-stu-id="f46dd-166">Any</span></span> | <span data-ttu-id="f46dd-167">1433</span><span class="sxs-lookup"><span data-stu-id="f46dd-167">1433</span></span> | <span data-ttu-id="f46dd-168">TCP</span><span class="sxs-lookup"><span data-stu-id="f46dd-168">TCP</span></span> |
| <span data-ttu-id="f46dd-169">Saída</span><span class="sxs-lookup"><span data-stu-id="f46dd-169">Outbound</span></span> | <span data-ttu-id="f46dd-170">1433</span><span class="sxs-lookup"><span data-stu-id="f46dd-170">1433</span></span> | <span data-ttu-id="f46dd-171">Qualquer</span><span class="sxs-lookup"><span data-stu-id="f46dd-171">Any</span></span> | <span data-ttu-id="f46dd-172">TCP</span><span class="sxs-lookup"><span data-stu-id="f46dd-172">TCP</span></span> |

> [!NOTE]
> <span data-ttu-id="f46dd-173">Tecnicamente, um computador cliente usará uma porta TCP atribuída aleatoriamente entre 1024 e 5000 para se comunicar com SQL Server, e você poderá restringir suas regras de firewall de acordo.</span><span class="sxs-lookup"><span data-stu-id="f46dd-173">Technically, a client computer will use a randomly assigned TCP port between 1024 and 5000 to communicate with SQL Server, and you can restrict your firewall rules accordingly.</span></span> <span data-ttu-id="f46dd-174">Para obter mais informações sobre SQL Server portas e firewalls, consulte [números de porta TCP/IP necessários para se comunicar com o SQL por meio de um firewall](https://go.microsoft.com/?linkid=9805125) e [como configurar um servidor para escutar em uma porta TCP específica (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span><span class="sxs-lookup"><span data-stu-id="f46dd-174">For more information on SQL Server ports and firewalls, see [TCP/IP port numbers required to communicate to SQL over a firewall](https://go.microsoft.com/?linkid=9805125) and [How to: Configure a Server to Listen on a Specific TCP Port (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span></span>

<span data-ttu-id="f46dd-175">Na maioria dos ambientes do Windows Server, você provavelmente precisará configurar o Firewall do Windows no servidor de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="f46dd-175">In most Windows Server environments, you'll likely have to configure Windows Firewall on the database server.</span></span> <span data-ttu-id="f46dd-176">Por padrão, o Firewall do Windows permite todo o tráfego de saída, a menos que uma regra o proíba especificamente.</span><span class="sxs-lookup"><span data-stu-id="f46dd-176">By default, Windows Firewall allows all outbound traffic unless a rule specifically prohibits it.</span></span> <span data-ttu-id="f46dd-177">Para permitir que o servidor Web alcance seu banco de dados, você precisa configurar uma regra de entrada que permita o tráfego TCP no número da porta que a instância de SQL Server usa.</span><span class="sxs-lookup"><span data-stu-id="f46dd-177">To enable your web server to reach your database, you need to configure an inbound rule that allows TCP traffic on the port number that the SQL Server instance uses.</span></span> <span data-ttu-id="f46dd-178">Se você estiver usando uma instância padrão do SQL Server, poderá usar o procedimento a seguir para configurar essa regra.</span><span class="sxs-lookup"><span data-stu-id="f46dd-178">If you're using a default instance of SQL Server, you can use the next procedure to configure this rule.</span></span>

<span data-ttu-id="f46dd-179">**Para configurar o Firewall do Windows para permitir a comunicação com uma instância de SQL Server padrão**</span><span class="sxs-lookup"><span data-stu-id="f46dd-179">**To configure Windows Firewall to allow communication with a default SQL Server instance**</span></span>

1. <span data-ttu-id="f46dd-180">No servidor de banco de dados, no menu **Iniciar** , aponte para **Ferramentas administrativas**e clique em **Firewall do Windows com segurança avançada**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-180">On the database server, on the **Start** menu, point to **Administrative Tools**, and then click **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="f46dd-181">No painel exibição de árvore, clique em **regras de entrada**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-181">In the tree view pane, click **Inbound Rules**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image6.png)
3. <span data-ttu-id="f46dd-182">No painel **ações** , em **regras de entrada**, clique em **nova regra**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-182">In the **Actions** pane, under **Inbound Rules**, click **New Rule**.</span></span>
4. <span data-ttu-id="f46dd-183">No Assistente para nova regra de entrada, na página **tipo de regra** , selecione **porta**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-183">In the New Inbound Rule Wizard, on the **Rule Type** page, select **Port**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image7.png)
5. <span data-ttu-id="f46dd-184">Na página **protocolo e portas** , verifique se **TCP** está selecionado e, na caixa **portas locais específicas** , digite **1433**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-184">On the **Protocol and Ports** page, ensure that **TCP** is selected, and in the **Specific local ports** box, type **1433**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image8.png)
6. <span data-ttu-id="f46dd-185">Na página **ação** , deixe **permitir a conexão** selecionada e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-185">On the **Action** page, leave **Allow the connection** selected and click **Next**.</span></span>
7. <span data-ttu-id="f46dd-186">Na página **perfil** , deixe **domínio** selecionado, desmarque as caixas de seleção **privado** e **público** e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-186">On the **Profile** page, leave **Domain** selected, clear the **Private** and **Public** check boxes, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image9.png)
8. <span data-ttu-id="f46dd-187">Na página **nome** , dê ao regra um nome descritivo adequado (por exemplo, **SQL Server instância padrão – acesso à rede**) e clique em **concluir**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-187">On the **Name** page, give the rule a suitably descriptive name (for example, **SQL Server default instance – network access**), and then click **Finish**.</span></span>

<span data-ttu-id="f46dd-188">Para obter mais informações sobre como configurar o Firewall do Windows para SQL Server, especialmente se você precisar se comunicar com SQL Server por meio de portas não padrão ou dinâmicas, consulte [como configurar um firewall do Windows para acesso ao mecanismo de banco de dados](https://technet.microsoft.com/library/ms175043.aspx).</span><span class="sxs-lookup"><span data-stu-id="f46dd-188">For more information on configuring Windows Firewall for SQL Server, particularly if you need to communicate with SQL Server over non-standard or dynamic ports, see [How to: Configure a Windows Firewall for Database Engine Access](https://technet.microsoft.com/library/ms175043.aspx).</span></span>

## <a name="configure-logins-and-database-permissions"></a><span data-ttu-id="f46dd-189">Configurar logons e permissões de banco de dados</span><span class="sxs-lookup"><span data-stu-id="f46dd-189">Configure Logins and Database Permissions</span></span>

<span data-ttu-id="f46dd-190">Quando você implanta um aplicativo Web no Serviços de Informações da Internet (IIS), o aplicativo é executado usando a identidade do pool de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="f46dd-190">When you deploy a web application to Internet Information Services (IIS), the application runs using the identity of the application pool.</span></span> <span data-ttu-id="f46dd-191">Em um ambiente de domínio, as identidades do pool de aplicativos usam a conta da máquina do servidor no qual elas são executadas para acessar os recursos da rede.</span><span class="sxs-lookup"><span data-stu-id="f46dd-191">In a domain environment, application pool identities use the machine account of the server on which they run to access network resources.</span></span> <span data-ttu-id="f46dd-192">As contas de computador usam o formato <em>[nome de domínio]</em><strong>\</strong ><em>[nome da máquina]</em> <strong>$</strong> &#x2014;por exemplo, <strong>FABRIKAM\TESTWEB1 $</strong>.</span><span class="sxs-lookup"><span data-stu-id="f46dd-192">Machine accounts take the form <em>[domain name]</em><strong>\</strong><em>[machine name]</em><strong>$</strong>&#x2014;for example, <strong>FABRIKAM\TESTWEB1$</strong>.</span></span> <span data-ttu-id="f46dd-193">Para permitir que seu aplicativo Web acesse um banco de dados pela rede, você precisa:</span><span class="sxs-lookup"><span data-stu-id="f46dd-193">To allow your web application to access a database across the network, you need to:</span></span>

- <span data-ttu-id="f46dd-194">Adicione um logon para a conta do computador do servidor Web à instância de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f46dd-194">Add a login for the web server machine account to the SQL Server instance.</span></span>
- <span data-ttu-id="f46dd-195">Mapeie o logon da conta da máquina para qualquer função de banco de dados necessária (normalmente, o **bd\_DataReader** e o **DB\_DataWriter**).</span><span class="sxs-lookup"><span data-stu-id="f46dd-195">Map the machine account login to any required database roles (typically **db\_datareader** and **db\_datawriter**).</span></span>

<span data-ttu-id="f46dd-196">Se seu aplicativo Web estiver em execução em um farm de servidores, em vez de em um único servidor, você precisará repetir esses procedimentos para cada servidor Web no farm de servidores.</span><span class="sxs-lookup"><span data-stu-id="f46dd-196">If your web application is running on a server farm, rather than a single server, you'll need to repeat these procedures for every web server in the server farm.</span></span>

> [!NOTE]
> <span data-ttu-id="f46dd-197">Para obter mais informações sobre identidades de pool de aplicativos e acesso a recursos de rede, consulte [identidades do pool de aplicativos](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="f46dd-197">For more information on application pool identities and accessing network resources, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>

<span data-ttu-id="f46dd-198">Você pode abordar essas tarefas de várias maneiras.</span><span class="sxs-lookup"><span data-stu-id="f46dd-198">You can approach these tasks in various ways.</span></span> <span data-ttu-id="f46dd-199">Para criar o logon, você pode:</span><span class="sxs-lookup"><span data-stu-id="f46dd-199">To create the login, you can either:</span></span>

- <span data-ttu-id="f46dd-200">Crie o logon manualmente no servidor de banco de dados, usando Transact-SQL ou SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="f46dd-200">Create the login manually on the database server, using Transact-SQL or SQL Server Management Studio.</span></span>
- <span data-ttu-id="f46dd-201">Use um projeto de servidor SQL Server 2008 no Visual Studio para criar e implantar o logon.</span><span class="sxs-lookup"><span data-stu-id="f46dd-201">Use a SQL Server 2008 Server Project in Visual Studio to create and deploy the login.</span></span>

<span data-ttu-id="f46dd-202">Um logon SQL Server é um objeto de nível de servidor, em vez de um objeto de nível de banco de dados, portanto, não depende do banco de dados que você deseja implantar.</span><span class="sxs-lookup"><span data-stu-id="f46dd-202">A SQL Server login is a server-level object, rather than a database-level object, so it's not dependent on the database you want to deploy.</span></span> <span data-ttu-id="f46dd-203">Assim, você pode criar o logon a qualquer momento, e a abordagem mais fácil costuma criar o logon manualmente no servidor de banco de dados antes de iniciar a implantação de bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="f46dd-203">As such, you can create the login at any point, and the easiest approach is often to create the login manually on the database server before you start deploying databases.</span></span> <span data-ttu-id="f46dd-204">Você pode usar o procedimento a seguir para criar um logon no SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="f46dd-204">You can use the next procedure to create a login in SQL Server Management Studio.</span></span>

<span data-ttu-id="f46dd-205">**Para criar um logon SQL Server para a conta do computador do servidor Web**</span><span class="sxs-lookup"><span data-stu-id="f46dd-205">**To create a SQL Server login for the web server machine account**</span></span>

1. <span data-ttu-id="f46dd-206">No servidor de banco de dados, no menu **Iniciar** , aponte para **todos os programas**, clique em **Microsoft SQL Server 2008 R2**e, em seguida, clique em **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-206">On the database server, on the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
2. <span data-ttu-id="f46dd-207">Na caixa de diálogo **conectar ao servidor** , na caixa **nome do servidor** , digite o nome do servidor de banco de dados e clique em **conectar**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-207">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image10.png)
3. <span data-ttu-id="f46dd-208">No painel Pesquisador de **objetos** , clique com o botão direito do mouse em **segurança**, aponte para **novo**e clique em **logon**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-208">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
4. <span data-ttu-id="f46dd-209">Na caixa de diálogo **logon – novo** , na caixa **nome de logon** , digite o nome da conta do computador do servidor Web (por exemplo, **FABRIKAM\TESTWEB1 $** ).</span><span class="sxs-lookup"><span data-stu-id="f46dd-209">In the **Login – New** dialog box, in the **Login name** box, type the name of your web server machine account (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image11.png)
5. <span data-ttu-id="f46dd-210">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-210">Click **OK**.</span></span>

<span data-ttu-id="f46dd-211">Neste ponto, o servidor de banco de dados está pronto para a publicação Implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="f46dd-211">At this point, your database server is ready for Web Deploy publishing.</span></span> <span data-ttu-id="f46dd-212">No entanto, as soluções que você implantar não funcionarão até que você mapeie o logon da conta da máquina para as funções de banco de dados necessárias.</span><span class="sxs-lookup"><span data-stu-id="f46dd-212">However, any solutions you deploy won't work until you map the machine account login to the required database roles.</span></span> <span data-ttu-id="f46dd-213">O mapeamento do logon para funções de banco de dados requer muito mais pensamento, pois você não pode mapear funções até depois de ter implantado o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="f46dd-213">Mapping the login to database roles requires a lot more thought, as you can't map roles until after you've deployed the database.</span></span> <span data-ttu-id="f46dd-214">Para mapear o logon da conta de computador para as funções de banco de dados necessárias, você pode:</span><span class="sxs-lookup"><span data-stu-id="f46dd-214">To map the machine account login to the required database roles, you can either:</span></span>

- <span data-ttu-id="f46dd-215">Atribua as funções de banco de dados ao logon manualmente, depois de ter implantado o banco de dados pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="f46dd-215">Assign the database roles to the login manually, after you've deployed the database for the first time.</span></span>
- <span data-ttu-id="f46dd-216">Use um script pós-implantação para atribuir as funções de banco de dados ao logon.</span><span class="sxs-lookup"><span data-stu-id="f46dd-216">Use a post-deployment script to assign the database roles to the login.</span></span>

<span data-ttu-id="f46dd-217">Para obter mais informações sobre como automatizar a criação de logons e mapeamentos de função de banco de dados, consulte [implantando associações de função de banco de dados para ambientes de teste](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="f46dd-217">For more information on automating the creation of logins and database role mappings, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="f46dd-218">Como alternativa, você pode usar o procedimento a seguir para mapear o logon da conta do computador para as funções de banco de dados necessárias manualmente.</span><span class="sxs-lookup"><span data-stu-id="f46dd-218">Alternatively, you can use the next procedure to map the machine account login to the required database roles manually.</span></span> <span data-ttu-id="f46dd-219">Lembre-se de que você não pode executar esse procedimento até *depois* de ter implantado o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="f46dd-219">Remember that you can't perform this procedure until *after* you've deployed the database.</span></span>

<span data-ttu-id="f46dd-220">**Para mapear funções de banco de dados para o logon de conta do computador do servidor Web**</span><span class="sxs-lookup"><span data-stu-id="f46dd-220">**To map database roles to the web server machine account login**</span></span>

1. <span data-ttu-id="f46dd-221">Abra SQL Server Management Studio como antes.</span><span class="sxs-lookup"><span data-stu-id="f46dd-221">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="f46dd-222">No painel Pesquisador de **objetos** , expanda o nó **segurança** , expanda o nó **logons** e clique duas vezes no logon da conta do computador (por exemplo, **FABRIKAM\TESTWEB1 $** ).</span><span class="sxs-lookup"><span data-stu-id="f46dd-222">In the **Object Explorer** pane, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image12.png)
3. <span data-ttu-id="f46dd-223">Na caixa de diálogo **Propriedades de logon** , clique em **mapeamento de usuário**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-223">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="f46dd-224">Na tabela **Usuários mapeados para este logon** , selecione o nome do seu banco de dados (por exemplo, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="f46dd-224">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="f46dd-225">Na lista **Associação de função de banco de dados para:** *[nome do banco de dados]* , selecione as permissões necessárias.</span><span class="sxs-lookup"><span data-stu-id="f46dd-225">In the **Database role membership for:** *[database name]* list, select the permissions required.</span></span> <span data-ttu-id="f46dd-226">No caso da solução de exemplo do Gerenciador de contatos, você deve selecionar as funções de **banco de\_DataReader** e **DB\_DataWriter** .</span><span class="sxs-lookup"><span data-stu-id="f46dd-226">In the case of the Contact Manager sample solution, you must select the **db\_datareader** and **db\_datawriter** roles.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image13.png)
6. <span data-ttu-id="f46dd-227">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-227">Click **OK**.</span></span>

<span data-ttu-id="f46dd-228">Embora o mapeamento manual das funções de banco de dados seja geralmente mais do que adequado para ambientes de teste, ele é menos desejável para implantações automatizadas ou de um clique em ambientes de preparo ou produção.</span><span class="sxs-lookup"><span data-stu-id="f46dd-228">While manually mapping database roles is often more than adequate for test environments, it's less desirable for automated or one-click deployments to staging or production environments.</span></span> <span data-ttu-id="f46dd-229">Você pode encontrar mais informações sobre como automatizar esse tipo de tarefa usando scripts de pós-implantação em [implantando associações de função de banco de dados para ambientes de teste](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="f46dd-229">You can find more information on automating this kind of task using post-deployment scripts in [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span>

> [!NOTE]
> <span data-ttu-id="f46dd-230">Para obter mais informações sobre projetos de servidor e projetos de banco de dados, consulte [projetos de banco de dados do Visual Studio 2010 SQL Server](https://msdn.microsoft.com/library/ff678491.aspx).</span><span class="sxs-lookup"><span data-stu-id="f46dd-230">For more information on server projects and database projects, see [Visual Studio 2010 SQL Server Database Projects](https://msdn.microsoft.com/library/ff678491.aspx).</span></span>

## <a name="configure-permissions-for-the-deployment-account"></a><span data-ttu-id="f46dd-231">Configurar permissões para a conta de implantação</span><span class="sxs-lookup"><span data-stu-id="f46dd-231">Configure Permissions for the Deployment Account</span></span>

<span data-ttu-id="f46dd-232">Se a conta que você usar para executar a implantação não for um administrador SQL Server, você também precisará criar um logon para essa conta.</span><span class="sxs-lookup"><span data-stu-id="f46dd-232">If the account that you'll use to run the deployment is not a SQL Server administrator, you'll also need to create a login for this account.</span></span> <span data-ttu-id="f46dd-233">Para criar o banco de dados, a conta deve ser um membro da função de servidor **dbcreator** ou ter permissões equivalentes.</span><span class="sxs-lookup"><span data-stu-id="f46dd-233">In order to create the database, the account must be a member of the **dbcreator** server role or have equivalent permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="f46dd-234">Ao usar Implantação da Web ou VSDBCMD para implantar um banco de dados, você pode usar credenciais do Windows ou credenciais de SQL Server (se sua instância de SQL Server estiver configurada para oferecer suporte à autenticação de modo misto).</span><span class="sxs-lookup"><span data-stu-id="f46dd-234">When you use Web Deploy or VSDBCMD to deploy a database, you can use Windows credentials or SQL Server credentials (if your SQL Server instance is configured to support mixed mode authentication).</span></span> <span data-ttu-id="f46dd-235">O próximo procedimento pressupõe que você deseja usar as credenciais do Windows, mas não há nada que impeça você de especificar um SQL Server nome de usuário e senha na cadeia de conexão ao configurar a implantação.</span><span class="sxs-lookup"><span data-stu-id="f46dd-235">The next procedure assumes that you want to use Windows credentials, but there's nothing stopping you from specifying a SQL Server user name and password in your connection string when you configure the deployment.</span></span>

<span data-ttu-id="f46dd-236">**Para configurar permissões para a conta de implantação**</span><span class="sxs-lookup"><span data-stu-id="f46dd-236">**To set up permissions for the deployment account**</span></span>

1. <span data-ttu-id="f46dd-237">Abra SQL Server Management Studio como antes.</span><span class="sxs-lookup"><span data-stu-id="f46dd-237">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="f46dd-238">No painel Pesquisador de **objetos** , clique com o botão direito do mouse em **segurança**, aponte para **novo**e clique em **logon**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-238">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
3. <span data-ttu-id="f46dd-239">Na caixa de diálogo **logon – novo** , na caixa **nome de logon** , digite o nome da sua conta de implantação (por exemplo, **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="f46dd-239">In the **Login – New** dialog box, in the **Login name** box, type the name of your deployment account (for example, **FABRIKAM\matt**).</span></span>
4. <span data-ttu-id="f46dd-240">No painel **selecionar uma página** , clique em **funções de servidor**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-240">In the **Select a page** pane, click **Server Roles**.</span></span>
5. <span data-ttu-id="f46dd-241">Selecione **dbcreator**e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-241">Select **dbcreator**, and then click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image14.png)

<span data-ttu-id="f46dd-242">Para dar suporte a implantações subsequentes, você também precisará adicionar a conta de implantação ao **bd\_** função de proprietário no banco de dados após a primeira implantação.</span><span class="sxs-lookup"><span data-stu-id="f46dd-242">To support subsequent deployments, you'll also need to add the deploying account to the **db\_owner** role on the database after the first deployment.</span></span> <span data-ttu-id="f46dd-243">Isso ocorre porque, em implantações subsequentes, você está modificando o esquema de um banco de dados existente, em vez de criar um novo banco de dados.</span><span class="sxs-lookup"><span data-stu-id="f46dd-243">This is because on subsequent deployments you're modifying the schema of an existing database, rather than creating a new database.</span></span> <span data-ttu-id="f46dd-244">Conforme descrito na seção anterior, você não pode adicionar um usuário a uma função de banco de dados até que você tenha criado o banco de dados, por motivos óbvios.</span><span class="sxs-lookup"><span data-stu-id="f46dd-244">As described in the previous section, you can't add a user to a database role until you've created the database, for obvious reasons.</span></span>

<span data-ttu-id="f46dd-245">**Para mapear o logon da conta de implantação para o BD\_função de banco de dados proprietário**</span><span class="sxs-lookup"><span data-stu-id="f46dd-245">**To map the deployment account login to the db\_owner database role**</span></span>

1. <span data-ttu-id="f46dd-246">Abra SQL Server Management Studio como antes.</span><span class="sxs-lookup"><span data-stu-id="f46dd-246">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="f46dd-247">Na janela pesquisador de **objetos** , expanda o nó **segurança** , expanda o nó **logons** e clique duas vezes no logon da conta do computador (por exemplo, **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="f46dd-247">In the **Object Explorer** window, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\matt**).</span></span>
3. <span data-ttu-id="f46dd-248">Na caixa de diálogo **Propriedades de logon** , clique em **mapeamento de usuário**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-248">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="f46dd-249">Na tabela **Usuários mapeados para este logon** , selecione o nome do seu banco de dados (por exemplo, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="f46dd-249">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="f46dd-250">Na lista **Associação de função de banco de dados para:** *[nome do banco de dados]* , selecione a função de **proprietário do\_do BD** .</span><span class="sxs-lookup"><span data-stu-id="f46dd-250">In the **Database role membership for:** *[database name]* list, select the **db\_owner** role.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image15.png)
6. <span data-ttu-id="f46dd-251">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f46dd-251">Click **OK**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="f46dd-252">Conclusão</span><span class="sxs-lookup"><span data-stu-id="f46dd-252">Conclusion</span></span>

<span data-ttu-id="f46dd-253">Agora, o servidor de banco de dados deve estar pronto para aceitar implantações de banco de dados remoto e permitir que servidores Web IIS remotos acessem seus bancos.</span><span class="sxs-lookup"><span data-stu-id="f46dd-253">Your database server should now be ready to accept remote database deployments and to allow remote IIS web servers to access your databases.</span></span> <span data-ttu-id="f46dd-254">Antes de tentar implantar e usar bancos de dados, talvez você queira verificar estes pontos-chave:</span><span class="sxs-lookup"><span data-stu-id="f46dd-254">Before you attempt to deploy and use databases, you may want to check these key points:</span></span>

- <span data-ttu-id="f46dd-255">Você configurou SQL Server para aceitar conexões TCP/IP remotas?</span><span class="sxs-lookup"><span data-stu-id="f46dd-255">Have you configured SQL Server to accept remote TCP/IP connections?</span></span>
- <span data-ttu-id="f46dd-256">Você configurou os firewalls para permitir o tráfego de SQL Server?</span><span class="sxs-lookup"><span data-stu-id="f46dd-256">Have you configured any firewalls to permit SQL Server traffic?</span></span>
- <span data-ttu-id="f46dd-257">Você criou um logon de conta de computador para cada servidor Web que acessará SQL Server?</span><span class="sxs-lookup"><span data-stu-id="f46dd-257">Have you created a machine account login for every web server that will access SQL Server?</span></span>
- <span data-ttu-id="f46dd-258">A implantação do banco de dados inclui um script para criar mapeamentos de função de usuário ou você precisa criá-los manualmente depois de implantar o banco de dados pela primeira vez?</span><span class="sxs-lookup"><span data-stu-id="f46dd-258">Does your database deployment include a script to create user role mappings, or do you need to create these manually after you deploy the database for the first time?</span></span>
- <span data-ttu-id="f46dd-259">Você criou um logon para a conta de implantação e a adicionou à função de servidor **dbcreator** ?</span><span class="sxs-lookup"><span data-stu-id="f46dd-259">Have you created a login for the deployment account and added it to the **dbcreator** server role?</span></span>

## <a name="further-reading"></a><span data-ttu-id="f46dd-260">Leitura adicional</span><span class="sxs-lookup"><span data-stu-id="f46dd-260">Further Reading</span></span>

<span data-ttu-id="f46dd-261">Para obter orientação sobre a implantação de projetos de banco de dados, consulte [Implantando projetos de banco de dados](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="f46dd-261">For guidance on deploying database projects, see [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="f46dd-262">Para obter orientação sobre como criar associações de função de banco de dados executando um script pós-implantação, consulte [implantando associações de função de banco de dados para ambientes de teste](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="f46dd-262">For guidance on creating database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="f46dd-263">Para obter orientação sobre como atender aos desafios de implantação exclusivos que os bancos de dados de associação representam, consulte [implantando bancos de dados de associação em ambientes corporativos](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="f46dd-263">For guidance on how to meet the unique deployment challenges that membership databases pose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="f46dd-264">[Anterior](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
> [Próximo](creating-a-server-farm-with-the-web-farm-framework.md)</span><span class="sxs-lookup"><span data-stu-id="f46dd-264">[Previous](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Next](creating-a-server-farm-with-the-web-farm-framework.md)</span></span>
