---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-vb
title: Diferenças de configuração comuns entre desenvolvimento e produção (VB) | Microsoft Docs
author: rick-anderson
description: Nos tutoriais anteriores, implantamos nosso site copiando todos os arquivos pertinentes do ambiente de desenvolvimento para o ambiente de produção. No entanto, i...
ms.author: riande
ms.date: 04/01/2009
ms.assetid: 548e75f6-4d6c-4cb4-8da8-417915eb8393
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-vb
msc.type: authoredcontent
ms.openlocfilehash: cc65af6eb4fca8b3b805e11e26da468a958a4221
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74619951"
---
# <a name="common-configuration-differences-between-development-and-production-vb"></a><span data-ttu-id="88b39-104">Diferenças de configuração comuns entre desenvolvimento e produção (VB)</span><span class="sxs-lookup"><span data-stu-id="88b39-104">Common Configuration Differences Between Development and Production (VB)</span></span>

<span data-ttu-id="88b39-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="88b39-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="88b39-106">Baixar PDF</span><span class="sxs-lookup"><span data-stu-id="88b39-106">Download PDF</span></span>](https://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial05_ConfigDifferences_vb.pdf)

> <span data-ttu-id="88b39-107">Nos tutoriais anteriores, implantamos nosso site copiando todos os arquivos pertinentes do ambiente de desenvolvimento para o ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-107">In earlier tutorials we deployed our website by copying all of the pertinent files from the development environment to the production environment.</span></span> <span data-ttu-id="88b39-108">No entanto, não é incomum que haja diferenças de configuração entre ambientes, o que exige que cada ambiente tenha um arquivo Web. config exclusivo.</span><span class="sxs-lookup"><span data-stu-id="88b39-108">However, it is not uncommon for there to be configuration differences between environments, which necessitates that each environment have a unique Web.config file.</span></span> <span data-ttu-id="88b39-109">Este tutorial examina as diferenças de configuração típicas e examina as estratégias para manter informações de configuração separadas.</span><span class="sxs-lookup"><span data-stu-id="88b39-109">This tutorial examines typical configuration differences and looks at strategies for maintaining separate configuration information.</span></span>

## <a name="introduction"></a><span data-ttu-id="88b39-110">Introdução</span><span class="sxs-lookup"><span data-stu-id="88b39-110">Introduction</span></span>

<span data-ttu-id="88b39-111">Os dois últimos tutoriais percorrem a implantação de um aplicativo Web simples.</span><span class="sxs-lookup"><span data-stu-id="88b39-111">The last two tutorials walked through deploying a simple web application.</span></span> <span data-ttu-id="88b39-112">O tutorial [*implantando seu site usando um cliente FTP*](deploying-your-site-using-an-ftp-client-vb.md) mostrou como usar um cliente FTP autônomo para copiar os arquivos necessários do ambiente de desenvolvimento para produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-112">The [*Deploying Your Site Using an FTP Client*](deploying-your-site-using-an-ftp-client-vb.md) tutorial showed how to use a stand-alone FTP client to copy the necessary files from the development environment up to production.</span></span> <span data-ttu-id="88b39-113">O tutorial anterior, [*implantando seu site usando o Visual Studio*](deploying-your-site-using-visual-studio-vb.md), examinou na implantação usando a ferramenta Copiar site da Web e a opção Publicar do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="88b39-113">The preceding tutorial, [*Deploying Your Site Using Visual Studio*](deploying-your-site-using-visual-studio-vb.md), looked at deployment using Visual Studio's Copy Web Site tool and Publish option.</span></span> <span data-ttu-id="88b39-114">Em ambos os tutoriais, cada arquivo no ambiente de produção era uma cópia de um arquivo no ambiente de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="88b39-114">In both tutorials every file in the production environment was a copy of a file on the development environment.</span></span> <span data-ttu-id="88b39-115">No entanto, não é incomum que os arquivos de configuração no ambiente de produção sejam diferentes daqueles no ambiente de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="88b39-115">However, it is not uncommon for configuration files in the production environment to differ from those in the development environment.</span></span> <span data-ttu-id="88b39-116">A configuração de um aplicativo Web é armazenada no arquivo de `Web.config` e normalmente inclui informações sobre recursos externos, como servidores de banco de dados, Web e de email.</span><span class="sxs-lookup"><span data-stu-id="88b39-116">A web application's configuration is stored in the `Web.config` file and typically includes information about external resources, such as database, web, and email servers.</span></span> <span data-ttu-id="88b39-117">Ele também verifica o comportamento do aplicativo em determinadas situações, como o curso de ação a ser tomada quando ocorre uma exceção sem tratamento.</span><span class="sxs-lookup"><span data-stu-id="88b39-117">It also spells out the behavior of the application in certain situations, such as the course of action to take when an unhandled exception occurs.</span></span>

<span data-ttu-id="88b39-118">Ao implantar um aplicativo Web, é importante que as informações de configuração corretas terminem no ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-118">When deploying a web application it is important that the correct configuration information end up in the production environment.</span></span> <span data-ttu-id="88b39-119">Na maioria dos casos, o arquivo de `Web.config` no ambiente de desenvolvimento não pode ser copiado para o ambiente de produção como está.</span><span class="sxs-lookup"><span data-stu-id="88b39-119">In most cases the `Web.config` file in the development environment cannot be copied to the production environment as-is.</span></span> <span data-ttu-id="88b39-120">Em vez disso, uma versão personalizada do `Web.config` precisa ser carregada para produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-120">Instead, a customized version of `Web.config` needs to be uploaded to production.</span></span> <span data-ttu-id="88b39-121">Este tutorial revisa brevemente algumas das diferenças de configuração mais comuns; Ele também resume algumas técnicas para manter diferentes informações de configuração entre os ambientes.</span><span class="sxs-lookup"><span data-stu-id="88b39-121">This tutorial briefly reviews some of the more common configuration differences; it also summarizes some techniques for maintaining different configuration information between the environments.</span></span>

## <a name="typical-configuration-differences-between-the-development-and-production-environments"></a><span data-ttu-id="88b39-122">Diferenças de configuração típicas entre os ambientes de desenvolvimento e de produção</span><span class="sxs-lookup"><span data-stu-id="88b39-122">Typical Configuration Differences Between the Development and Production Environments</span></span>

<span data-ttu-id="88b39-123">O arquivo de `Web.config` inclui uma variedade de informações de configuração para um aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="88b39-123">The `Web.config` file includes an assortment of configuration information for an ASP.NET application.</span></span> <span data-ttu-id="88b39-124">Algumas dessas informações de configuração são as mesmas, independentemente do ambiente.</span><span class="sxs-lookup"><span data-stu-id="88b39-124">Some of this configuration information is the same regardless of the environment.</span></span> <span data-ttu-id="88b39-125">Por exemplo, as configurações de autenticação e as regras de autorização de URL escritas nos elementos `<authentication>` e `<authorization>` do arquivo de `Web.config` são geralmente as mesmas, independentemente do ambiente.</span><span class="sxs-lookup"><span data-stu-id="88b39-125">For instance, the authentication settings and URL authorization rules spelled out in the `Web.config` file's `<authentication>` and `<authorization>` elements are usually the same regardless of the environment.</span></span> <span data-ttu-id="88b39-126">Mas outras informações de configuração, como informações sobre recursos externos, normalmente diferem dependendo do ambiente.</span><span class="sxs-lookup"><span data-stu-id="88b39-126">But other configuration information - such as information about external resources - typically differs depending on the environment.</span></span>

<span data-ttu-id="88b39-127">As cadeias de conexão de banco de dados são um exemplo primo de informações de configuração que diferem com base no ambiente.</span><span class="sxs-lookup"><span data-stu-id="88b39-127">Database connections strings are a prime example of configuration information that differs based on the environment.</span></span> <span data-ttu-id="88b39-128">Quando um aplicativo Web se comunica com um servidor de banco de dados, ele deve primeiro estabelecer uma conexão, e isso é obtido por meio de uma [cadeia de conexão](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span><span class="sxs-lookup"><span data-stu-id="88b39-128">When a web application communicates with a database server it must first establish a connection, and that is achieved through a [connection string](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span></span> <span data-ttu-id="88b39-129">Embora seja possível embutir a cadeia de conexão do banco de dados diretamente nas páginas da Web ou no código que se conecta ao banco de dados, é melhor colocá-lo `Web.config`[elemento`<connectionStrings>`](https://msdn.microsoft.com/library/bf7sd233.aspx) para que as informações da cadeia de conexão estejam em um único local centralizado.</span><span class="sxs-lookup"><span data-stu-id="88b39-129">While it is possible to hard-code the database connection string directly in the web pages or the code that connects to the database, it is best to place it `Web.config`'s [`<connectionStrings>` element](https://msdn.microsoft.com/library/bf7sd233.aspx) so that the connection string information is in a single, centralized location.</span></span> <span data-ttu-id="88b39-130">Muitas vezes, um banco de dados diferente é usado durante o desenvolvimento do que é usado na produção; Consequentemente, as informações da cadeia de conexão devem ser exclusivas para cada ambiente.</span><span class="sxs-lookup"><span data-stu-id="88b39-130">Oftentimes a different database is used during development than is used in production; consequently, the connection string information must be unique for each environment.</span></span>

> [!NOTE]
> <span data-ttu-id="88b39-131">Os tutoriais futuros exploram a implantação de aplicativos controlados por dados. nesse ponto, vamos nos aprofundar nas especificações de como as cadeias de conexão de banco de dado são armazenadas no arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="88b39-131">Future tutorials explore deploying data-driven applications, at which point we'll dive into the specifics of how database connection strings are stored in the configuration file.</span></span>

<span data-ttu-id="88b39-132">O comportamento pretendido dos ambientes de desenvolvimento e de produção difere substancialmente.</span><span class="sxs-lookup"><span data-stu-id="88b39-132">The intended behavior of the development and production environments differs substantially.</span></span> <span data-ttu-id="88b39-133">Um aplicativo Web no ambiente de desenvolvimento está sendo criado, testado e depurado por um pequeno grupo de desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="88b39-133">A web application in the development environment is being created, tested, and debugged by a small group of developers.</span></span> <span data-ttu-id="88b39-134">No ambiente de produção, o mesmo aplicativo está sendo visitado por vários usuários simultâneos diferentes.</span><span class="sxs-lookup"><span data-stu-id="88b39-134">In the production environment that same application is being visited by many different simultaneous users.</span></span> <span data-ttu-id="88b39-135">O ASP.NET inclui uma série de recursos que ajudam os desenvolvedores a testar e depurar um aplicativo, mas esses recursos devem ser desabilitados por motivos de desempenho e segurança no ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-135">ASP.NET includes a number of features that help developers in testing and debugging an application, but these features should be disabled for performance and security reasons when in the production environment.</span></span> <span data-ttu-id="88b39-136">Vamos examinar alguns desses parâmetros de configuração.</span><span class="sxs-lookup"><span data-stu-id="88b39-136">Let's look at a few such configuration settings.</span></span>

### <a name="configuration-settings-that-impact-performance"></a><span data-ttu-id="88b39-137">Definições de configuração que afetam o desempenho</span><span class="sxs-lookup"><span data-stu-id="88b39-137">Configuration Settings That Impact Performance</span></span>

<span data-ttu-id="88b39-138">Quando uma página ASP.NET é visitada pela primeira vez (ou pela primeira vez depois que ela é alterada), sua marcação declarativa deve ser convertida em uma classe e essa classe deve ser compilada.</span><span class="sxs-lookup"><span data-stu-id="88b39-138">When an ASP.NET page is visited for the first time (or the first time after it has changed), its declarative markup must be converted into a class and this class must be compiled.</span></span> <span data-ttu-id="88b39-139">Se o aplicativo Web usar a compilação automática, a classe code-behind da página também precisará ser compilada.</span><span class="sxs-lookup"><span data-stu-id="88b39-139">If the web application uses automatic compilation then the page's code-behind class needs to be compiled, too.</span></span> <span data-ttu-id="88b39-140">Você pode configurar uma variedade de opções de compilação por meio do [elemento`<compilation>`](https://msdn.microsoft.com/library/s10awwz0.aspx)do arquivo de `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="88b39-140">You can configure an assortment of compilation options via the `Web.config` file's [`<compilation>` element](https://msdn.microsoft.com/library/s10awwz0.aspx).</span></span>

<span data-ttu-id="88b39-141">O atributo debug é um dos atributos mais importantes no elemento `<compilation>`.</span><span class="sxs-lookup"><span data-stu-id="88b39-141">The debug attribute is one of the most important attributes in the `<compilation>` element.</span></span> <span data-ttu-id="88b39-142">Se o atributo `debug` for definido como "true", os assemblies compilados incluem símbolos de depuração, que são necessários ao depurar um aplicativo no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="88b39-142">If the `debug` attribute is set to "true" then the compiled assemblies include debug symbols, which are needed when debugging an application in Visual Studio.</span></span> <span data-ttu-id="88b39-143">Mas os símbolos de depuração aumentam o tamanho do assembly e impõem requisitos de memória adicionais ao executar o código.</span><span class="sxs-lookup"><span data-stu-id="88b39-143">But debug symbols increase the size of the assembly and impose additional memory requirements when running the code.</span></span> <span data-ttu-id="88b39-144">Além disso, quando o atributo `debug` é definido como "true", qualquer conteúdo retornado pelo `WebResource.axd` não é armazenado em cache, o que significa que cada vez que um usuário visita uma página, ele precisará baixar novamente o conteúdo estático retornado pelo `WebResource.axd`.</span><span class="sxs-lookup"><span data-stu-id="88b39-144">Furthermore, when the `debug` attribute is set to "true" any content returned by `WebResource.axd` is not cached, meaning that each time a user visits a page they will need to re-download the static content returned by `WebResource.axd`.</span></span>

> [!NOTE]
> <span data-ttu-id="88b39-145">`WebResource.axd` é um manipulador HTTP interno introduzido no ASP.NET 2,0 que os controles de servidor usam para recuperar recursos incorporados, como arquivos de script, imagens, arquivos CSS e outros conteúdos.</span><span class="sxs-lookup"><span data-stu-id="88b39-145">`WebResource.axd` is a built-in HTTP Handler introduced in ASP.NET 2.0 that server controls use to retrieve embedded resources, such as script files, images, CSS files, and other content.</span></span> <span data-ttu-id="88b39-146">Para obter mais informações sobre como `WebResource.axd` funciona e como você pode usá-lo para acessar recursos incorporados de seus controles de servidor personalizados, consulte [acessando recursos inseridos por meio de uma URL usando `WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="88b39-146">For more information on how `WebResource.axd` works and how you can use it to access embedded resources from your custom server controls, see [Accessing Embedded Resources Through a URL Using `WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span></span>

<span data-ttu-id="88b39-147">O atributo `debug` do elemento de `<compilation>` geralmente é definido como "true" no ambiente de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="88b39-147">The `<compilation>` element's `debug` attribute is usually set to "true" in the development environment.</span></span> <span data-ttu-id="88b39-148">Na verdade, esse atributo deve ser definido como "true" para depurar um aplicativo Web; Se você tentar depurar um aplicativo ASP.NET do Visual Studio e o atributo `debug` estiver definido como "false", o Visual Studio exibirá uma mensagem explicando que o aplicativo não pode ser depurado até que o atributo `debug` seja definido como "true" e oferecerá essa alteração para você.</span><span class="sxs-lookup"><span data-stu-id="88b39-148">In fact, this attribute must be set to "true" in order to debug a web application; if you try to debug an ASP.NET application from Visual Studio and the `debug` attribute is set to "false", Visual Studio will display a message explaining that the application cannot be debugged until the `debug` attribute is set to "true" and will offer to make this change for you.</span></span>

<span data-ttu-id="88b39-149">Você **nunca** deve ter o atributo `debug` definido como "true" em um ambiente de produção devido a seu impacto no desempenho.</span><span class="sxs-lookup"><span data-stu-id="88b39-149">You should **never** have the `debug` attribute set to "true" in a production environment because of its impact on performance.</span></span> <span data-ttu-id="88b39-150">Para obter uma discussão mais completa sobre este tópico, consulte a postagem do blog de [Scott Guthrie](https://weblogs.asp.net/scottgu/), [não execute aplicativos ASP.net de produção com `debug="true"` habilitado](https://weblogs.asp.net/scottgu/442448).</span><span class="sxs-lookup"><span data-stu-id="88b39-150">For a more thorough discussion on this topic, refer to [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Don't Run Production ASP.NET Applications With `debug="true"` Enabled](https://weblogs.asp.net/scottgu/442448).</span></span>

### <a name="custom-errors-and-tracing"></a><span data-ttu-id="88b39-151">Rastreamento e erros personalizados</span><span class="sxs-lookup"><span data-stu-id="88b39-151">Custom Errors and Tracing</span></span>

<span data-ttu-id="88b39-152">Quando ocorre uma exceção sem tratamento em um aplicativo ASP.NET, ele se parece com o tempo de execução em que um de três coisas acontece:</span><span class="sxs-lookup"><span data-stu-id="88b39-152">When an unhandled exception occurs in an ASP.NET application it bubbles up to the runtime at which point one of three things happens:</span></span>

- <span data-ttu-id="88b39-153">Uma mensagem de erro de tempo de execução genérico é exibida.</span><span class="sxs-lookup"><span data-stu-id="88b39-153">A generic runtime error message is displayed.</span></span> <span data-ttu-id="88b39-154">Esta página informa ao usuário que houve um erro de tempo de execução, mas não fornece nenhum detalhe sobre o erro.</span><span class="sxs-lookup"><span data-stu-id="88b39-154">This page informs the user that there was a runtime error, but does not provide any details about the error.</span></span>
- <span data-ttu-id="88b39-155">Uma mensagem de detalhes de exceção é exibida, que inclui informações sobre a exceção que acabou de ser lançada.</span><span class="sxs-lookup"><span data-stu-id="88b39-155">An exception details message is displayed, which includes information on the exception that was just thrown.</span></span>
- <span data-ttu-id="88b39-156">Uma página de erro personalizada é exibida, que é uma página ASP.NET que você cria, que exibe qualquer mensagem que desejar.</span><span class="sxs-lookup"><span data-stu-id="88b39-156">A custom error page is displayed, which is an ASP.NET page that you create that displays any message you desire.</span></span>

<span data-ttu-id="88b39-157">O que acontece na face de uma exceção sem tratamento depende da [seção`<customErrors>`](https://msdn.microsoft.com/library/h0hfz6fc.aspx)do arquivo de `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="88b39-157">What happens in the face of an unhandled exception depends on the `Web.config` file's [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span></span>

<span data-ttu-id="88b39-158">Ao desenvolver e testar um aplicativo, ele ajuda a ver detalhes de qualquer exceção no navegador.</span><span class="sxs-lookup"><span data-stu-id="88b39-158">When developing and testing an application it helps to see details of any exception in the browser.</span></span> <span data-ttu-id="88b39-159">No entanto, a exibição de detalhes de exceção em um aplicativo na produção é um risco de segurança potencial.</span><span class="sxs-lookup"><span data-stu-id="88b39-159">However, showing exception details in an application on production is a potential security risk.</span></span> <span data-ttu-id="88b39-160">Além disso, é unflattering e faz com que seu site pareça não profissional.</span><span class="sxs-lookup"><span data-stu-id="88b39-160">Moreover, it's unflattering and makes your website look unprofessional.</span></span> <span data-ttu-id="88b39-161">O ideal é que, no caso de uma exceção sem tratamento, um aplicativo Web no ambiente de desenvolvimento mostrará os detalhes da exceção, enquanto o mesmo aplicativo em produção mostrará uma página de erro personalizada.</span><span class="sxs-lookup"><span data-stu-id="88b39-161">Ideally, in the event of an unhandled exception a web application in the development environment will show the exception's details while the same application in production will show a custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="88b39-162">A configuração da seção `<customErrors>` padrão mostra a mensagem de detalhes da exceção somente quando a página está sendo visitada por meio de localhost e mostra a página de erro de tempo de execução genérica de outra forma.</span><span class="sxs-lookup"><span data-stu-id="88b39-162">The default `<customErrors>` section setting shows the exception details message only when the page is being visited through localhost, and shows the generic runtime error page otherwise.</span></span> <span data-ttu-id="88b39-163">Isso não é o ideal, mas é uma garantia de saber que o comportamento padrão não revela detalhes de exceção para visitantes não locais.</span><span class="sxs-lookup"><span data-stu-id="88b39-163">This isn't ideal, but it's assuring to know that the default behavior doesn't reveal exception details to non-local visitors.</span></span> <span data-ttu-id="88b39-164">Um tutorial futuro examina a seção `<customErrors>` em mais detalhes e mostra como ter uma página de erro personalizada mostrada quando ocorre um erro na produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-164">A future tutorial examines the `<customErrors>` section in more detail and shows how to have a custom error page shown when an error occurs in production.</span></span>

<span data-ttu-id="88b39-165">Outro recurso do ASP.NET que é útil durante o desenvolvimento é o rastreamento.</span><span class="sxs-lookup"><span data-stu-id="88b39-165">Another ASP.NET feature that is useful during development is tracing.</span></span> <span data-ttu-id="88b39-166">O rastreamento, se habilitado, registra as informações sobre cada solicitação de entrada e fornece uma página da Web especial, `Trace.axd`, para exibir os detalhes da solicitação recente.</span><span class="sxs-lookup"><span data-stu-id="88b39-166">Tracing, if enabled, records information about each incoming request and provides a special web page, `Trace.axd`, for viewing recent request details.</span></span> <span data-ttu-id="88b39-167">Você pode ativar e configurar o rastreamento por meio do [elemento`<trace>`](https://msdn.microsoft.com/library/6915t83k.aspx) no `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="88b39-167">You can turn on and configure tracing via the [`<trace>` element](https://msdn.microsoft.com/library/6915t83k.aspx) in `Web.config`.</span></span>

<span data-ttu-id="88b39-168">Se você habilitar o rastreamento, verifique se ele está desabilitado na produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-168">If you enable tracing make sure that it is disabled in production.</span></span> <span data-ttu-id="88b39-169">Como as informações de rastreamento incluem cookies, dados de sessão e outras informações potencialmente confidenciais, é importante desabilitar o rastreamento em produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-169">Because the trace information includes cookies, session data, and other potentially sensitive information, it is important to disable tracing in production.</span></span> <span data-ttu-id="88b39-170">A boa notícia é que, por padrão, o rastreamento está desabilitado e o arquivo de `Trace.axd` só é acessível por meio do localhost.</span><span class="sxs-lookup"><span data-stu-id="88b39-170">The good news is that, by default, tracing is disabled and the `Trace.axd` file is only accessible through localhost.</span></span> <span data-ttu-id="88b39-171">Se você alterar essas configurações padrão em desenvolvimento, certifique-se de que elas sejam reativadas na produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-171">If you change these default settings in development make sure that they are turned back off in production.</span></span>

## <a name="techniques-for-maintaining-separate-configuration-information"></a><span data-ttu-id="88b39-172">Técnicas para manter informações de configuração separadas</span><span class="sxs-lookup"><span data-stu-id="88b39-172">Techniques for Maintaining Separate Configuration Information</span></span>

<span data-ttu-id="88b39-173">Ter definições de configuração diferentes nos ambientes de desenvolvimento e produção complica o processo de implantação.</span><span class="sxs-lookup"><span data-stu-id="88b39-173">Having different configuration settings in the development and production environments complicates the deployment process.</span></span> <span data-ttu-id="88b39-174">Nos dois tutoriais anteriores, o processo de implantação envolvia a cópia de todos os arquivos necessários do desenvolvimento para a produção, mas essa abordagem só funciona se as informações de configuração forem as mesmas em ambos os ambientes.</span><span class="sxs-lookup"><span data-stu-id="88b39-174">In the previous two tutorials the deployment process involved copying all of the necessary files from development to production, but that approach only works if the configuration information is the same in both environments.</span></span> <span data-ttu-id="88b39-175">Há uma variedade de técnicas para implantar um aplicativo com informações de configuração variadas.</span><span class="sxs-lookup"><span data-stu-id="88b39-175">There are a variety of techniques for deploying an application with varying configuration information.</span></span> <span data-ttu-id="88b39-176">Vamos catalogar algumas dessas opções para aplicativos Web hospedados.</span><span class="sxs-lookup"><span data-stu-id="88b39-176">Let's catalog some of these options for hosted web applications.</span></span>

### <a name="manually-deploying-the-production-environment-configuration-file"></a><span data-ttu-id="88b39-177">Implantando manualmente o arquivo de configuração do ambiente de produção</span><span class="sxs-lookup"><span data-stu-id="88b39-177">Manually Deploying the Production Environment Configuration File</span></span>

<span data-ttu-id="88b39-178">A abordagem mais simples é manter duas versões do arquivo de `Web.config`: uma para o ambiente de desenvolvimento e outra para o ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-178">The simplest approach is to maintain two versions of the `Web.config` file: one for the development environment and one for the production environment.</span></span> <span data-ttu-id="88b39-179">Implantar um site para produção envolve copiar todos os arquivos para o servidor de produção no ambiente de desenvolvimento *, exceto* para o arquivo de `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="88b39-179">Deploying a site to production entails copying all of the files to the production server in the development environment *except* for the `Web.config` file.</span></span> <span data-ttu-id="88b39-180">Em vez disso, o arquivo de `Web.config` específico do ambiente de produção seria copiado para produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-180">Instead, the production environment-specific `Web.config` file would be copied to production.</span></span>

<span data-ttu-id="88b39-181">Essa abordagem não é muito sofisticada, mas é fácil de implementar porque as informações de configuração raramente são alteradas.</span><span class="sxs-lookup"><span data-stu-id="88b39-181">This approach is not very sophisticated, but it is easy to implement because configuration information changes infrequently.</span></span> <span data-ttu-id="88b39-182">Ele funciona melhor para aplicativos com uma pequena equipe de desenvolvimento hospedada em um único servidor Web e cujas informações de configuração não são alteradas com freqüência.</span><span class="sxs-lookup"><span data-stu-id="88b39-182">It works best for applications with a small development team that are hosted on a single web server and whose configuration information is infrequently changed.</span></span> <span data-ttu-id="88b39-183">É mais tenable ao implantar manualmente os arquivos de aplicativo usando um cliente FTP autônomo.</span><span class="sxs-lookup"><span data-stu-id="88b39-183">It's most tenable when manually deploying the application files using a stand-alone FTP client.</span></span> <span data-ttu-id="88b39-184">Ao usar a ferramenta Copiar site da Web ou a opção Publicar do Visual Studio, primeiro você precisará alternar o arquivo de `Web.config` específico da implantação com o específico da produção antes da implantação e depois trocá-los novamente após a conclusão da implantação.</span><span class="sxs-lookup"><span data-stu-id="88b39-184">When using Visual Studio's Copy Web Site tool or Publish option you'll need to first swap out the deployment-specific `Web.config` file with the production-specific one before deploying, and then swap them back after deployment completes.</span></span>

### <a name="change-the-configuration-during-the-build-or-deployment-process"></a><span data-ttu-id="88b39-185">Alterar a configuração durante o processo de compilação ou implantação</span><span class="sxs-lookup"><span data-stu-id="88b39-185">Change the Configuration During the Build or Deployment Process</span></span>

<span data-ttu-id="88b39-186">As discussões, até agora, assumiram um processo de compilação e implantação ad hoc.</span><span class="sxs-lookup"><span data-stu-id="88b39-186">The discussions thus far have assumed an ad-hoc build and deployment process.</span></span> <span data-ttu-id="88b39-187">Muitos projetos de software maiores têm processos mais formalizados que utilizam ferramentas de terceiros, de código aberto ou de terceiros.</span><span class="sxs-lookup"><span data-stu-id="88b39-187">Many larger software projects have more formalized processes that make use of open-source, home-grown, or third-party tools.</span></span> <span data-ttu-id="88b39-188">Para esses projetos, você provavelmente pode personalizar o processo de compilação ou implantação para modificar adequadamente as informações de configuração antes que elas sejam enviadas para a produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-188">For such projects you can likely customize the build or deployment process to appropriately modify the configuration information before it is pushed to production.</span></span> <span data-ttu-id="88b39-189">Se você criar seu aplicativo Web usando o [MSBuild](http://en.wikipedia.org/wiki/MSBuild), o [Nant](http://nant.sourceforge.net/)ou alguma outra ferramenta de compilação, provavelmente poderá adicionar uma etapa de compilação para modificar o arquivo de `Web.config` para incluir as configurações específicas de produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-189">If you build your web application using [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), or some other build tool, you can likely add a build step to modify the `Web.config` file to include the production-specific settings.</span></span> <span data-ttu-id="88b39-190">Ou seu fluxo de trabalho de implantação pode se conectar programaticamente ao servidor de controle do código-fonte e recuperar o arquivo de `Web.config` apropriado.</span><span class="sxs-lookup"><span data-stu-id="88b39-190">Or your deployment workflow could programmatically connect to the source control server and retrieve the appropriate `Web.config` file.</span></span>

<span data-ttu-id="88b39-191">A abordagem real para obter as informações de configuração apropriadas para a produção varia muito com base em suas ferramentas e fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="88b39-191">The actual approach for getting the appropriate configuration information to production varies widely based on your tools and workflow.</span></span> <span data-ttu-id="88b39-192">Como tal, não nos aprofundaremos mais neste tópico.</span><span class="sxs-lookup"><span data-stu-id="88b39-192">As such, we will not delve into this topic further.</span></span> <span data-ttu-id="88b39-193">Se você estiver usando uma ferramenta de compilação popular como MSBuild ou NAnt, poderá encontrar artigos de implantação e tutoriais específicos para essas ferramentas por meio de uma pesquisa na Web.</span><span class="sxs-lookup"><span data-stu-id="88b39-193">If you are using a popular build tool like MSBuild or NAnt you can find deployment articles and tutorials specific to these tools through a web search.</span></span>

### <a name="managing-configuration-differences-via-the-web-deployment-project-add-in"></a><span data-ttu-id="88b39-194">Gerenciando diferenças de configuração por meio do suplemento do projeto de implantação da Web</span><span class="sxs-lookup"><span data-stu-id="88b39-194">Managing Configuration Differences via the Web Deployment Project Add-In</span></span>

<span data-ttu-id="88b39-195">Na 2006, a Microsoft lançou o suplemento de projeto de desenvolvimento da Web para o Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="88b39-195">In 2006 Microsoft released the Web Development Project Add-In for Visual Studio 2005.</span></span> <span data-ttu-id="88b39-196">Um suplemento para o Visual Studio 2008 foi lançado em 2008.</span><span class="sxs-lookup"><span data-stu-id="88b39-196">An Add-In for Visual Studio 2008 was released in 2008.</span></span> <span data-ttu-id="88b39-197">Esse suplemento permite que os desenvolvedores de ASP.NET criem um projeto de implantação da Web separado junto com o projeto de aplicativo Web que, quando compilado, compila explicitamente o aplicativo Web e copia os arquivos a serem implantados em um diretório de saída local.</span><span class="sxs-lookup"><span data-stu-id="88b39-197">This Add-In allows for ASP.NET developers to create a separate Web Deployment Project alongside their web application project that, when built, explicitly compiles the web application and copies the files to deploy to a local output directory.</span></span> <span data-ttu-id="88b39-198">O projeto de aplicativo Web usa o MSBuild em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="88b39-198">The Web Application Project uses MSBuild behind the scenes.</span></span>

<span data-ttu-id="88b39-199">Por padrão, o arquivo de `Web.config` do ambiente de desenvolvimento é copiado para o diretório de saída, mas você pode configurar o projeto de implantação da Web para personalizar o</span><span class="sxs-lookup"><span data-stu-id="88b39-199">By default, the development environment's `Web.config` file is copied to the output directory, but you can setup the Web Deployment Project to customize the</span></span>

<span data-ttu-id="88b39-200">informações de configuração que são copiadas para esse diretório das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="88b39-200">configuration information that gets copied to this directory in the following ways:</span></span>

- <span data-ttu-id="88b39-201">Por meio da substituição da seção arquivo `Web.config`, na qual você especifica a seção a ser substituída e um arquivo XML que contém o texto de substituição.</span><span class="sxs-lookup"><span data-stu-id="88b39-201">Via `Web.config` file section replacement, in which you specify the section to replace and an XML file that contains the replacement text.</span></span>
- <span data-ttu-id="88b39-202">Fornecendo um caminho para um arquivo de origem de configuração externa.</span><span class="sxs-lookup"><span data-stu-id="88b39-202">By providing a path to an external configuration source file.</span></span> <span data-ttu-id="88b39-203">Com essa opção selecionada, o projeto de implantação da Web copia um arquivo de `Web.config` específico para o diretório de saída (em vez do arquivo de `Web.config` usado no ambiente de desenvolvimento).</span><span class="sxs-lookup"><span data-stu-id="88b39-203">With this option selected, the Web Deployment Project copies a particular `Web.config` file to the output directory (rather than the `Web.config` file used in the development environment).</span></span>
- <span data-ttu-id="88b39-204">Adicionando regras personalizadas ao arquivo MSBuild usado pelo projeto de implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="88b39-204">By adding custom rules to the MSBuild file used by the Web Deployment Project.</span></span>

<span data-ttu-id="88b39-205">Para implantar o aplicativo Web, crie o projeto de implantação da Web e, em seguida, copie os arquivos da pasta de saída do projeto para o ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-205">To deploy the web application build the Web Deployment Project and then copy the files from the project's output folder to the production environment.</span></span>

<span data-ttu-id="88b39-206">Para saber mais sobre como usar o projeto de implantação da Web, confira [Este artigo](https://msdn.microsoft.com/magazine/cc163448.aspx) sobre os projetos de implantação da Web da edição de abril de 2007 da [msdn Magazine](https://msdn.microsoft.com/magazine/default.aspx)ou consulte os links na seção leitura adicional no final deste tutorial.</span><span class="sxs-lookup"><span data-stu-id="88b39-206">To learn more about using the Web Deployment Project check out [this Web Deployment Projects article](https://msdn.microsoft.com/magazine/cc163448.aspx) from the April 2007 issue of [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), or consult the links in the Further Reading section at the end of this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="88b39-207">Você não pode usar o projeto de implantação da Web com o Visual Web Developer porque o projeto de implantação da Web é implementado como um suplemento do Visual Studio e as edições de Visual Studio Express (incluindo o Visual Web Developer) não dão suporte a suplementos.</span><span class="sxs-lookup"><span data-stu-id="88b39-207">You cannot use the Web Deployment Project with Visual Web Developer because the Web Deployment Project is implemented as a Visual Studio Add-In and the Visual Studio Express Editions (including Visual Web Developer) do not support Add-Ins.</span></span>

## <a name="summary"></a><span data-ttu-id="88b39-208">Resumo</span><span class="sxs-lookup"><span data-stu-id="88b39-208">Summary</span></span>

<span data-ttu-id="88b39-209">Os recursos externos e o comportamento de um aplicativo Web em desenvolvimento normalmente são diferentes de quando o mesmo aplicativo está em produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-209">The external resources and behavior of a web application in development are typically different than when the same application is in production.</span></span> <span data-ttu-id="88b39-210">Por exemplo, cadeias de conexão de banco de dados, opções de compilação e o comportamento quando uma exceção não tratada ocorre normalmente difere entre ambientes.</span><span class="sxs-lookup"><span data-stu-id="88b39-210">For instance, database connection strings, compilation options, and the behavior when an unhandled exception occurs commonly differ between environments.</span></span> <span data-ttu-id="88b39-211">O processo de implantação deve acomodar essas diferenças.</span><span class="sxs-lookup"><span data-stu-id="88b39-211">The deployment process must accommodate these differences.</span></span> <span data-ttu-id="88b39-212">Como discutimos neste tutorial, a abordagem mais simples é copiar manualmente um arquivo de configuração alternativo para o ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="88b39-212">As we discussed in this tutorial, the simplest approach is to manually copy an alternate configuration file to the production environment.</span></span> <span data-ttu-id="88b39-213">Soluções mais elegantes são possíveis ao usar o suplemento do projeto de implantação da Web ou com um processo de compilação ou implantação mais formalizado que pode acomodar essas personalizações.</span><span class="sxs-lookup"><span data-stu-id="88b39-213">More elegant solutions are possible when using the Web Deployment Project Add-In or with a more formalized build or deployment process that can accommodate such customizations.</span></span>

<span data-ttu-id="88b39-214">Boa programação!</span><span class="sxs-lookup"><span data-stu-id="88b39-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="88b39-215">Leitura adicional</span><span class="sxs-lookup"><span data-stu-id="88b39-215">Further Reading</span></span>

<span data-ttu-id="88b39-216">Para obter mais informações sobre os tópicos discutidos neste tutorial, consulte os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="88b39-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="88b39-217">Cadeias de conexão explicadas</span><span class="sxs-lookup"><span data-stu-id="88b39-217">Connection Strings Explained</span></span>](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string)
- [<span data-ttu-id="88b39-218">Cadeias de conexão do banco de dados @ ConnectionStrings.com</span><span class="sxs-lookup"><span data-stu-id="88b39-218">Database Connection Strings @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="88b39-219">Não executar aplicativos ASP.NET de produção com `debug="true"` habilitado</span><span class="sxs-lookup"><span data-stu-id="88b39-219">Don't Run Production ASP.NET Applications with `debug="true"` Enabled</span></span>](https://weblogs.asp.net/scottgu/Don_1920_t-run-production-ASP.NET-Applications-with-debug_3D001D20_true_1D20_-enabled)
- [<span data-ttu-id="88b39-220">Respondendo normalmente a exceções sem tratamento – exibindo páginas de erro amigáveis</span><span class="sxs-lookup"><span data-stu-id="88b39-220">Gracefully Responding to Unhandled Exceptions - Displaying User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="88b39-221">Como faço para: usar um projeto de implantação da Web do Visual Studio 2008?</span><span class="sxs-lookup"><span data-stu-id="88b39-221">How Do I: Use a Visual Studio 2008 Web Deployment Project?</span></span>](../../../videos/how-do-i/how-do-i-use-a-visual-studio-2008-web-deployment-project.md)
- [<span data-ttu-id="88b39-222">Definições de configuração de chave ao implantar um banco de dados</span><span class="sxs-lookup"><span data-stu-id="88b39-222">Key Configuration Settings When Deploying a Database</span></span>](http://aspnet.4guysfromrolla.com/articles/121008-1.aspx)
- <span data-ttu-id="88b39-223">Download de [projetos de implantação da Web do visual studio 2008](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | download de [projetos de implantação da Web do Visual Studio 2005](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span><span class="sxs-lookup"><span data-stu-id="88b39-223">[Visual Studio 2008 Web Deployment Projects Download](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Visual Studio 2005 Web Deployment Projects Download](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span></span>
- <span data-ttu-id="88b39-224">[Projetos de implantação na Web do vs 2008](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [suporte ao projeto de implantação da web do vs 2008 lançado](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span><span class="sxs-lookup"><span data-stu-id="88b39-224">[VS 2008 Web Deployment Projects](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 Web Deployment Project Support Released](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span></span>
- [<span data-ttu-id="88b39-225">Projetos de Implantação da Web</span><span class="sxs-lookup"><span data-stu-id="88b39-225">Web Deployment Projects</span></span>](https://msdn.microsoft.com/magazine/cc163448.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="88b39-226">[Anterior](deploying-your-site-using-visual-studio-vb.md)
> [Próximo](core-differences-between-iis-and-the-asp-net-development-server-vb.md)</span><span class="sxs-lookup"><span data-stu-id="88b39-226">[Previous](deploying-your-site-using-visual-studio-vb.md)
[Next](core-differences-between-iis-and-the-asp-net-development-server-vb.md)</span></span>
