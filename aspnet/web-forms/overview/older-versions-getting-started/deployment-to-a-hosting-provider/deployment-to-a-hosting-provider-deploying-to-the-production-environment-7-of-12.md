---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
title: 'Implantando um aplicativo Web ASP.NET com o SQL Server Compact usando o Visual Studio ou o Visual Web Developer: implantando no ambiente de produção-7 de 12 | Microsoft Docs'
author: tdykstra
description: Esta série de tutoriais mostra como implantar (publicar) um projeto de aplicativo Web ASP.NET que inclui um banco de dados SQL Server Compact usando o Visual Stu...
ms.author: riande
ms.date: 11/17/2011
ms.assetid: b83ab819-2b05-4776-b7b4-79ef78d457a5
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
msc.type: authoredcontent
ms.openlocfilehash: db838633accdedd7c0693b126a007e254ca681e4
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74627461"
---
# <a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-deploying-to-the-production-environment---7-of-12"></a><span data-ttu-id="63f16-103">Implantando um aplicativo Web ASP.NET com o SQL Server Compact usando o Visual Studio ou o Visual Web Developer: implantando no ambiente de produção-7 de 12</span><span class="sxs-lookup"><span data-stu-id="63f16-103">Deploying an ASP.NET Web Application with SQL Server Compact using Visual Studio or Visual Web Developer: Deploying to the Production Environment - 7 of 12</span></span>

<span data-ttu-id="63f16-104">por [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="63f16-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="63f16-105">Baixar o projeto inicial</span><span class="sxs-lookup"><span data-stu-id="63f16-105">Download Starter Project</span></span>](https://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> <span data-ttu-id="63f16-106">Esta série de tutoriais mostra como implantar (publicar) um projeto de aplicativo Web ASP.NET que inclui um banco de dados SQL Server Compact usando o Visual Studio 2012 RC ou o Visual Studio Express 2012 RC para Web.</span><span class="sxs-lookup"><span data-stu-id="63f16-106">This series of tutorials shows you how to deploy (publish) an ASP.NET web application project that includes a SQL Server Compact database by using Visual Studio 2012 RC or Visual Studio Express 2012 RC for Web.</span></span> <span data-ttu-id="63f16-107">Você também pode usar o Visual Studio 2010 se instalar a atualização de publicação na Web.</span><span class="sxs-lookup"><span data-stu-id="63f16-107">You can also use Visual Studio 2010 if you install the Web Publish Update.</span></span> <span data-ttu-id="63f16-108">Para obter uma introdução à série, consulte [o primeiro tutorial da série](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="63f16-108">For an introduction to the series, see [the first tutorial in the series](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span></span>
> 
> <span data-ttu-id="63f16-109">Para ver um tutorial que mostra os recursos de implantação introduzidos após a versão RC do Visual Studio 2012, mostra como implantar SQL Server edições diferentes de SQL Server Compact e mostra como implantar o Azure App aplicativos Web do serviço, consulte [implantação da Web do ASP.NET usando o Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span><span class="sxs-lookup"><span data-stu-id="63f16-109">For a tutorial that shows deployment features introduced after the RC release of Visual Studio 2012, shows how to deploy SQL Server editions other than SQL Server Compact, and shows how to deploy to Azure App Service Web Apps, see [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span></span>

## <a name="overview"></a><span data-ttu-id="63f16-110">{1&gt;Visão Geral&lt;1}</span><span class="sxs-lookup"><span data-stu-id="63f16-110">Overview</span></span>

<span data-ttu-id="63f16-111">Neste tutorial, você configura uma conta com um provedor de hospedagem e implanta seu aplicativo Web ASP.NET no ambiente de produção usando o recurso de publicação com um clique do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="63f16-111">In this tutorial, you set up an account with a hosting provider and deploy your ASP.NET web application to the production environment by using the Visual Studio one-click publish feature.</span></span>

<span data-ttu-id="63f16-112">Lembrete: se você receber uma mensagem de erro ou algo não funcionar enquanto percorre o tutorial, certifique-se de verificar a [página de solução de problemas](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="63f16-112">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span></span>

## <a name="selecting-a-hosting-provider"></a><span data-ttu-id="63f16-113">Selecionando um provedor de hospedagem</span><span class="sxs-lookup"><span data-stu-id="63f16-113">Selecting a Hosting Provider</span></span>

<span data-ttu-id="63f16-114">Para o aplicativo da Contoso University e esta série de tutoriais, você precisa de um provedor que dê suporte a ASP.NET 4 e Implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="63f16-114">For the Contoso University application and this tutorial series, you need a provider that supports ASP.NET 4 and Web Deploy.</span></span> <span data-ttu-id="63f16-115">Uma empresa de hospedagem específica foi escolhida para que os tutoriais possam ilustrar a experiência completa de implantação em um site ativo.</span><span class="sxs-lookup"><span data-stu-id="63f16-115">A specific hosting company was chosen so that the tutorials could illustrate the complete experience of deploying to a live website.</span></span> <span data-ttu-id="63f16-116">Cada empresa de hospedagem fornece recursos diferentes, e a experiência de implantação em seus servidores varia de certa forma.</span><span class="sxs-lookup"><span data-stu-id="63f16-116">Each hosting company provides different features, and the experience of deploying to their servers varies somewhat.</span></span> <span data-ttu-id="63f16-117">No entanto, o processo descrito neste tutorial é típico para o processo geral.</span><span class="sxs-lookup"><span data-stu-id="63f16-117">However, the process described in this tutorial is typical for the overall process.</span></span> <span data-ttu-id="63f16-118">O provedor de hospedagem usado para este tutorial, Cytanium.com, é um dos muitos que estão disponíveis e seu uso neste tutorial não constitui um endosso ou recomendação.</span><span class="sxs-lookup"><span data-stu-id="63f16-118">The hosting provider used for this tutorial, Cytanium.com, is one of many that are available, and its use in this tutorial does not constitute an endorsement or recommendation.</span></span>

<span data-ttu-id="63f16-119">Quando estiver pronto para selecionar seu próprio provedor de hospedagem, você poderá comparar recursos e preços na [Galeria de provedores](https://www.microsoft.com/web/hosting) no site do Microsoft.com/Web.</span><span class="sxs-lookup"><span data-stu-id="63f16-119">When you are ready to select your own hosting provider, you can compare features and prices in the [gallery of providers](https://www.microsoft.com/web/hosting) on the Microsoft.com/web site.</span></span>

## <a name="creating-an-account"></a><span data-ttu-id="63f16-120">Criando uma conta</span><span class="sxs-lookup"><span data-stu-id="63f16-120">Creating an Account</span></span>

<span data-ttu-id="63f16-121">Crie uma conta no provedor selecionado.</span><span class="sxs-lookup"><span data-stu-id="63f16-121">Create an account at your selected provider.</span></span> <span data-ttu-id="63f16-122">Se o suporte para um banco de dados SQL Server completo for um extra adicional, você não precisará selecioná-lo para este tutorial, mas você precisará dele para o tutorial [migrar para SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md) mais adiante nesta série.</span><span class="sxs-lookup"><span data-stu-id="63f16-122">If support for a full SQL Server database is an added extra, you do not need to select it for this tutorial, but you'll need it for the [Migrating to SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md) tutorial later in this series.</span></span>

<span data-ttu-id="63f16-123">Para esses tutoriais, você não precisa registrar um novo nome de domínio.</span><span class="sxs-lookup"><span data-stu-id="63f16-123">For these tutorials, you don't have to register a new domain name.</span></span> <span data-ttu-id="63f16-124">Você pode testar para verificar a implantação bem-sucedida usando a URL temporária atribuída ao site pelo provedor.</span><span class="sxs-lookup"><span data-stu-id="63f16-124">You can test to verify successful deployment by using the temporary URL assigned to the site by the provider.</span></span>

<span data-ttu-id="63f16-125">Depois que a conta tiver sido criada, você normalmente receberá um email de boas-vindas que contém todas as informações necessárias para implantar e gerenciar seu site.</span><span class="sxs-lookup"><span data-stu-id="63f16-125">After the account has been created, you typically receive a welcome email that contains all the information you need in order to deploy and manage your site.</span></span> <span data-ttu-id="63f16-126">As informações que seu provedor de hospedagem envia serão semelhantes ao que é mostrado aqui.</span><span class="sxs-lookup"><span data-stu-id="63f16-126">The information that your hosting provider sends you will be similar to what is shown here.</span></span> <span data-ttu-id="63f16-127">O email de boas-vindas do Cytanium enviado para novos proprietários da conta inclui as seguintes informações:</span><span class="sxs-lookup"><span data-stu-id="63f16-127">The Cytanium welcome email that's sent to new account owners includes the following information:</span></span>

- <span data-ttu-id="63f16-128">A URL para o site do painel de controle do provedor, onde você pode gerenciar as configurações do seu site.</span><span class="sxs-lookup"><span data-stu-id="63f16-128">The URL to the provider's control panel site, where you can manage settings for your site.</span></span> <span data-ttu-id="63f16-129">A ID e a senha que você especificou estão incluídas nesta parte do email de boas-vindas para facilitar a referência.</span><span class="sxs-lookup"><span data-stu-id="63f16-129">The ID and password you specified are included in this part of the welcome email for easy reference.</span></span> <span data-ttu-id="63f16-130">(Ambos foram alterados para um valor de demonstração para esta ilustração.)</span><span class="sxs-lookup"><span data-stu-id="63f16-130">(Both have been changed to a demo value for this illustration.)</span></span>

    <span data-ttu-id="63f16-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span></span>
- <span data-ttu-id="63f16-132">A versão .NET Framework padrão e informações sobre como alterá-la.</span><span class="sxs-lookup"><span data-stu-id="63f16-132">The default .NET Framework version and information about how to change it.</span></span> <span data-ttu-id="63f16-133">Muitos sites de hospedagem assumem como padrão o 2,0, que funciona com aplicativos ASP.NET destinados ao .NET Framework 2,0, 3,0 ou 3,5.</span><span class="sxs-lookup"><span data-stu-id="63f16-133">Many hosting sites default to 2.0, which works with ASP.NET applications that target the .NET Framework 2.0, 3.0, or 3.5.</span></span> <span data-ttu-id="63f16-134">No entanto, a Contoso University é um aplicativo .NET Framework 4, portanto, você precisa alterar essa configuração.</span><span class="sxs-lookup"><span data-stu-id="63f16-134">However Contoso University is a .NET Framework 4 application, so you have to change this setting.</span></span> <span data-ttu-id="63f16-135">(Para um aplicativo ASP.NET 4,5, você usaria a configuração do .NET 4,0.)</span><span class="sxs-lookup"><span data-stu-id="63f16-135">(For an ASP.NET 4.5 application you would use the .NET 4.0 setting.)</span></span>

    <span data-ttu-id="63f16-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span></span>
- <span data-ttu-id="63f16-137">A URL temporária que você pode usar para acessar seu site da Web.</span><span class="sxs-lookup"><span data-stu-id="63f16-137">The temporary URL that you can use to access your web site.</span></span> <span data-ttu-id="63f16-138">Quando essa conta foi criada, "contosouniversity.com" foi inserido como o nome de domínio existente.</span><span class="sxs-lookup"><span data-stu-id="63f16-138">When this account was created, "contosouniversity.com" was entered as the existing domain name.</span></span> <span data-ttu-id="63f16-139">Portanto, a URL temporária é `http://contosouniversity.com.vserver01.cytanium.com`.</span><span class="sxs-lookup"><span data-stu-id="63f16-139">Therefore the temporary URL is `http://contosouniversity.com.vserver01.cytanium.com`.</span></span>

    <span data-ttu-id="63f16-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span></span>
- <span data-ttu-id="63f16-141">Informações sobre como configurar bancos de dados e as cadeias de conexão de que você precisa para acessá-los:</span><span class="sxs-lookup"><span data-stu-id="63f16-141">Information about how to set up databases, and the connection strings that you need in order to access them:</span></span>

    <span data-ttu-id="63f16-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span></span>
- <span data-ttu-id="63f16-143">Informações sobre as ferramentas e configurações para implantar seu site.</span><span class="sxs-lookup"><span data-stu-id="63f16-143">Information about tools and settings for deploying your site.</span></span> <span data-ttu-id="63f16-144">(O email de Cytanium também menciona WebMatrix, que é omitido aqui.)</span><span class="sxs-lookup"><span data-stu-id="63f16-144">(The email from Cytanium also mentions WebMatrix, which is omitted here.)</span></span>

    <span data-ttu-id="63f16-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span></span>

## <a name="setting-the-net-framework-version"></a><span data-ttu-id="63f16-146">Definindo a versão de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="63f16-146">Setting the .NET Framework Version</span></span>

<span data-ttu-id="63f16-147">O email de boas-vindas do Cytanium inclui um link para obter instruções sobre como alterar a versão do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="63f16-147">The Cytanium welcome email includes a link to instructions on how to change the version of the .NET Framework.</span></span> <span data-ttu-id="63f16-148">Estas instruções explicam que isso pode ser feito por meio do painel de controle do Cytanium.</span><span class="sxs-lookup"><span data-stu-id="63f16-148">These instructions explain that this can be done through the Cytanium control panel.</span></span> <span data-ttu-id="63f16-149">Outros provedores têm sites do painel de controle que parecem diferentes ou podem instruí-lo a fazer isso de maneira diferente.</span><span class="sxs-lookup"><span data-stu-id="63f16-149">Other providers have control panel sites that look different, or they may instruct you to do this in a different way.</span></span>

<span data-ttu-id="63f16-150">Vá para a URL do painel de controle.</span><span class="sxs-lookup"><span data-stu-id="63f16-150">Go to the control panel URL.</span></span> <span data-ttu-id="63f16-151">Depois de fazer logon com seu nome de usuário e senha, você verá o painel de controle.</span><span class="sxs-lookup"><span data-stu-id="63f16-151">After logging in with your user name and password, you see the control panel.</span></span>

<span data-ttu-id="63f16-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span></span>

<span data-ttu-id="63f16-153">Na caixa **espaços de hospedagem** , mantenha o ponteiro do mouse sobre o ícone da Web e selecione **sites** no menu.</span><span class="sxs-lookup"><span data-stu-id="63f16-153">In the **Hosting Spaces** box, hold the pointer over the Web icon and select **Web Sites** from the menu.</span></span>

<span data-ttu-id="63f16-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span></span>

<span data-ttu-id="63f16-155">Na caixa **sites** , clique em **contosouniversity.com** (o nome do site que você usou quando criou a conta).</span><span class="sxs-lookup"><span data-stu-id="63f16-155">In the **Web Sites** box, click **contosouniversity.com** (the name of the site that you used when you created the account).</span></span>

<span data-ttu-id="63f16-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span></span>

<span data-ttu-id="63f16-157">Na caixa **Propriedades do site** , selecione a guia **extensões** .</span><span class="sxs-lookup"><span data-stu-id="63f16-157">In the **Web Site Properties** box, select the **Extensions** tab.</span></span>

<span data-ttu-id="63f16-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span></span>

<span data-ttu-id="63f16-159">Altere ASP.NET do **pipeline integrado 2,0** para **4,0 (pipeline integrado)** e clique em **Atualizar**.</span><span class="sxs-lookup"><span data-stu-id="63f16-159">Change ASP.NET from **2.0 Integrated Pipeline** to **4.0 (Integrated Pipeline)**, and then click **Update**.</span></span>

## <a name="publishing-to-the-hosting-provider"></a><span data-ttu-id="63f16-160">Publicando no provedor de hospedagem</span><span class="sxs-lookup"><span data-stu-id="63f16-160">Publishing to the Hosting Provider</span></span>

<span data-ttu-id="63f16-161">O email de boas-vindas do provedor de hospedagem inclui todas as configurações necessárias para publicar o projeto e você pode inserir essas informações manualmente em um perfil de publicação.</span><span class="sxs-lookup"><span data-stu-id="63f16-161">The welcome email from the hosting provider includes all of the settings you need in order to publish the project, and you can enter that information manually into a publish profile.</span></span> <span data-ttu-id="63f16-162">Mas você usará um método mais fácil e menos propenso a erros para configurar a implantação no provedor: você baixará um arquivo *. publishsettings* e o importará para um perfil de publicação.</span><span class="sxs-lookup"><span data-stu-id="63f16-162">But you'll use an easier and less error-prone method to configure deployment to the provider: you'll download a *.publishsettings* file and import it into a publish profile.</span></span>

<span data-ttu-id="63f16-163">No navegador, vá para o painel de controle do Cytanium e selecione **Web** e, em seguida, selecione **sites.**</span><span class="sxs-lookup"><span data-stu-id="63f16-163">In your browser, go to the Cytanium control panel and select **Web** and then select **Web Sites.**</span></span>

![Painel de controle selecionando sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image19.png)

<span data-ttu-id="63f16-165">Selecione o site da **contosouniversity.com** .</span><span class="sxs-lookup"><span data-stu-id="63f16-165">Select the **contosouniversity.com** web site.</span></span>

![Painel de controle selecionando contosouniversity.com](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image20.png)

<span data-ttu-id="63f16-167">Selecione a guia **publicação na Web** .</span><span class="sxs-lookup"><span data-stu-id="63f16-167">Select the **Web Publishing** tab.</span></span>

![Guia de publicação na Web do painel de controle](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image21.png)

<span data-ttu-id="63f16-169">Crie credenciais a serem usadas para publicação na Web inserindo um nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="63f16-169">Create credentials to use for web publishing by entering a user name and password.</span></span> <span data-ttu-id="63f16-170">Você pode inserir as mesmas credenciais que usa para fazer logon no painel de controle.</span><span class="sxs-lookup"><span data-stu-id="63f16-170">You can enter the same credentials that you use to log on to the control panel.</span></span> <span data-ttu-id="63f16-171">Em seguida, clique em **habilitar**.</span><span class="sxs-lookup"><span data-stu-id="63f16-171">Then click **Enable**.</span></span>

![Criar credenciais de publicação no painel de controle](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image22.png)

<span data-ttu-id="63f16-173">Clique em **baixar perfil de publicação para este site**.</span><span class="sxs-lookup"><span data-stu-id="63f16-173">Click **Download Publishing Profile for this web site**.</span></span>

![Baixar o perfil de publicação do painel de controle](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image23.png)

<span data-ttu-id="63f16-175">Quando for solicitado que você abra ou salve o arquivo, salve-o.</span><span class="sxs-lookup"><span data-stu-id="63f16-175">When you are prompted to open or save the file, save it.</span></span>

![Salvar arquivo de perfil de publicação](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image24.png)

<span data-ttu-id="63f16-177">Em **Gerenciador de soluções** no Visual Studio, clique com o botão direito do mouse no projeto ContosoUniversity e selecione **publicar**.</span><span class="sxs-lookup"><span data-stu-id="63f16-177">In **Solution Explorer** in Visual Studio, right-click the ContosoUniversity project and select **Publish**.</span></span> <span data-ttu-id="63f16-178">A caixa de diálogo **publicar Web** é aberta na guia **Visualizar** com o perfil de **teste** selecionado porque esse é o último perfil usado.</span><span class="sxs-lookup"><span data-stu-id="63f16-178">The **Publish Web** dialog box opens on the **Preview** tab with the **Test** profile selected because that is the last profile you used.</span></span>

<span data-ttu-id="63f16-179">Selecione a guia **perfil** e clique em **importar**.</span><span class="sxs-lookup"><span data-stu-id="63f16-179">Select the **Profile** tab and then Click **Import**.</span></span>

![Botão de importação do assistente publicar Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image25.png)

<span data-ttu-id="63f16-181">Na caixa de diálogo **Importar configurações de publicação** , selecione o arquivo *. publishsettings* que você baixou e clique em **abrir**.</span><span class="sxs-lookup"><span data-stu-id="63f16-181">In the **Import Publish Settings** dialog box, select the *.publishsettings* file that you downloaded, and click **Open**.</span></span> <span data-ttu-id="63f16-182">O assistente avança para a guia conexão com todos os campos preenchidos.</span><span class="sxs-lookup"><span data-stu-id="63f16-182">The wizard advances to the Connection tab with all of the fields filled in.</span></span>

![Guia de conexão do assistente publicar Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image26.png)

<span data-ttu-id="63f16-184">O arquivo. publishsettings coloca a URL permanente planejada para o site na caixa URL de destino, mas se você ainda não tiver comprado esse domínio, substitua o valor pela URL temporária.</span><span class="sxs-lookup"><span data-stu-id="63f16-184">The .publishsettings file puts the planned permanent URL for the site in the Destination URL box, but if you haven't purchased that domain yet, replace the value with the temporary URL.</span></span> <span data-ttu-id="63f16-185">Para este exemplo, a URL é  *[http://contosouniversity.com.vserver01.cytanium.com](http://contosouniversity.com.vserver01.cytanium.com).*</span><span class="sxs-lookup"><span data-stu-id="63f16-185">For this example, the URL is *[http://contosouniversity.com.vserver01.cytanium.com](http://contosouniversity.com.vserver01.cytanium.com).*</span></span> <span data-ttu-id="63f16-186">A única finalidade desta caixa é especificar qual URL o navegador abrirá automaticamente após a implantação.</span><span class="sxs-lookup"><span data-stu-id="63f16-186">The only purpose of this box is to specify what URL the browser will open to automatically after successfully after deployment.</span></span> <span data-ttu-id="63f16-187">Se você deixá-lo em branco, a única consequência é que o navegador não será iniciado automaticamente após a implantação.</span><span class="sxs-lookup"><span data-stu-id="63f16-187">If you leave it blank, the only consequence is that the browser won't start automatically after deployment.</span></span>

<span data-ttu-id="63f16-188">Clique em **validar conexão** para verificar se as configurações estão corretas e se você pode se conectar ao servidor.</span><span class="sxs-lookup"><span data-stu-id="63f16-188">Click **Validate Connection** to verify that the settings are correct and you can connect to the server.</span></span> <span data-ttu-id="63f16-189">Como vimos anteriormente, uma marca de seleção verde verifica se a conexão foi bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="63f16-189">As you saw earlier, a green check mark verifies that the connection is successful.</span></span>

<span data-ttu-id="63f16-190">Ao clicar em validar conexão, você poderá ver uma caixa de diálogo de **erro de certificado** .</span><span class="sxs-lookup"><span data-stu-id="63f16-190">When you click Validate Connection, you might see a **Certificate Error** dialog box.</span></span> <span data-ttu-id="63f16-191">Se você fizer isso, verifique se o nome do servidor é o esperado.</span><span class="sxs-lookup"><span data-stu-id="63f16-191">If you do, verify that the server name is what you expect.</span></span> <span data-ttu-id="63f16-192">Se for, selecione **salvar este certificado para futuras sessões do Visual Studio** e clique em **aceitar**.</span><span class="sxs-lookup"><span data-stu-id="63f16-192">If it is, select **Save this certificate for future sessions of Visual Studio** and click **Accept**.</span></span> <span data-ttu-id="63f16-193">(Esse erro significa que o provedor de hospedagem optou por evitar a despesa de comprar um certificado SSL para a URL na qual você está implantando.</span><span class="sxs-lookup"><span data-stu-id="63f16-193">(This error means that the hosting provider has chosen to avoid the expense of purchasing an SSL certificate for the URL that you are deploying to.</span></span> <span data-ttu-id="63f16-194">Se preferir estabelecer uma conexão segura usando um certificado válido, entre em contato com seu provedor de hospedagem.)</span><span class="sxs-lookup"><span data-stu-id="63f16-194">If you prefer to establish a secure connection by using a valid certificate, contact your hosting provider.)</span></span>

![Erro de certificado](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image27.png)

<span data-ttu-id="63f16-196">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="63f16-196">Click **Next**.</span></span>

<span data-ttu-id="63f16-197">Na seção **bancos de dados** da guia **configurações** , insira os mesmos valores que você inseriu para o perfil de publicação de teste.</span><span class="sxs-lookup"><span data-stu-id="63f16-197">In the **Databases** section of the **Settings** tab, enter the same values that you entered for the Test publish profile.</span></span> <span data-ttu-id="63f16-198">Você encontrará as cadeias de conexão necessárias nas listas suspensas.</span><span class="sxs-lookup"><span data-stu-id="63f16-198">You'll find the connection strings you need in the drop-down lists.</span></span>

- <span data-ttu-id="63f16-199">Na caixa Cadeia de conexão para **SchoolContext,** selecione `Data Source=|DataDirectory|School-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="63f16-199">In the connection string box for **SchoolContext,** select `Data Source=|DataDirectory|School-Prod.sdf`</span></span>
- <span data-ttu-id="63f16-200">Em **SchoolContext**, selecione **aplicar migrações do Code First**.</span><span class="sxs-lookup"><span data-stu-id="63f16-200">Under **SchoolContext**, select **Apply Code First Migrations**.</span></span>
- <span data-ttu-id="63f16-201">Na caixa Cadeia de conexão para **DefaultConnection**, selecione `Data Source=|DataDirectory|aspnet-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="63f16-201">In the connection string box for **DefaultConnection**, select `Data Source=|DataDirectory|aspnet-Prod.sdf`</span></span>
- <span data-ttu-id="63f16-202">Em **DefaultConnection**, deixe **Atualizar banco de dados** limpo.</span><span class="sxs-lookup"><span data-stu-id="63f16-202">Under **DefaultConnection**, leave **Update database** cleared.</span></span>

![Guia de configurações do assistente publicar Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image28.png)

<span data-ttu-id="63f16-204">Clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="63f16-204">Click **Next**.</span></span>

<span data-ttu-id="63f16-205">Na guia **Visualização** , clique em **Iniciar visualização** para ver uma lista dos arquivos que serão copiados.</span><span class="sxs-lookup"><span data-stu-id="63f16-205">In the **Preview** tab, click **Start Preview** to see a list of the files that will be copied.</span></span> <span data-ttu-id="63f16-206">Você verá a mesma lista que viu anteriormente ao implantar no IIS no computador local.</span><span class="sxs-lookup"><span data-stu-id="63f16-206">You see the same list that you saw earlier when you deployed to IIS on the local computer.</span></span>

<span data-ttu-id="63f16-207">Antes de publicar, altere o nome do perfil para que o arquivo de transformação Web. Production. config seja aplicado.</span><span class="sxs-lookup"><span data-stu-id="63f16-207">Before you publish, change the name of the profile so that your Web.Production.config transformation file will be applied.</span></span> <span data-ttu-id="63f16-208">Selecione a guia **perfil** e clique em **gerenciar perfis**.</span><span class="sxs-lookup"><span data-stu-id="63f16-208">Select the **Profile** tab and click **Manage Profiles**.</span></span>

![Assistente de publicação na Web gerenciar perfis](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image29.png)

<span data-ttu-id="63f16-210">Na caixa de diálogo **Editar perfis de publicação na Web** , selecione o perfil de produção, clique em **renomear**e altere o nome do perfil para produção.</span><span class="sxs-lookup"><span data-stu-id="63f16-210">In the **Edit Web Publish Profiles** dialog box, select the production profile, click **Rename**, and change the profile name to Production.</span></span> <span data-ttu-id="63f16-211">Em seguida, clique em **fechar**.</span><span class="sxs-lookup"><span data-stu-id="63f16-211">Then click **Close**.</span></span>

![Caixa de diálogo Editar perfis de publicação na Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image30.png)

<span data-ttu-id="63f16-213">Clique em **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="63f16-213">Click **Publish**.</span></span>

<span data-ttu-id="63f16-214">O aplicativo é publicado no provedor de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="63f16-214">The application is published to the hosting provider.</span></span> <span data-ttu-id="63f16-215">O resultado é mostrado na janela **saída** .</span><span class="sxs-lookup"><span data-stu-id="63f16-215">The result shows in the **Output** window.</span></span>

![Janela de saída após a implantação](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image31.png)

<span data-ttu-id="63f16-217">O navegador é aberto automaticamente na caixa URL inserida na **URL de destino** na guia **conexão** do assistente **publicar Web** .</span><span class="sxs-lookup"><span data-stu-id="63f16-217">The browser automatically opens to the URL that you entered in **Destination URL** box on the **Connection** tab of the **Publish Web** wizard.</span></span> <span data-ttu-id="63f16-218">Você vê o mesmo home page como quando executa o site no Visual Studio, exceto que agora não há nenhum indicador de ambiente "(teste)" ou "(dev)" na barra de título.</span><span class="sxs-lookup"><span data-stu-id="63f16-218">You see the same home page as when you run the site in Visual Studio, except now there is no "(Test)" or "(Dev)" environment indicator in the title bar.</span></span> <span data-ttu-id="63f16-219">Isso indica que a transformação *Web. config* do indicador de ambiente funcionou corretamente.</span><span class="sxs-lookup"><span data-stu-id="63f16-219">This indicates that the environment indicator *Web.config* transformation worked correctly.</span></span>

> [!NOTE]
> <span data-ttu-id="63f16-220">Se você ainda vir "(teste)" no cabeçalho, exclua a pasta *obj* do projeto ContosoUniversity e reimplante.</span><span class="sxs-lookup"><span data-stu-id="63f16-220">If you still see "(Test)" in the heading, delete the *obj* folder from the ContosoUniversity project and redeploy.</span></span> <span data-ttu-id="63f16-221">Nas versões de pré-lançamento do software, o arquivo de transformação aplicado anteriormente (Web. Test. config) pode ser aplicado novamente, embora você esteja usando o perfil de produção.</span><span class="sxs-lookup"><span data-stu-id="63f16-221">In pre-release versions of the software, the previously applied transformation file (Web.Test.config) might get applied again although you are using the Production profile.</span></span>

<span data-ttu-id="63f16-222">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-222">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span></span>

<span data-ttu-id="63f16-223">Antes de executar uma página que cause acesso ao banco de dados, verifique se o ELMAH poderá registrar os erros que ocorrerem.</span><span class="sxs-lookup"><span data-stu-id="63f16-223">Before you run a page that causes database access, make sure that Elmah will be able to log any errors that occur.</span></span>

## <a name="setting-folder-permissions-for-elmah"></a><span data-ttu-id="63f16-224">Definindo permissões de pasta para o ELMAH</span><span class="sxs-lookup"><span data-stu-id="63f16-224">Setting Folder Permissions for Elmah</span></span>

<span data-ttu-id="63f16-225">Como você se lembra do tutorial anterior nesta série, você deve certificar-se de que o aplicativo tenha permissões de gravação para a pasta em seu aplicativo em que o ELMAH armazena arquivos de log de erros.</span><span class="sxs-lookup"><span data-stu-id="63f16-225">As you remember from the previous tutorial in this series, you must make sure that the application has Write permissions for the folder in your application where Elmah stores error log files.</span></span> <span data-ttu-id="63f16-226">Quando você implantou o no IIS localmente em seu computador, você define essas permissões manualmente.</span><span class="sxs-lookup"><span data-stu-id="63f16-226">When you deployed to IIS locally on your computer, you set those permissions manually.</span></span> <span data-ttu-id="63f16-227">Nesta seção, você verá como definir permissões em Cytanium.</span><span class="sxs-lookup"><span data-stu-id="63f16-227">In this section, you'll see how to set permissions at Cytanium.</span></span> <span data-ttu-id="63f16-228">(Alguns provedores de hospedagem podem não permitir que você faça isso; eles podem oferecer uma ou mais pastas predefinidas com permissões de gravação.</span><span class="sxs-lookup"><span data-stu-id="63f16-228">(Some hosting providers may not enable you to do this; they may offer one or more predefined folders with Write permissions.</span></span> <span data-ttu-id="63f16-229">Nesse caso, você precisaria modificar seu aplicativo para usar as pastas especificadas.)</span><span class="sxs-lookup"><span data-stu-id="63f16-229">In that case you would have to modify your application to use the specified folders.)</span></span>

<span data-ttu-id="63f16-230">Você pode definir permissões de pasta no painel de controle Cytanium.</span><span class="sxs-lookup"><span data-stu-id="63f16-230">You can set folder permissions in the Cytanium control panel.</span></span> <span data-ttu-id="63f16-231">Vá para a URL do painel de controle e selecione **Gerenciador de arquivos**.</span><span class="sxs-lookup"><span data-stu-id="63f16-231">Go to the control panel URL and select **File Manager**.</span></span>

<span data-ttu-id="63f16-232">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-232">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span></span>

<span data-ttu-id="63f16-233">Na caixa **Gerenciador de arquivos** , selecione **contosouniversity.com** e **wwwroot** para ver a pasta raiz do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="63f16-233">In the **File Manager** box, select **contosouniversity.com** and then **wwwroot** to see the application's root folder.</span></span> <span data-ttu-id="63f16-234">Clique no ícone de cadeado ao lado de **ELMAH**.</span><span class="sxs-lookup"><span data-stu-id="63f16-234">Click the padlock icon next to **Elmah**.</span></span>

<span data-ttu-id="63f16-235">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-235">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span></span>

<span data-ttu-id="63f16-236">Na janela permissões da **pasta**/de **arquivo** , marque as caixas de seleção **ler** e **gravar** para **contosouniversity.com** e clique em **definir permissões**.</span><span class="sxs-lookup"><span data-stu-id="63f16-236">In the **File**/**Folder Permissions** window, select the **Read** and **Write** checkboxes for **contosouniversity.com** and click **Set Permissions**.</span></span>

<span data-ttu-id="63f16-237">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-237">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span></span>

<span data-ttu-id="63f16-238">Verifique se o ELMAH tem acesso de gravação à pasta do *ELMAH* , causando um erro e exibindo o relatório de erros do ELMAH.</span><span class="sxs-lookup"><span data-stu-id="63f16-238">Make sure that Elmah has write access to the *Elmah* folder by causing an error and then displaying the Elmah error report.</span></span> <span data-ttu-id="63f16-239">Solicite uma URL inválida como *Studentsxxx. aspx*.</span><span class="sxs-lookup"><span data-stu-id="63f16-239">Request an invalid URL like *Studentsxxx.aspx*.</span></span> <span data-ttu-id="63f16-240">Como antes, você vê a página *GenericErrorPage. aspx* .</span><span class="sxs-lookup"><span data-stu-id="63f16-240">As before, you see the *GenericErrorPage.aspx* page.</span></span> <span data-ttu-id="63f16-241">Clique no link **fazer logoff** e, em seguida, execute o *ELMAH. axd*.</span><span class="sxs-lookup"><span data-stu-id="63f16-241">Click the **Log Out** link, and then run *Elmah.axd*.</span></span> <span data-ttu-id="63f16-242">Primeiro, você obtém a página de **logon** , que valida que a transformação *Web. config* adicionou com êxito a autorização do ELMAH.</span><span class="sxs-lookup"><span data-stu-id="63f16-242">You get the **Log In** page first, which validates that the *Web.config* transform successfully added Elmah authorization.</span></span> <span data-ttu-id="63f16-243">Depois de fazer logon, você verá o relatório que mostra o erro que acabou de ser causado.</span><span class="sxs-lookup"><span data-stu-id="63f16-243">After you log in, you see the report that shows the error you just caused.</span></span>

<span data-ttu-id="63f16-244">[![ELMAH. axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-244">[![Elmah.axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span></span>

## <a name="testing-in-the-production-environment"></a><span data-ttu-id="63f16-245">Teste no ambiente de produção</span><span class="sxs-lookup"><span data-stu-id="63f16-245">Testing in the Production Environment</span></span>

<span data-ttu-id="63f16-246">Execute a página **estudantes** .</span><span class="sxs-lookup"><span data-stu-id="63f16-246">Run the **Students** page.</span></span> <span data-ttu-id="63f16-247">O aplicativo tenta acessar o banco de dados escolar pela primeira vez, o que dispara Migrações do Code First para criar o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="63f16-247">The application tries to access the School database for the first time, which triggers Code First Migrations to create the database.</span></span> <span data-ttu-id="63f16-248">Quando a página é exibida após o atraso de um instante, ela mostra que não há alunos.</span><span class="sxs-lookup"><span data-stu-id="63f16-248">When the page displays after a moment's delay, it shows that there are no students.</span></span>

<span data-ttu-id="63f16-249">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-249">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span></span>

<span data-ttu-id="63f16-250">Execute a página **instrutores** para verificar se os dados de semente inseriram com êxito os dados do instrutor no banco de dado.</span><span class="sxs-lookup"><span data-stu-id="63f16-250">Run the **Instructors** page to verify that the Seed data successfully inserted instructor data in the database.</span></span>

<span data-ttu-id="63f16-251">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-251">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span></span>

<span data-ttu-id="63f16-252">Como você fez no ambiente de teste, você deseja verificar se as atualizações do banco de dados funcionam no ambiente de produção, mas normalmente não deseja inserir dados de teste no banco de dado de produção.</span><span class="sxs-lookup"><span data-stu-id="63f16-252">As you did in the test environment, you want to verify that database updates work in the production environment, but you typically do not want to enter test data into your production database.</span></span> <span data-ttu-id="63f16-253">Para este tutorial, você usará o mesmo método que fez no teste.</span><span class="sxs-lookup"><span data-stu-id="63f16-253">For this tutorial, you'll use the same method you did in test.</span></span> <span data-ttu-id="63f16-254">Mas, em um aplicativo real, você pode querer encontrar um método que valida que as atualizações de banco de dados são bem-sucedidas sem introduzir dados de teste no banco de dado de produção.</span><span class="sxs-lookup"><span data-stu-id="63f16-254">But in a real application you might want to find a method that validates that database updates are successful without introducing test data into the production database.</span></span> <span data-ttu-id="63f16-255">Em alguns aplicativos, pode ser prático adicionar algo e, em seguida, excluí-lo.</span><span class="sxs-lookup"><span data-stu-id="63f16-255">In some applications, it might be practical to add something and then delete it.</span></span>

<span data-ttu-id="63f16-256">Adicione um aluno e, em seguida, exiba os dados inseridos na página **alunos** para verificar se você pode atualizar os dados no banco de dado.</span><span class="sxs-lookup"><span data-stu-id="63f16-256">Add a student and then view the data you entered in the **Students** page to verify that you can update data in the database.</span></span>

<span data-ttu-id="63f16-257">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-257">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span></span>

<span data-ttu-id="63f16-258">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-258">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span></span>

<span data-ttu-id="63f16-259">Valide se as regras de autorização estão funcionando corretamente selecionando **Atualizar créditos** no menu **cursos** .</span><span class="sxs-lookup"><span data-stu-id="63f16-259">Validate that authorization rules are working correctly by selecting **Update Credits** from the **Courses** menu.</span></span> <span data-ttu-id="63f16-260">A página de **logon** é exibida.</span><span class="sxs-lookup"><span data-stu-id="63f16-260">The **Log In** page is displayed.</span></span> <span data-ttu-id="63f16-261">Insira suas credenciais de conta de administrador, clique em **fazer logon**e a página **Atualizar créditos** é exibida.</span><span class="sxs-lookup"><span data-stu-id="63f16-261">Enter your administrator account credentials, click **Log In**, and the **Update Credits** page is displayed.</span></span>

<span data-ttu-id="63f16-262">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-262">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span></span>

<span data-ttu-id="63f16-263">Se o logon for bem-sucedido, a página **Atualizar créditos** será exibida.</span><span class="sxs-lookup"><span data-stu-id="63f16-263">If login is successful, the **Update Credits** page is displayed.</span></span> <span data-ttu-id="63f16-264">Isso indica que o banco de dados de associação do ASP.NET (com a conta de administrador único) foi implantado com êxito.</span><span class="sxs-lookup"><span data-stu-id="63f16-264">This indicates that the ASP.NET membership database (with the single administrator account) was successfully deployed.</span></span>

<span data-ttu-id="63f16-265">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="63f16-265">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span></span>

<span data-ttu-id="63f16-266">Agora você implantou e testou com êxito seu site e está disponível publicamente pela Internet.</span><span class="sxs-lookup"><span data-stu-id="63f16-266">You have now successfully deployed and tested your site and it is available publicly over the Internet.</span></span>

## <a name="creating-a-more-reliable-test-environment"></a><span data-ttu-id="63f16-267">Criando um ambiente de teste mais confiável</span><span class="sxs-lookup"><span data-stu-id="63f16-267">Creating a More Reliable Test Environment</span></span>

<span data-ttu-id="63f16-268">Conforme explicado no tutorial [implantando no ambiente de teste](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md) , o ambiente de teste mais confiável seria uma segunda conta no provedor de hospedagem, assim como a conta de produção.</span><span class="sxs-lookup"><span data-stu-id="63f16-268">As explained in the [Deploying to the Test Environment](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md) tutorial, the most reliable test environment would be a second account at the hosting provider that's just like the production account.</span></span> <span data-ttu-id="63f16-269">Isso seria mais caro do que usar o IIS local como seu ambiente de teste, pois você precisaria se inscrever para uma segunda conta de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="63f16-269">This would be more expensive than using local IIS as your test environment, since you would have to sign up for a second hosting account.</span></span> <span data-ttu-id="63f16-270">Mas se ele impedir erros ou interrupções no site de produção, você pode decidir que vale o custo.</span><span class="sxs-lookup"><span data-stu-id="63f16-270">But if it prevents production site errors or outages, you might decide that it's worth the cost.</span></span>

<span data-ttu-id="63f16-271">A maior parte do processo de criação e implantação em uma conta de teste é semelhante ao que você já fez para implantar na produção:</span><span class="sxs-lookup"><span data-stu-id="63f16-271">Most of the process for creating and deploying to a test account is similar to what you've already done to deploy to production:</span></span>

- <span data-ttu-id="63f16-272">Crie um arquivo de transformação *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="63f16-272">Create a *Web.config* transformation file.</span></span>
- <span data-ttu-id="63f16-273">Crie uma conta no provedor de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="63f16-273">Create an account at the hosting provider.</span></span>
- <span data-ttu-id="63f16-274">Crie um novo perfil de publicação e implante-o na conta de teste.</span><span class="sxs-lookup"><span data-stu-id="63f16-274">Create a new publish profile and deploy to the test account.</span></span>

### <a name="preventing-public-access-to-the-test-site"></a><span data-ttu-id="63f16-275">Impedindo o acesso público ao site de teste</span><span class="sxs-lookup"><span data-stu-id="63f16-275">Preventing Public Access to the Test Site</span></span>

<span data-ttu-id="63f16-276">Uma consideração importante para a conta de teste é que ela estará ativa na Internet, mas você não quer que o público use-a.</span><span class="sxs-lookup"><span data-stu-id="63f16-276">An important consideration for the test account is that it will be live on the Internet, but you don't want the public to use it.</span></span> <span data-ttu-id="63f16-277">Para manter o site privado, você pode usar um ou mais dos seguintes métodos:</span><span class="sxs-lookup"><span data-stu-id="63f16-277">To keep the site private you can use one or more of the following methods:</span></span>

- <span data-ttu-id="63f16-278">Entre em contato com o provedor de hospedagem para definir as regras de firewall que permitem o acesso ao site de teste somente de endereços IP que você usa para teste.</span><span class="sxs-lookup"><span data-stu-id="63f16-278">Contact the hosting provider to set firewall rules that allow access to the testing site only from IP addresses that you use for testing.</span></span>
- <span data-ttu-id="63f16-279">Disfarçar a URL para que ela não seja semelhante à URL do site público.</span><span class="sxs-lookup"><span data-stu-id="63f16-279">Disguise the URL so that it is not similar to the public site's URL.</span></span>
- <span data-ttu-id="63f16-280">Use um arquivo *robots. txt* para garantir que os mecanismos de pesquisa não rastreiem o site de teste e os links de relatório para ele nos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="63f16-280">Use a *robots.txt* file to ensure that search engines will not crawl the test site and report links to it in search results.</span></span>

<span data-ttu-id="63f16-281">O primeiro desses métodos é, obviamente, o mais seguro, mas o procedimento para isso é específico para cada provedor de hospedagem e não será abordado neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="63f16-281">The first of these methods is obviously the most secure, but the procedure for that is specific to each hosting provider and will not be covered in this tutorial.</span></span> <span data-ttu-id="63f16-282">Se você fizer a organização com seu provedor de hospedagem para permitir que apenas seu endereço IP navegue até a URL da conta de teste, teoricamente, não precisará se preocupar com os mecanismos de pesquisa que o rastreiam.</span><span class="sxs-lookup"><span data-stu-id="63f16-282">If you do arrange with your hosting provider to allow only your IP address to browse to the test account URL, you theoretically don't have to worry about search engines crawling it.</span></span> <span data-ttu-id="63f16-283">Mas mesmo nesse caso, a implantação de um arquivo *robots. txt* é uma boa ideia como um backup, caso a regra de firewall seja desativada acidentalmente.</span><span class="sxs-lookup"><span data-stu-id="63f16-283">But even in that case, deploying a *robots.txt* file is a good idea as a backup in case that firewall rule is ever accidentally turned off.</span></span>

<span data-ttu-id="63f16-284">O arquivo *robots. txt* é inserido na pasta do projeto e deve ter o seguinte texto:</span><span class="sxs-lookup"><span data-stu-id="63f16-284">The *robots.txt* file goes in your project folder and should have the following text in it:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/samples/sample1.cmd)]

<span data-ttu-id="63f16-285">A linha de `User-agent` informa aos mecanismos de pesquisa que as regras no arquivo se aplicam a todos os robôs (rastreadores da Web) do mecanismo de pesquisa e a linha de `Disallow` especifica que nenhuma página no site deve ser rastreada.</span><span class="sxs-lookup"><span data-stu-id="63f16-285">The `User-agent` line tells search engines that the rules in the file apply to all search engine web crawlers (robots), and the `Disallow` line specifies that no pages on the site should be crawled.</span></span>

<span data-ttu-id="63f16-286">Você provavelmente deseja que os mecanismos de pesquisa catalogassem seu site de produção, portanto, você precisa excluir esse arquivo da implantação de produção.</span><span class="sxs-lookup"><span data-stu-id="63f16-286">You probably do want search engines to catalog your production site, so you need to exclude this file from production deployment.</span></span> <span data-ttu-id="63f16-287">Para fazer isso, consulte posso **Excluir arquivos ou pastas específicas da implantação?** em [ASP.net perguntas frequentes sobre implantação do projeto de aplicativo Web](https://msdn.microsoft.com/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment).</span><span class="sxs-lookup"><span data-stu-id="63f16-287">To do that, see **Can I exclude specific files or folders from deployment?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment).</span></span> <span data-ttu-id="63f16-288">Certifique-se de especificar a exclusão somente para o perfil de publicação de produção.</span><span class="sxs-lookup"><span data-stu-id="63f16-288">Make sure that you specify the exclusion only for the Production publish profile.</span></span>

<span data-ttu-id="63f16-289">A criação de uma segunda conta de hospedagem é uma abordagem para trabalhar com um ambiente de teste que não é necessário, mas pode valer a pena agregar a despesa.</span><span class="sxs-lookup"><span data-stu-id="63f16-289">Creating a second hosting account is an approach to working with a test environment that is not required but might be worth the added expense.</span></span> <span data-ttu-id="63f16-290">Nos tutoriais a seguir, você continuará a usar o IIS como seu ambiente de teste.</span><span class="sxs-lookup"><span data-stu-id="63f16-290">In the following tutorials, you'll continue to use IIS as your test environment.</span></span>

<span data-ttu-id="63f16-291">No próximo tutorial, você atualizará o código do aplicativo e implantará sua alteração nos ambientes de teste e produção.</span><span class="sxs-lookup"><span data-stu-id="63f16-291">In the next tutorial, you'll update application code and deploy your change to the test and production environments.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="63f16-292">[Anterior](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
> [Próximo](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span><span class="sxs-lookup"><span data-stu-id="63f16-292">[Previous](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
[Next](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span></span>
