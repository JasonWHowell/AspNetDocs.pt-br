---
uid: web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-vb
title: Páginas mestras aninhadas (VB) | Microsoft Docs
author: rick-anderson
description: Mostra como aninhar uma página mestra dentro de outra.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 14d9aa1b-4dca-43a0-aa9d-a6e891fee019
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-vb
msc.type: authoredcontent
ms.openlocfilehash: 9bb39712855c37f5cbcbb447f7691e9451b8dc92
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78571844"
---
# <a name="nested-master-pages-vb"></a><span data-ttu-id="b122c-103">Páginas mestras aninhadas (VB)</span><span class="sxs-lookup"><span data-stu-id="b122c-103">Nested Master Pages (VB)</span></span>

<span data-ttu-id="b122c-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="b122c-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="b122c-105">[Baixar código](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_VB.zip) ou [baixar PDF](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_VB.pdf)</span><span class="sxs-lookup"><span data-stu-id="b122c-105">[Download Code](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_VB.zip) or [Download PDF](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_VB.pdf)</span></span>

> <span data-ttu-id="b122c-106">Mostra como aninhar uma página mestra dentro de outra.</span><span class="sxs-lookup"><span data-stu-id="b122c-106">Shows how to nest one master page within another.</span></span>

## <a name="introduction"></a><span data-ttu-id="b122c-107">Introdução</span><span class="sxs-lookup"><span data-stu-id="b122c-107">Introduction</span></span>

<span data-ttu-id="b122c-108">No decorrer dos nove tutoriais anteriores, vimos como implementar um layout de todo o site com páginas mestras.</span><span class="sxs-lookup"><span data-stu-id="b122c-108">Over the course of the past nine tutorials we have seen how to implement a site-wide layout with master pages.</span></span> <span data-ttu-id="b122c-109">Em resumo, as páginas mestras nos permitem, o desenvolvedor da página, definir a marcação comum na página mestra junto com regiões específicas que podem ser personalizadas em uma página de conteúdo página por conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-109">In a nutshell, master pages allow us, the page developer, to define common markup in the master page along with specific regions that can be customized on a content page-by-content page basis.</span></span> <span data-ttu-id="b122c-110">Os controles ContentPlaceHolder em uma página mestra indicam as regiões personalizáveis; a marcação personalizada para os controles ContentPlaceHolder é definida na página conteúdo por meio de controles de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-110">The ContentPlaceHolder controls in a master page indicate the customizable regions; the customized markup for the ContentPlaceHolder controls are defined in the content page via Content controls.</span></span>

<span data-ttu-id="b122c-111">As técnicas de página mestra que exploramos até agora são ótimas se você tiver um único layout usado em todo o site.</span><span class="sxs-lookup"><span data-stu-id="b122c-111">The master page techniques we've explored thus far are great if you have a single layout used across the entire site.</span></span> <span data-ttu-id="b122c-112">No entanto, muitos sites grandes têm um layout de site que é personalizado em várias seções.</span><span class="sxs-lookup"><span data-stu-id="b122c-112">However, many large websites have a site layout that is customized across various sections.</span></span> <span data-ttu-id="b122c-113">Por exemplo, considere um aplicativo de assistência médica usado pela equipe do hospital para gerenciar informações de pacientes, atividades e cobrança.</span><span class="sxs-lookup"><span data-stu-id="b122c-113">For example, consider a health care application used by hospital staff to manage patient information, activities, and billing.</span></span> <span data-ttu-id="b122c-114">Pode haver três tipos de páginas da Web neste aplicativo:</span><span class="sxs-lookup"><span data-stu-id="b122c-114">There may be three types of web pages in this application:</span></span>

- <span data-ttu-id="b122c-115">Páginas específicas de membros da equipe em que os membros da equipe podem atualizar a disponibilidade, exibir agendamentos ou solicitar tempo de férias.</span><span class="sxs-lookup"><span data-stu-id="b122c-115">Staff member-specific pages where staff members can update availability, view schedules, or request vacation time.</span></span>
- <span data-ttu-id="b122c-116">Páginas específicas do paciente em que os membros da equipe exibem ou editam informações de um paciente específico.</span><span class="sxs-lookup"><span data-stu-id="b122c-116">Patient-specific pages where staff members view or edit information for a specific patient.</span></span>
- <span data-ttu-id="b122c-117">Páginas específicas de cobrança em que os contadores examinam os status atuais da declaração e os relatórios financeiros.</span><span class="sxs-lookup"><span data-stu-id="b122c-117">Billing-specific pages where accountants review current claim statuses and financial reports.</span></span>

<span data-ttu-id="b122c-118">Cada página pode compartilhar um layout comum, como um menu na parte superior e uma série de links usados com frequência ao longo da parte inferior.</span><span class="sxs-lookup"><span data-stu-id="b122c-118">Every page might share a common layout, such as a menu across the top and a series of frequently used links along the bottom.</span></span> <span data-ttu-id="b122c-119">Mas as páginas específicas da equipe, do paciente e da cobrança podem precisar personalizar esse layout genérico.</span><span class="sxs-lookup"><span data-stu-id="b122c-119">But the staff-, patient-, and billing-specific pages may need to customize this generic layout.</span></span> <span data-ttu-id="b122c-120">Por exemplo, talvez todas as páginas específicas da equipe incluam um calendário e uma lista de tarefas que mostrem a disponibilidade do usuário conectado no momento e a agenda diária.</span><span class="sxs-lookup"><span data-stu-id="b122c-120">For example, perhaps all staff-specific pages should include a calendar and task list showing the currently logged on user's availability and daily schedule.</span></span> <span data-ttu-id="b122c-121">Talvez todas as páginas específicas do paciente precisem mostrar o nome, o endereço e as informações de seguro para o paciente cujas informações estão sendo editadas.</span><span class="sxs-lookup"><span data-stu-id="b122c-121">Perhaps all patient-specific pages need to show the name, address, and insurance information for the patient whose information is being edited.</span></span>

<span data-ttu-id="b122c-122">É possível criar esses layouts personalizados usando *páginas mestras aninhadas*.</span><span class="sxs-lookup"><span data-stu-id="b122c-122">It's possible to create such customized layouts by using *nested master pages*.</span></span> <span data-ttu-id="b122c-123">Para implementar o cenário acima, começaremos criando uma página mestra que definia o layout de todo o site, o menu e o conteúdo do rodapé, com ContentPlaceHolders definindo as regiões personalizáveis.</span><span class="sxs-lookup"><span data-stu-id="b122c-123">To implement the above scenario, we would start by creating a master page that defined the site-wide layout, the menu and footer content, with ContentPlaceHolders defining the customizable regions.</span></span> <span data-ttu-id="b122c-124">Em seguida, criaremos três páginas mestras aninhadas, uma para cada tipo de página da Web.</span><span class="sxs-lookup"><span data-stu-id="b122c-124">We would then create three nested master pages, one for each type of web page.</span></span> <span data-ttu-id="b122c-125">Cada página mestra aninhada definiria o conteúdo entre o tipo de páginas de conteúdo que usam a página mestra.</span><span class="sxs-lookup"><span data-stu-id="b122c-125">Each nested master page would define the content among the type of content pages that use the master page.</span></span> <span data-ttu-id="b122c-126">Em outras palavras, a página mestra aninhada para páginas de conteúdo específicas do paciente inclui marcação e lógica programática para exibir informações sobre o paciente que está sendo editado.</span><span class="sxs-lookup"><span data-stu-id="b122c-126">In other words, the nested master page for patient-specific content pages would include markup and programmatic logic for displaying information about the patient being edited.</span></span> <span data-ttu-id="b122c-127">Ao criar uma nova página específica do paciente, ela será associada a essa página mestra aninhada.</span><span class="sxs-lookup"><span data-stu-id="b122c-127">When creating a new patient-specific page we would bind it to this nested master page.</span></span>

<span data-ttu-id="b122c-128">Este tutorial começa destacando os benefícios de páginas mestras aninhadas.</span><span class="sxs-lookup"><span data-stu-id="b122c-128">This tutorial starts by highlighting the benefits of nested master pages.</span></span> <span data-ttu-id="b122c-129">Em seguida, ele mostra como criar e usar páginas mestras aninhadas.</span><span class="sxs-lookup"><span data-stu-id="b122c-129">It then shows how to create and use nested master pages.</span></span>

> [!NOTE]
> <span data-ttu-id="b122c-130">Páginas mestras aninhadas foram possíveis desde a versão 2,0 do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="b122c-130">Nested master pages have been possible since version 2.0 of the .NET Framework.</span></span> <span data-ttu-id="b122c-131">No entanto, o Visual Studio 2005 não inclui suporte ao tempo de design para páginas mestras aninhadas.</span><span class="sxs-lookup"><span data-stu-id="b122c-131">However, Visual Studio 2005 did not include design-time support for nested master pages.</span></span> <span data-ttu-id="b122c-132">A boa notícia é que o Visual Studio 2008 oferece uma experiência de tempo de design rica para páginas mestras aninhadas.</span><span class="sxs-lookup"><span data-stu-id="b122c-132">The good news is that Visual Studio 2008 offers a rich design-time experience for nested master pages.</span></span> <span data-ttu-id="b122c-133">Se você estiver interessado em usar páginas mestras aninhadas, mas ainda estiver usando o Visual Studio 2005, confira a entrada de blog de [Scott Guthrie](https://weblogs.asp.net/scottgu/), [dicas para páginas mestras aninhadas no tempo de Design de vs 2005](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span><span class="sxs-lookup"><span data-stu-id="b122c-133">If you are interested in using nested master pages but are still using Visual Studio 2005, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog entry, [Tips for Nested Master Pages in VS 2005 Design-Time](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span></span>

## <a name="the-benefits-of-nested-master-pages"></a><span data-ttu-id="b122c-134">Os benefícios das páginas mestras aninhadas</span><span class="sxs-lookup"><span data-stu-id="b122c-134">The Benefits of Nested Master Pages</span></span>

<span data-ttu-id="b122c-135">Muitos sites têm um design de site abrangente, bem como designs mais personalizados específicos para determinados tipos de páginas.</span><span class="sxs-lookup"><span data-stu-id="b122c-135">Many websites have an overarching site design as well as more customized designs specific to certain types of pages.</span></span> <span data-ttu-id="b122c-136">Por exemplo, em nosso aplicativo Web de demonstração, criamos uma seção de administração rudimentar (as páginas na pasta `~/Admin`).</span><span class="sxs-lookup"><span data-stu-id="b122c-136">For instance, in our demo web application we have created a rudimentary Administration section (the pages in the `~/Admin` folder).</span></span> <span data-ttu-id="b122c-137">Atualmente, as páginas da Web na pasta `~/Admin` usam a mesma página mestra que as páginas que não estão na seção Administração (ou seja, `Site.master` ou `Alternate.master`, dependendo da seleção do usuário).</span><span class="sxs-lookup"><span data-stu-id="b122c-137">Currently the web pages in the `~/Admin` folder use the same master page as those pages not in the administration section (namely, `Site.master` or `Alternate.master`, depending on the user's selection).</span></span>

> [!NOTE]
> <span data-ttu-id="b122c-138">Por enquanto, finja que nosso site tem apenas uma página mestra, `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-138">For now, pretend that our site has just one master page, `Site.master`.</span></span> <span data-ttu-id="b122c-139">Vamos abordar usando páginas mestras aninhadas com duas (ou mais) páginas mestras começando com "usando uma página mestra aninhada para a seção de administração" mais adiante neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="b122c-139">We'll address using nested master pages with two (or more) master pages starting with "Using a Nested Master Page for the Administration Section" later in this tutorial.</span></span>

<span data-ttu-id="b122c-140">Imagine que fomos solicitados a personalizar o layout das páginas de administração para incluir informações adicionais ou links que, de outra forma, não estaria presente em outras páginas do site.</span><span class="sxs-lookup"><span data-stu-id="b122c-140">Imagine that we were asked to customize the layout of the Administration pages to include additional information or links that would not otherwise be present in other pages in the site.</span></span> <span data-ttu-id="b122c-141">Há quatro técnicas para implementar esse requisito:</span><span class="sxs-lookup"><span data-stu-id="b122c-141">There are four techniques to implement this requirement:</span></span>

1. <span data-ttu-id="b122c-142">Adicione manualmente as informações específicas de administração e os links a cada página de conteúdo na pasta `~/Admin`.</span><span class="sxs-lookup"><span data-stu-id="b122c-142">Manually add the Administration-specific information and links to every content page in the `~/Admin` folder.</span></span>
2. <span data-ttu-id="b122c-143">Atualize a página mestra de `Site.master` para incluir informações e links específicos da seção de administração e, em seguida, adicione o código à página mestra para mostrar ou ocultar essas seções com base no fato de uma das páginas de administração estar sendo visitada.</span><span class="sxs-lookup"><span data-stu-id="b122c-143">Update the `Site.master` master page to include the Administration section-specific information and links, and then add code to the master page to show or hide these sections based on whether one of the Administration pages is being visited.</span></span>
3. <span data-ttu-id="b122c-144">Crie uma nova página mestra especificamente para a seção Administração, copie sobre a marcação de `Site.master`, adicione informações e links específicos da seção de administração e, em seguida, atualize as páginas de conteúdo na pasta `~/Admin` para usar essa nova página mestra.</span><span class="sxs-lookup"><span data-stu-id="b122c-144">Create a new master page specifically for the Administration section, copy over the markup from `Site.master`, add the Administration section-specific information and links, and then update the content pages in the `~/Admin` folder to use this new master page.</span></span>
4. <span data-ttu-id="b122c-145">Crie uma página mestra aninhada que se vincule a `Site.master` e faça com que as páginas de conteúdo na pasta `~/Admin` Use essa nova página mestra aninhada.</span><span class="sxs-lookup"><span data-stu-id="b122c-145">Create a nested master page that binds to `Site.master` and have the content pages in the `~/Admin` folder use this new nested master page.</span></span> <span data-ttu-id="b122c-146">Essa página mestra aninhada incluiria apenas as informações adicionais e os links específicos para as páginas de administração e não precisaria repetir a marcação já definida em `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-146">This nested master page would include just the additional information and links specific to the Administration pages and would not need to repeat the markup already defined in `Site.master`.</span></span>

<span data-ttu-id="b122c-147">A primeira opção é o menos agradável.</span><span class="sxs-lookup"><span data-stu-id="b122c-147">The first option is the least palatable.</span></span> <span data-ttu-id="b122c-148">O ponto completo de usar páginas mestras é deixar de copiar e colar manualmente a marcação comum em novas páginas do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b122c-148">The whole point of using master pages is to move away from having to manually copy and paste common markup to new ASP.NET pages.</span></span> <span data-ttu-id="b122c-149">A segunda opção é aceitável, mas torna o aplicativo menos passível de manutenção, pois ele faz o backup das páginas mestras com marcação que só é exibida ocasionalmente e exige que os desenvolvedores editem a página mestra para contornar essa marcação e ter que se lembrar quando, exatamente, determinada marcação é exibida em vez de ser ocultada.</span><span class="sxs-lookup"><span data-stu-id="b122c-149">The second option is acceptable, but makes the application less maintainable as it bulks up the master pages with markup that is only occasionally displayed and requires developers editing the master page to work around this markup and to have to remember when, exactly, certain markup is displayed versus when it is hidden.</span></span> <span data-ttu-id="b122c-150">Essa abordagem seria menos tenable como personalizações de cada vez mais tipos de páginas da Web que precisavam ser acomodadas por essa única página mestra.</span><span class="sxs-lookup"><span data-stu-id="b122c-150">This approach would be less tenable as customizations from more and more types of web pages needed to be accommodated by this single master page.</span></span>

<span data-ttu-id="b122c-151">A terceira opção remove os problemas de aglomeração e complexidade da superfície com a segunda opção.</span><span class="sxs-lookup"><span data-stu-id="b122c-151">The third option removes the clutter and complexity issues the surfaced with the second option.</span></span> <span data-ttu-id="b122c-152">No entanto, a principal desvantagem da opção 3 é que ela requer que possamos copiar e colar o layout comum de `Site.master` para a nova página mestra específica da seção de administração.</span><span class="sxs-lookup"><span data-stu-id="b122c-152">However, option three's main drawback is that it requires us to copy and paste the common layout from `Site.master` to the new Administration section-specific master page.</span></span> <span data-ttu-id="b122c-153">Posteriormente, se decidirmos alterar o layout de todo o site, precisaremos se lembrar de alterá-lo em dois lugares.</span><span class="sxs-lookup"><span data-stu-id="b122c-153">If we later decide to change the site-wide layout we have to remember to change it in two places.</span></span>

<span data-ttu-id="b122c-154">A quarta opção, páginas mestras aninhadas, nos oferece o melhor da segunda e terceira opções.</span><span class="sxs-lookup"><span data-stu-id="b122c-154">The fourth option, nested master pages, give us the best of the second and third options.</span></span> <span data-ttu-id="b122c-155">As informações de layout de todo o site são mantidas em um arquivo – a página mestra de nível superior-enquanto o conteúdo específico para regiões específicas é separado em arquivos diferentes.</span><span class="sxs-lookup"><span data-stu-id="b122c-155">The site-wide layout information is maintained in one file - the top-level master page - while the content specific to particular regions is separated out into different files.</span></span>

<span data-ttu-id="b122c-156">Este tutorial começa com uma olhada na criação e no uso de uma página mestra aninhada simples.</span><span class="sxs-lookup"><span data-stu-id="b122c-156">This tutorial starts with a look at creating and using a simple nested master page.</span></span> <span data-ttu-id="b122c-157">Criamos uma nova página mestra de nível superior, duas páginas mestras aninhadas e duas páginas de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-157">We create a brand new top-level master page, two nested master pages, and two content pages.</span></span> <span data-ttu-id="b122c-158">A partir da seção "usando uma página mestra aninhada para a administração", examinamos a atualização de nossa arquitetura de página mestra existente para incluir o uso de páginas mestras aninhadas.</span><span class="sxs-lookup"><span data-stu-id="b122c-158">Starting with "Using a Nested Master Page for the Administration Section," we look at updating our existing master page architecture to include the use of nested master pages.</span></span> <span data-ttu-id="b122c-159">Especificamente, criamos uma página mestra aninhada e a usamos para incluir conteúdo personalizado adicional para as páginas de conteúdo na pasta `~/Admin`.</span><span class="sxs-lookup"><span data-stu-id="b122c-159">Specifically, we create a nested master page and use it to include additional custom content for the content pages in the `~/Admin` folder.</span></span>

## <a name="step-1-creating-a-simple-top-level-master-page"></a><span data-ttu-id="b122c-160">Etapa 1: criando uma página mestra de nível superior simples</span><span class="sxs-lookup"><span data-stu-id="b122c-160">Step 1: Creating a Simple Top-Level Master Page</span></span>

<span data-ttu-id="b122c-161">Criar um mestre aninhado com base em uma das páginas mestras existentes e, em seguida, atualizar uma página de conteúdo existente para usar essa nova página mestra aninhada em vez da página mestra de nível superior envolve alguma complexidade porque as páginas de conteúdo existentes já esperam determinadas Controles ContentPlaceHolder definidos na página mestra de nível superior.</span><span class="sxs-lookup"><span data-stu-id="b122c-161">Creating a nested master based on one of the existing master pages and then updating an existing content page to use this new nested master page instead of the top-level master page entails some complexity because the existing content pages already expect certain ContentPlaceHolder controls defined in the top-level master page.</span></span> <span data-ttu-id="b122c-162">Portanto, a página mestra aninhada também deve incluir os mesmos controles ContentPlaceHolder com os mesmos nomes.</span><span class="sxs-lookup"><span data-stu-id="b122c-162">Therefore, the nested master page must also include the same ContentPlaceHolder controls with the same names.</span></span> <span data-ttu-id="b122c-163">Além disso, nosso aplicativo de demonstração em particular tem duas páginas mestras (`Site.master` e `Alternate.master`) que são atribuídas dinamicamente a uma página de conteúdo com base nas preferências de um usuário, o que aumenta ainda mais essa complexidade.</span><span class="sxs-lookup"><span data-stu-id="b122c-163">Furthermore, our particular demo application has two master pages (`Site.master` and `Alternate.master`) that are dynamically assigned to a content page based on a user's preferences, which further adds to this complexity.</span></span> <span data-ttu-id="b122c-164">Veremos a atualização do aplicativo existente para usar páginas mestras aninhadas posteriormente neste tutorial, mas vamos nos concentrar primeiro em um exemplo simples de páginas mestras aninhadas.</span><span class="sxs-lookup"><span data-stu-id="b122c-164">We will look at updating the existing application to use nested master pages later in this tutorial, but let's first focus on a simple nested master pages example.</span></span>

<span data-ttu-id="b122c-165">Crie uma nova pasta chamada `NestedMasterPages` e, em seguida, adicione um novo arquivo de página mestra a essa pasta chamada `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-165">Create a new folder named `NestedMasterPages` and then add a new master page file to that folder named `Simple.master`.</span></span> <span data-ttu-id="b122c-166">(Consulte a Figura 1 para obter uma captura de tela do Gerenciador de Soluções depois que essa pasta e arquivo tiverem sido adicionados.) Arraste o `AlternateStyles.css` arquivo de folha de estilo do Gerenciador de Soluções para o designer.</span><span class="sxs-lookup"><span data-stu-id="b122c-166">(See Figure 1 for a screen shot of the Solution Explorer after this folder and file have been added.) Drag the `AlternateStyles.css` style sheet file from the Solution Explorer onto the Designer.</span></span> <span data-ttu-id="b122c-167">Isso adiciona um elemento `<link>` ao arquivo de folha de estilos no elemento `<head>`, após o qual a marcação do elemento de `<head>` da página mestra deve ser semelhante a:</span><span class="sxs-lookup"><span data-stu-id="b122c-167">This adds a `<link>` element to the style sheet file in the `<head>` element, after which the master page's `<head>` element's markup should look like:</span></span>

[!code-aspx[Main](nested-master-pages-vb/samples/sample1.aspx)]

<span data-ttu-id="b122c-168">Em seguida, adicione a seguinte marcação no formulário da Web de `Simple.master`:</span><span class="sxs-lookup"><span data-stu-id="b122c-168">Next, add the following markup within the Web Form of `Simple.master`:</span></span>

[!code-aspx[Main](nested-master-pages-vb/samples/sample2.aspx)]

<span data-ttu-id="b122c-169">Essa marcação exibe um link intitulado "páginas mestras aninhadas (simples)" na parte superior da página em uma fonte branca grande em um plano de fundo azul.</span><span class="sxs-lookup"><span data-stu-id="b122c-169">This markup displays a link titled "Nested Master Pages (Simple)" at the top of the page in a large white font on a navy background.</span></span> <span data-ttu-id="b122c-170">Abaixo disso está o `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="b122c-170">Beneath that is the `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="b122c-171">A Figura 1 mostra a `Simple.master` página mestra quando carregada no Visual Studio Designer.</span><span class="sxs-lookup"><span data-stu-id="b122c-171">Figure 1 shows the `Simple.master` master page when loaded in the Visual Studio Designer.</span></span>

<span data-ttu-id="b122c-172">[![a página mestra aninhada define o conteúdo específico para as páginas na seção Administração](nested-master-pages-vb/_static/image2.png)](nested-master-pages-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-172">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-vb/_static/image2.png)](nested-master-pages-vb/_static/image1.png)</span></span>

<span data-ttu-id="b122c-173">**Figura 01**: a página mestra aninhada define o conteúdo específico para as páginas na seção Administração ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-173">**Figure 01**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-vb/_static/image3.png))</span></span>

## <a name="step-2-creating-a-simple-nested-master-page"></a><span data-ttu-id="b122c-174">Etapa 2: criando uma página mestra aninhada simples</span><span class="sxs-lookup"><span data-stu-id="b122c-174">Step 2: Creating a Simple Nested Master Page</span></span>

<span data-ttu-id="b122c-175">`Simple.master` contém dois controles ContentPlaceHolder: o `MainContent` ContentPlaceHolder que adicionamos dentro do formulário da Web, juntamente com o `head` ContentPlaceHolder no elemento `<head>`.</span><span class="sxs-lookup"><span data-stu-id="b122c-175">`Simple.master` contains two ContentPlaceHolder controls: the `MainContent` ContentPlaceHolder we added within the Web Form along with the `head` ContentPlaceHolder in the `<head>` element.</span></span> <span data-ttu-id="b122c-176">Se tivéssemos de criar uma página de conteúdo e associá-la ao `Simple.master` a página de conteúdo teria dois controles de conteúdo referenciando os dois ContentPlaceHolders.</span><span class="sxs-lookup"><span data-stu-id="b122c-176">If we were to create a content page and bind it to `Simple.master` the content page would have two Content controls referencing the two ContentPlaceHolders.</span></span> <span data-ttu-id="b122c-177">Da mesma forma, se criarmos uma página mestra aninhada e associá-la a `Simple.master`, a página mestra aninhada terá dois controles de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-177">Similarly, if we create a nested master page and bind it to `Simple.master` then the nested master page will have two Content controls.</span></span>

<span data-ttu-id="b122c-178">Vamos adicionar uma nova página mestra aninhada à pasta `NestedMasterPages` chamada `SimpleNested.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-178">Let's add a new nested master page to the `NestedMasterPages` folder named `SimpleNested.master`.</span></span> <span data-ttu-id="b122c-179">Clique com o botão direito do mouse na pasta `NestedMasterPages` e escolha Adicionar novo item.</span><span class="sxs-lookup"><span data-stu-id="b122c-179">Right-click on the `NestedMasterPages` folder and choose Add New Item.</span></span> <span data-ttu-id="b122c-180">Isso abre a caixa de diálogo Adicionar novo item mostrada na Figura 2.</span><span class="sxs-lookup"><span data-stu-id="b122c-180">This brings up the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="b122c-181">Selecione o tipo de modelo da página mestra e digite o nome da nova página mestra.</span><span class="sxs-lookup"><span data-stu-id="b122c-181">Select the Master Page template type and type in the name of the new master page.</span></span> <span data-ttu-id="b122c-182">Para indicar que a nova página mestra deve ser uma página mestra aninhada, marque a caixa de seleção "selecionar página mestra".</span><span class="sxs-lookup"><span data-stu-id="b122c-182">To indicate that the new master page should be a nested master page, check the "Select master page" checkbox.</span></span>

<span data-ttu-id="b122c-183">Em seguida, clique no botão Adicionar.</span><span class="sxs-lookup"><span data-stu-id="b122c-183">Next, click the Add button.</span></span> <span data-ttu-id="b122c-184">Isso exibirá a caixa de diálogo Selecionar uma página mestra que você vê ao vincular uma página de conteúdo a uma página mestra (consulte a Figura 3).</span><span class="sxs-lookup"><span data-stu-id="b122c-184">This will display the same Select a Master Page dialog box you see when binding a content page to a master page (see Figure 3).</span></span> <span data-ttu-id="b122c-185">Escolha a página mestra de `Simple.master` na pasta `NestedMasterPages` e clique em OK.</span><span class="sxs-lookup"><span data-stu-id="b122c-185">Choose the `Simple.master` master page in the `NestedMasterPages` folder and click OK.</span></span>

> [!NOTE]
> <span data-ttu-id="b122c-186">Se você criou seu site do ASP.NET usando o modelo de projeto de aplicativo Web em vez do modelo de projeto de site, você não verá a caixa de seleção "selecionar página mestra" na caixa de diálogo Adicionar novo item mostrada na Figura 2.</span><span class="sxs-lookup"><span data-stu-id="b122c-186">If you created your ASP.NET website using the Web Application Project model instead of the Web Site Project model you will not see the "Select master page" checkbox in the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="b122c-187">Para criar uma página mestra aninhada ao usar o modelo de projeto de aplicativo Web, você deve escolher o modelo de página mestra aninhada (em vez do modelo de página mestra).</span><span class="sxs-lookup"><span data-stu-id="b122c-187">To create a nested master page when using the Web Application Project model you must choose the Nested Master Page template (instead of the Master Page template).</span></span> <span data-ttu-id="b122c-188">Depois de selecionar o modelo de página mestra aninhada e clicar em Adicionar, a mesma caixa de diálogo Selecionar uma página mestra mostrada na Figura 3 será exibida.</span><span class="sxs-lookup"><span data-stu-id="b122c-188">After selecting the Nested Master Page template and clicking Add, the same Select a Master Page dialog box shown in Figure 3 will appear.</span></span>

<span data-ttu-id="b122c-189">[![marque a caixa de seleção &quot;selecionar página mestra&quot; para adicionar uma página mestra aninhada](nested-master-pages-vb/_static/image5.png)](nested-master-pages-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-189">[![Check the &quot;Select master page&quot; Checkbox to Add a Nested Master Page](nested-master-pages-vb/_static/image5.png)](nested-master-pages-vb/_static/image4.png)</span></span>

<span data-ttu-id="b122c-190">**Figura 02**: marque a caixa de seleção "selecionar página mestra" para adicionar uma página mestra aninhada ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-190">**Figure 02**: Check the "Select master page" Checkbox to Add a Nested Master Page ([Click to view full-size image](nested-master-pages-vb/_static/image6.png))</span></span>

<span data-ttu-id="b122c-191">[![associar a página mestra aninhada à página mestra simples. Master](nested-master-pages-vb/_static/image8.png)](nested-master-pages-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-191">[![Bind the Nested Master Page to the Simple.master Master Page](nested-master-pages-vb/_static/image8.png)](nested-master-pages-vb/_static/image7.png)</span></span>

<span data-ttu-id="b122c-192">**Figura 03**: associar a página mestra aninhada à página `Simple.master` mestra ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-192">**Figure 03**: Bind the Nested Master Page to the `Simple.master` Master Page ([Click to view full-size image](nested-master-pages-vb/_static/image9.png))</span></span>

<span data-ttu-id="b122c-193">A marcação declarativa da página mestra aninhada, mostrada abaixo, contém dois controles de conteúdo que fazem referência aos dois controles ContentPlaceHolder da página mestra de nível superior.</span><span class="sxs-lookup"><span data-stu-id="b122c-193">The nested master page's declarative markup, shown below, contains two Content controls referencing the top-level master page's two ContentPlaceHolder controls.</span></span>

[!code-aspx[Main](nested-master-pages-vb/samples/sample3.aspx)]

<span data-ttu-id="b122c-194">Exceto para a diretiva `<%@ Master %>`, a marcação declarativa inicial da página mestra aninhada é idêntica à marcação que é gerada inicialmente ao associar uma página de conteúdo à mesma página mestra de nível superior.</span><span class="sxs-lookup"><span data-stu-id="b122c-194">Except for the `<%@ Master %>` directive, the nested master page's initial declarative markup is identical to the markup that is initially generated when binding a content page to the same top-level master page.</span></span> <span data-ttu-id="b122c-195">Assim como a diretiva de `<%@ Page %>` de uma página de conteúdo, a diretiva de `<%@ Master %>` aqui inclui um atributo `MasterPageFile` que especifica a página mestra pai da página mestra aninhada.</span><span class="sxs-lookup"><span data-stu-id="b122c-195">Like a content page's `<%@ Page %>` directive, the `<%@ Master %>` directive here includes a `MasterPageFile` attribute that specifies the nested master page's parent master page.</span></span> <span data-ttu-id="b122c-196">A principal diferença entre a página mestra aninhada e uma página de conteúdo associada à mesma página mestra de nível superior é que a página mestra aninhada pode incluir controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="b122c-196">The main difference between the nested master page and a content page bound to the same top-level master page is that the nested master page can include ContentPlaceHolder controls.</span></span> <span data-ttu-id="b122c-197">Os controles ContentPlaceHolder da página mestra aninhada definem as regiões nas quais as páginas de conteúdo podem personalizar a marcação.</span><span class="sxs-lookup"><span data-stu-id="b122c-197">The nested master page's ContentPlaceHolder controls define the regions where the content pages can customize the markup.</span></span>

<span data-ttu-id="b122c-198">Atualize essa página mestra aninhada para que ela exiba o texto "Olá, de SimpleNested!"</span><span class="sxs-lookup"><span data-stu-id="b122c-198">Update this nested master page so that it displays the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="b122c-199">no controle de conteúdo que corresponde ao controle `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="b122c-199">in the Content control that corresponds to the `MainContent` ContentPlaceHolder control.</span></span>

[!code-aspx[Main](nested-master-pages-vb/samples/sample4.aspx)]

<span data-ttu-id="b122c-200">Depois de fazer essa adição, salve a página mestra aninhada e, em seguida, adicione uma nova página de conteúdo à pasta `NestedMasterPages` chamada `Default.aspx`e associe-a à página mestra `SimpleNested.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-200">After making this addition, save the nested master page and then add a new content page to the `NestedMasterPages` folder named `Default.aspx`, and bind it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="b122c-201">Ao adicionar essa página, você pode ficar surpreso em ver que ela não contém nenhum controle de conteúdo (consulte a Figura 4)!</span><span class="sxs-lookup"><span data-stu-id="b122c-201">Upon adding this page you may be surprised to see that it contains no Content controls (see Figure 4)!</span></span> <span data-ttu-id="b122c-202">Uma página de conteúdo só pode acessar seus ContentPlaceHolders da página mestra *pai* .</span><span class="sxs-lookup"><span data-stu-id="b122c-202">A content page can only access its *parent* master page's ContentPlaceHolders.</span></span> <span data-ttu-id="b122c-203">`SimpleNested.master` não contém nenhum controle ContentPlaceHolder; Portanto, qualquer página de conteúdo associada a essa página mestra não pode conter nenhum controle de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-203">`SimpleNested.master` does not contain any ContentPlaceHolder controls; therefore, any content page bound to this master page cannot contain any Content controls.</span></span>

<span data-ttu-id="b122c-204">[![a nova página de conteúdo não contém nenhum controle de conteúdo](nested-master-pages-vb/_static/image11.png)](nested-master-pages-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-204">[![The New Content Page Contains No Content Controls](nested-master-pages-vb/_static/image11.png)](nested-master-pages-vb/_static/image10.png)</span></span>

<span data-ttu-id="b122c-205">**Figura 04**: a nova página de conteúdo não contém nenhum controle de conteúdo ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-205">**Figure 04**: The New Content Page Contains No Content Controls ([Click to view full-size image](nested-master-pages-vb/_static/image12.png))</span></span>

<span data-ttu-id="b122c-206">O que precisamos fazer é atualizar a página mestra aninhada (`SimpleNested.master`) para incluir controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="b122c-206">What we need to do is update the nested master page (`SimpleNested.master`) to include ContentPlaceHolder controls.</span></span> <span data-ttu-id="b122c-207">Normalmente, você desejará que suas páginas mestras aninhadas incluam um ContentPlaceHolder para cada ContentPlaceHolder definido por sua página mestra pai, permitindo que sua página mestra ou página de conteúdo filho funcione com qualquer um dos ContentPlaceHolders da página mestra de nível superior controles.</span><span class="sxs-lookup"><span data-stu-id="b122c-207">Typically you'll want your nested master pages to include a ContentPlaceHolder for each ContentPlaceHolder defined by its parent master page, thereby allowing its child master page or content page to work with any of the top-level master page's ContentPlaceHolder controls.</span></span>

<span data-ttu-id="b122c-208">Atualize a página mestra de `SimpleNested.master` para incluir um ContentPlaceHolder em seus dois controles de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-208">Update the `SimpleNested.master` master page to include a ContentPlaceHolder in its two Content controls.</span></span> <span data-ttu-id="b122c-209">Dê ao ContentPlaceHolder controles o mesmo nome que o controle ContentPlaceHolder ao qual seu controle de conteúdo se refere.</span><span class="sxs-lookup"><span data-stu-id="b122c-209">Give the ContentPlaceHolder controls the same name as the ContentPlaceHolder control their Content control refers to.</span></span> <span data-ttu-id="b122c-210">Ou seja, adicione um controle ContentPlaceHolder chamado `MainContent` ao controle de conteúdo em `SimpleNested.master` que faz referência ao `MainContent` ContentPlaceHolder no `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-210">That is, add a ContentPlaceHolder control named `MainContent` to the Content control in `SimpleNested.master` that references the `MainContent` ContentPlaceHolder in `Simple.master`.</span></span> <span data-ttu-id="b122c-211">Faça a mesma coisa no controle de conteúdo que faz referência ao `head` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="b122c-211">Do the same thing in the Content control that references the `head` ContentPlaceHolder.</span></span>

> [!NOTE]
> <span data-ttu-id="b122c-212">Embora eu recomende nomear os controles ContentPlaceHolder na página mestre aninhada da mesma forma que os ContentPlaceHolders na página mestra de nível superior, essa simetria de nomenclatura não é necessária.</span><span class="sxs-lookup"><span data-stu-id="b122c-212">While I recommend naming the ContentPlaceHolder controls in the nested master page the same as the ContentPlaceHolders in the top-level master page, this naming symmetry is not required.</span></span> <span data-ttu-id="b122c-213">Você pode dar aos controles ContentPlaceHolder em sua página mestra aninhada qualquer nome que desejar.</span><span class="sxs-lookup"><span data-stu-id="b122c-213">You can give the ContentPlaceHolder controls in your nested master page any name you like.</span></span> <span data-ttu-id="b122c-214">No entanto, acho mais fácil lembrar quais ContentPlaceHolders correspondem a quais regiões da página se minha página mestra de nível superior e páginas mestras aninhadas usam os mesmos nomes.</span><span class="sxs-lookup"><span data-stu-id="b122c-214">However, I find it easier to remember what ContentPlaceHolders correspond with what regions of the page if my top-level master page and nested master pages use the same names.</span></span>

<span data-ttu-id="b122c-215">Depois de fazer essas adições, a marcação declarativa de `SimpleNested.master` página mestra deve ser semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="b122c-215">After making these additions your `SimpleNested.master` master page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-vb/samples/sample5.aspx)]

<span data-ttu-id="b122c-216">Exclua a página de conteúdo de `Default.aspx` que acabamos de criar e, em seguida, adicione-a novamente, associando-a à página mestra de `SimpleNested.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-216">Delete the `Default.aspx` content page we just created and then re-add it, binding it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="b122c-217">Desta vez, o Visual Studio adiciona dois controles de conteúdo ao `Default.aspx`, referenciando os ContentPlaceHolders agora definidos em `SimpleNested.master` (consulte a Figura 6).</span><span class="sxs-lookup"><span data-stu-id="b122c-217">This time Visual Studio adds two Content controls to the `Default.aspx`, referencing the ContentPlaceHolders now defined in `SimpleNested.master` (see Figure 6).</span></span> <span data-ttu-id="b122c-218">Adicione o texto "Olá, de default. aspx!"</span><span class="sxs-lookup"><span data-stu-id="b122c-218">Add the text, "Hello, from Default.aspx!"</span></span> <span data-ttu-id="b122c-219">no controle de conteúdo que referenciou `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="b122c-219">in the Content control that referenced `MainContent`.</span></span>

<span data-ttu-id="b122c-220">A Figura 5 mostra as três entidades envolvidas aqui-`Simple.master`, `SimpleNested.master`e `Default.aspx` e como elas se relacionam entre si.</span><span class="sxs-lookup"><span data-stu-id="b122c-220">Figure 5 shows the three entities involved here - `Simple.master`, `SimpleNested.master`, and `Default.aspx` - and how they relate to one another.</span></span> <span data-ttu-id="b122c-221">Como mostra o diagrama, a página mestra aninhada implementa controles de conteúdo para o ContentPlaceHolder de seu pai.</span><span class="sxs-lookup"><span data-stu-id="b122c-221">As the diagram shows, the nested master page implements Content controls for its parent's ContentPlaceHolder.</span></span> <span data-ttu-id="b122c-222">Se essas regiões precisarem ser acessíveis para a página de conteúdo, a página mestra aninhada deverá adicionar seus próprios ContentPlaceHolders aos controles de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-222">If these regions need to be accessible to the content page, the nested master page must add its own ContentPlaceHolders to the Content controls.</span></span>

<span data-ttu-id="b122c-223">[![as páginas mestras de nível superior e aninhado ditam o layout da página de conteúdo](nested-master-pages-vb/_static/image14.png)](nested-master-pages-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-223">[![The Top-Level and Nested Master Pages Dictate the Content Page's Layout](nested-master-pages-vb/_static/image14.png)](nested-master-pages-vb/_static/image13.png)</span></span>

<span data-ttu-id="b122c-224">**Figura 05**: as páginas mestras de nível superior e aninhado ditam o layout da página de conteúdo ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-224">**Figure 05**: The Top-Level and Nested Master Pages Dictate the Content Page's Layout ([Click to view full-size image](nested-master-pages-vb/_static/image15.png))</span></span>

<span data-ttu-id="b122c-225">Esse comportamento ilustra como uma página de conteúdo ou uma página mestra é apenas Cognizant de sua página mestra pai.</span><span class="sxs-lookup"><span data-stu-id="b122c-225">This behavior illustrates how a content page or master page is only cognizant of its parent master page.</span></span> <span data-ttu-id="b122c-226">Esse comportamento também é indicado pelo Visual Studio Designer.</span><span class="sxs-lookup"><span data-stu-id="b122c-226">This behavior is also indicated by the Visual Studio Designer.</span></span> <span data-ttu-id="b122c-227">A Figura 6 mostra o designer para `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="b122c-227">Figure 6 shows the Designer for `Default.aspx`.</span></span> <span data-ttu-id="b122c-228">Embora o designer mostre claramente quais regiões são editáveis na página conteúdo e quais partes não são, ela não faz a ambiguidade de quais regiões não editáveis são provenientes da página mestra aninhada e quais regiões são da página mestra de nível superior.</span><span class="sxs-lookup"><span data-stu-id="b122c-228">While the Designer clearly shows what regions are editable from the content page and what portions aren't, it doesn't disambiguate what non-editable regions are from the nested master page and what regions are from the top-level master page.</span></span>

<span data-ttu-id="b122c-229">[![a página de conteúdo agora inclui controles de conteúdo para os ContentPlaceHolders da página mestra aninhada](nested-master-pages-vb/_static/image17.png)](nested-master-pages-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-229">[![The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders](nested-master-pages-vb/_static/image17.png)](nested-master-pages-vb/_static/image16.png)</span></span>

<span data-ttu-id="b122c-230">**Figura 06**: a página de conteúdo agora inclui controles de conteúdo para os ContentPlaceHolders da página mestra aninhada ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-230">**Figure 06**: The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders ([Click to view full-size image](nested-master-pages-vb/_static/image18.png))</span></span>

## <a name="step-3-adding-a-second-simple-nested-master-page"></a><span data-ttu-id="b122c-231">Etapa 3: adicionando uma segunda página mestra aninhada simples</span><span class="sxs-lookup"><span data-stu-id="b122c-231">Step 3: Adding a Second Simple Nested Master Page</span></span>

<span data-ttu-id="b122c-232">O benefício das páginas mestras aninhadas é mais evidente quando há várias páginas mestras aninhadas.</span><span class="sxs-lookup"><span data-stu-id="b122c-232">The benefit of nested master pages is more evident when there are multiple nested master pages.</span></span> <span data-ttu-id="b122c-233">Para ilustrar esse benefício, crie outra página mestra aninhada na pasta `NestedMasterPages`; Nomeie essa nova página mestra aninhada `SimpleNestedAlternate.master` e associe-a à `Simple.master` página mestra.</span><span class="sxs-lookup"><span data-stu-id="b122c-233">To illustrate this benefit, create another nested master page in the `NestedMasterPages` folder; name this new nested master page `SimpleNestedAlternate.master` and bind it to the `Simple.master` master page.</span></span> <span data-ttu-id="b122c-234">Adicione controles ContentPlaceHolder nos dois controles de conteúdo da página mestra aninhada como fizemos na etapa 2.</span><span class="sxs-lookup"><span data-stu-id="b122c-234">Add ContentPlaceHolder controls in the nested master page's two Content controls like we did in Step 2.</span></span> <span data-ttu-id="b122c-235">Adicione também o texto "Olá, de SimpleNestedAlternate!"</span><span class="sxs-lookup"><span data-stu-id="b122c-235">Also add the text, "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="b122c-236">no controle de conteúdo que corresponde ao `MainContent` ContentPlaceHolder da página mestra de nível superior.</span><span class="sxs-lookup"><span data-stu-id="b122c-236">in the Content control that corresponds to the top-level master page's `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="b122c-237">Depois de fazer essas alterações, a marcação declarativa de sua nova página mestra aninhada deve ser semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="b122c-237">After making these changes your new nested master page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-vb/samples/sample6.aspx)]

<span data-ttu-id="b122c-238">Crie uma página de conteúdo chamada `Alternate.aspx` na pasta `NestedMasterPages` e associe-a à página mestra aninhada `SimpleNestedAlternate.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-238">Create a content page named `Alternate.aspx` in the `NestedMasterPages` folder and bind it to the `SimpleNestedAlternate.master` nested master page.</span></span> <span data-ttu-id="b122c-239">Adicione o texto "Olá, de alternativo!"</span><span class="sxs-lookup"><span data-stu-id="b122c-239">Add the text, "Hello, from Alternate!"</span></span> <span data-ttu-id="b122c-240">no controle de conteúdo que corresponde a `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="b122c-240">in the Content control that corresponds to `MainContent`.</span></span> <span data-ttu-id="b122c-241">A Figura 7 mostra `Alternate.aspx` quando exibido por meio do designer do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b122c-241">Figure 7 shows `Alternate.aspx` when viewed through the Visual Studio Designer.</span></span>

<span data-ttu-id="b122c-242">[![o Alternate. aspx está associado à página mestra SimpleNestedAlternate. Master](nested-master-pages-vb/_static/image20.png)](nested-master-pages-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-242">[![Alternate.aspx is Bound to the SimpleNestedAlternate.master Master Page](nested-master-pages-vb/_static/image20.png)](nested-master-pages-vb/_static/image19.png)</span></span>

<span data-ttu-id="b122c-243">**Figura 07**: `Alternate.aspx` está associado à `SimpleNestedAlternate.master` página mestra ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-243">**Figure 07**: `Alternate.aspx` is Bound to the `SimpleNestedAlternate.master` Master Page ([Click to view full-size image](nested-master-pages-vb/_static/image21.png))</span></span>

<span data-ttu-id="b122c-244">Compare o designer da Figura 7 com o designer na Figura 6.</span><span class="sxs-lookup"><span data-stu-id="b122c-244">Compare the Designer in Figure 7 to the Designer in Figure 6.</span></span> <span data-ttu-id="b122c-245">Ambas as páginas de conteúdo compartilham o mesmo layout definido na página mestra de nível superior (`Simple.master`), ou seja, o título "tutorial de páginas mestras aninhadas (simples)".</span><span class="sxs-lookup"><span data-stu-id="b122c-245">Both content pages share the same layout defined in the top-level master page (`Simple.master`), namely the "Nested Master Pages Tutorial (Simple)" title.</span></span> <span data-ttu-id="b122c-246">Mas ambos têm conteúdo distinto definido em suas páginas mestras pai-o texto "Olá, de SimpleNested!"</span><span class="sxs-lookup"><span data-stu-id="b122c-246">Yet both have distinct content defined in their parent master pages - the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="b122c-247">na Figura 6 e "Olá, de SimpleNestedAlternate!"</span><span class="sxs-lookup"><span data-stu-id="b122c-247">in Figure 6 and "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="b122c-248">na Figura 7.</span><span class="sxs-lookup"><span data-stu-id="b122c-248">in Figure 7.</span></span> <span data-ttu-id="b122c-249">Tudo bem, essas diferenças são triviais, mas você pode estender esse exemplo para incluir diferenças mais significativas.</span><span class="sxs-lookup"><span data-stu-id="b122c-249">Granted, these differences here are trivial, but you could extend this example to include more meaningful differences.</span></span> <span data-ttu-id="b122c-250">Por exemplo, a página `SimpleNested.master` pode incluir um menu com opções específicas para suas páginas de conteúdo, enquanto `SimpleNestedAlternate.master` pode ter informações pertinentes às páginas de conteúdo que se associam a ela.</span><span class="sxs-lookup"><span data-stu-id="b122c-250">For instance, the `SimpleNested.master` page might include a menu with options specific to its content pages, whereas `SimpleNestedAlternate.master` might have information pertinent to the content pages that bind to it.</span></span>

<span data-ttu-id="b122c-251">Agora, imagine que precisávamos fazer uma alteração no layout de site abrangente.</span><span class="sxs-lookup"><span data-stu-id="b122c-251">Now, imagine that we needed to make a change to the overarching site layout.</span></span> <span data-ttu-id="b122c-252">Por exemplo, imagine que queríamos adicionar uma lista de links comuns a todas as páginas de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-252">For example, imagine that we wanted to add a list of common links to all content pages.</span></span> <span data-ttu-id="b122c-253">Para fazer isso, atualizamos a página mestra de nível superior, `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-253">To accomplish this we update the top-level master page, `Simple.master`.</span></span> <span data-ttu-id="b122c-254">Todas as alterações são refletidas imediatamente em suas páginas mestras aninhadas e, por extensão, suas páginas de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-254">Any changes there are immediately reflected in its nested master pages and, by extension, their content pages.</span></span>

<span data-ttu-id="b122c-255">Para demonstrar a facilidade com a qual podemos alterar o layout de site abrangente, abra a página `Simple.master` mestra e adicione a seguinte marcação entre os elementos `topContent` e `mainContent` `<div>`:</span><span class="sxs-lookup"><span data-stu-id="b122c-255">To demonstrate the ease with which we can change the overarching site layout, open the `Simple.master` master page and add the following markup between the `topContent` and `mainContent` `<div>` elements:</span></span>

[!code-aspx[Main](nested-master-pages-vb/samples/sample7.aspx)]

<span data-ttu-id="b122c-256">Isso adiciona dois links à parte superior de cada página vinculada a `Simple.master`, `SimpleNested.master`ou `SimpleNestedAlternate.master`; essas alterações se aplicam a todas as páginas mestras aninhadas e suas páginas de conteúdo imediatamente.</span><span class="sxs-lookup"><span data-stu-id="b122c-256">This adds two links to the top of every page that binds to `Simple.master`, `SimpleNested.master`, or `SimpleNestedAlternate.master`; these changes apply to all nested master pages and their content pages immediately.</span></span> <span data-ttu-id="b122c-257">A Figura 8 mostra `Alternate.aspx` quando visualizado por meio de um navegador.</span><span class="sxs-lookup"><span data-stu-id="b122c-257">Figure 8 shows `Alternate.aspx` when viewed through a browser.</span></span> <span data-ttu-id="b122c-258">Observe a adição dos links na parte superior da página (em comparação com a Figura 7).</span><span class="sxs-lookup"><span data-stu-id="b122c-258">Note the addition of the links at the top of the page (compared to Figure 7).</span></span>

<span data-ttu-id="b122c-259">[![alterado para a página mestra de nível superior são refletidos imediatamente em suas páginas mestras aninhadas e suas páginas de conteúdo](nested-master-pages-vb/_static/image23.png)](nested-master-pages-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-259">[![Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages](nested-master-pages-vb/_static/image23.png)](nested-master-pages-vb/_static/image22.png)</span></span>

<span data-ttu-id="b122c-260">**Figura 08**: alterado para a página mestra de nível superior é refletido imediatamente em suas páginas mestras aninhadas e suas páginas de conteúdo ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-260">**Figure 08**: Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages ([Click to view full-size image](nested-master-pages-vb/_static/image24.png))</span></span>

## <a name="using-a-nested-master-page-for-the-administration-section"></a><span data-ttu-id="b122c-261">Usando uma página mestra aninhada para a seção de administração</span><span class="sxs-lookup"><span data-stu-id="b122c-261">Using a Nested Master Page for the Administration Section</span></span>

<span data-ttu-id="b122c-262">Neste ponto, examinamos as vantagens das páginas mestras aninhadas e vimos como criá-las e usá-las em um aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b122c-262">At this point we have looked at the advantages of nested master pages and have seen how to create and use them in an ASP.NET application.</span></span> <span data-ttu-id="b122c-263">No entanto, os exemplos nas etapas 1, 2 e 3 envolvem a criação de uma nova página mestra de nível superior, novas páginas mestras aninhadas e novas páginas de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-263">The examples in Steps 1, 2, and 3, however, involved creating a new top-level master page, new nested master pages, and new content pages.</span></span> <span data-ttu-id="b122c-264">E quanto à adição de uma nova página mestra aninhada a um site com uma página mestra de nível superior e páginas de conteúdo existentes?</span><span class="sxs-lookup"><span data-stu-id="b122c-264">What about adding a new nested master page to a website with an existing top-level master page and content pages?</span></span>

<span data-ttu-id="b122c-265">Integrar uma página mestra aninhada a um site existente e associá-la a páginas de conteúdo existentes requer um pouco mais de esforço do que a partir do zero.</span><span class="sxs-lookup"><span data-stu-id="b122c-265">Integrating a nested master page into an existing website and associating it with existing content pages requires a bit more effort than starting from scratch.</span></span> <span data-ttu-id="b122c-266">As etapas 4, 5, 6 e 7 exploram esses desafios à medida que aumentamos nosso aplicativo de demonstração para incluir uma nova página mestra aninhada chamada `AdminNested.master` que contém instruções para o administrador e é usada pelas páginas ASP.NET na pasta `~/Admin`.</span><span class="sxs-lookup"><span data-stu-id="b122c-266">Steps 4, 5, 6, and 7 explore these challenges as we augment our demo application to include a new nested master page named `AdminNested.master` that contains instructions for the administrator and is used by the ASP.NET pages in the `~/Admin` folder.</span></span>

<span data-ttu-id="b122c-267">A integração de uma página mestra aninhada ao nosso aplicativo de demonstração apresenta os seguintes obstáculos:</span><span class="sxs-lookup"><span data-stu-id="b122c-267">Integrating a nested master page into our demo application introduces the following hurdles:</span></span>

- <span data-ttu-id="b122c-268">As páginas de conteúdo existentes na pasta `~/Admin` têm determinadas expectativas de sua página mestra.</span><span class="sxs-lookup"><span data-stu-id="b122c-268">The existing content pages in the `~/Admin` folder have certain expectations from their master page.</span></span> <span data-ttu-id="b122c-269">Para os iniciantes, eles esperam que determinados controles ContentPlaceHolder estejam presentes.</span><span class="sxs-lookup"><span data-stu-id="b122c-269">For starters, they expect certain ContentPlaceHolder controls to be present.</span></span> <span data-ttu-id="b122c-270">Além disso, as páginas `~/Admin/AddProduct.aspx` e `~/Admin/Products.aspx` chamam o método de `RefreshRecentProductsGrid` público da página mestra, definimos sua propriedade `GridMessageText` ou um manipulador de eventos para seu evento `PricesDoubled`.</span><span class="sxs-lookup"><span data-stu-id="b122c-270">Furthermore, the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages call the master page's public `RefreshRecentProductsGrid` method, set its `GridMessageText` property, or have an event handler for its `PricesDoubled` event.</span></span> <span data-ttu-id="b122c-271">Consequentemente, nossa página mestra aninhada deve fornecer os mesmos ContentPlaceHolders e membros públicos.</span><span class="sxs-lookup"><span data-stu-id="b122c-271">Consequently, our nested master page must provide the same ContentPlaceHolders and public members.</span></span>
- <span data-ttu-id="b122c-272">No tutorial anterior, aprimoramos a classe `BasePage` para definir dinamicamente a propriedade `MasterPageFile` do objeto de `Page` com base em uma variável de sessão.</span><span class="sxs-lookup"><span data-stu-id="b122c-272">In the preceding tutorial we enhanced the `BasePage` class to dynamically set the `Page` object's `MasterPageFile` property based on a Session variable.</span></span> <span data-ttu-id="b122c-273">Como damos suporte a páginas mestras dinâmicas ao usar páginas mestras aninhadas?</span><span class="sxs-lookup"><span data-stu-id="b122c-273">How to we support dynamic master pages when using nested master pages?</span></span>

<span data-ttu-id="b122c-274">Esses dois desafios surgirão à medida que criarmos a página mestra aninhada e a usarem de nossas páginas de conteúdo existentes.</span><span class="sxs-lookup"><span data-stu-id="b122c-274">These two challenges will surface as we build the nested master page and use it from our existing content pages.</span></span> <span data-ttu-id="b122c-275">Nós investigaremos e superaremos esses problemas à medida que surgirem.</span><span class="sxs-lookup"><span data-stu-id="b122c-275">We'll investigate and surmount these issues as they arise.</span></span>

## <a name="step-4-creating-the-nested-master-page"></a><span data-ttu-id="b122c-276">Etapa 4: criando a página mestra aninhada</span><span class="sxs-lookup"><span data-stu-id="b122c-276">Step 4: Creating the Nested Master Page</span></span>

<span data-ttu-id="b122c-277">Nossa primeira tarefa é criar a página mestra aninhada a ser usada pelas páginas na seção Administração.</span><span class="sxs-lookup"><span data-stu-id="b122c-277">Our first task is to create the nested master page to be used by the pages in the Administration section.</span></span> <span data-ttu-id="b122c-278">Como vimos na etapa 2, ao adicionar uma nova página mestra aninhada, precisamos especificar a página mestra pai da página mestra aninhada.</span><span class="sxs-lookup"><span data-stu-id="b122c-278">As we saw in Step 2, when adding a new nested master page we need to specify the nested master page's parent master page.</span></span> <span data-ttu-id="b122c-279">Mas temos duas páginas mestras de nível superior: `Site.master` e `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-279">But we have two top-level master pages: `Site.master` and `Alternate.master`.</span></span> <span data-ttu-id="b122c-280">Lembre-se de que criamos `Alternate.master` no tutorial anterior e escrevi o código na classe `BasePage` que define a propriedade `MasterPageFile` do objeto de `Page` em tempo de execução para `Site.master` ou `Alternate.master` dependendo do valor da variável de sessão de `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b122c-280">Recall that we created `Alternate.master` in the preceding tutorial and wrote code in the `BasePage` class that set the `Page` object's `MasterPageFile` property at runtime to either `Site.master` or `Alternate.master` depending on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="b122c-281">Como podemos configurar nossa página mestra aninhada para que ela use a página mestra de nível superior apropriada?</span><span class="sxs-lookup"><span data-stu-id="b122c-281">How do we configure our nested master page so that it uses the appropriate top-level master page?</span></span> <span data-ttu-id="b122c-282">Nós temos duas opções:</span><span class="sxs-lookup"><span data-stu-id="b122c-282">We have two options:</span></span>

- <span data-ttu-id="b122c-283">Crie duas páginas mestras aninhadas, `AdminNestedSite.master` e `AdminNestedAlternate.master`e associá-las às páginas mestras de nível superior `Site.master` e `Alternate.master`, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="b122c-283">Create two nested master pages, `AdminNestedSite.master` and `AdminNestedAlternate.master`, and bind them to the top-level master pages `Site.master` and `Alternate.master`, respectively.</span></span> <span data-ttu-id="b122c-284">Em `BasePage`, em seguida, definimos o `MasterPageFile` do objeto `Page` como a página mestra aninhada apropriada.</span><span class="sxs-lookup"><span data-stu-id="b122c-284">In `BasePage`, then, we'd set the `Page` object's `MasterPageFile` to the appropriate nested master page.</span></span>
- <span data-ttu-id="b122c-285">Crie uma única página mestra aninhada e faça com que as páginas de conteúdo usem essa página mestra específica.</span><span class="sxs-lookup"><span data-stu-id="b122c-285">Create a single nested master page and have the content pages use this particular master page.</span></span> <span data-ttu-id="b122c-286">Em seguida, em tempo de execução, seria necessário definir a propriedade `MasterPageFile` da página mestra aninhada como a página mestra de nível superior apropriada em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="b122c-286">Then, at runtime, we'd need to set the nested master page's `MasterPageFile` property to the appropriate top-level master page at runtime.</span></span> <span data-ttu-id="b122c-287">(Como você já deve ter descoberto por enquanto, as páginas mestras também têm uma propriedade `MasterPageFile`.)</span><span class="sxs-lookup"><span data-stu-id="b122c-287">(As you might have figured out by now, master pages also have a `MasterPageFile` property.)</span></span>

<span data-ttu-id="b122c-288">Vamos usar a segunda opção.</span><span class="sxs-lookup"><span data-stu-id="b122c-288">Let's use the second option.</span></span> <span data-ttu-id="b122c-289">Crie um único arquivo de página mestra aninhada na pasta `~/Admin` chamada `AdminNested.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-289">Create a single nested master page file in the `~/Admin` folder named `AdminNested.master`.</span></span> <span data-ttu-id="b122c-290">Como `Site.master` e `Alternate.master` têm o mesmo conjunto de controles ContentPlaceHolder, não importa a página mestra à qual você o associa, embora eu o incentive a associá-lo ao `Site.master` para fins de consistência.</span><span class="sxs-lookup"><span data-stu-id="b122c-290">Because both `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls, it doesn't matter what master page you bind it to, although I encourage you to bind it to `Site.master` for consistency's sake.</span></span>

<span data-ttu-id="b122c-291">[![adicionar uma página mestra aninhada à pasta ~/admin.](nested-master-pages-vb/_static/image26.png)](nested-master-pages-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-291">[![Add a Nested Master Page to the ~/Admin Folder.](nested-master-pages-vb/_static/image26.png)](nested-master-pages-vb/_static/image25.png)</span></span>

<span data-ttu-id="b122c-292">**Figura 09**: adicionar uma página mestra aninhada à pasta `~/Admin`.</span><span class="sxs-lookup"><span data-stu-id="b122c-292">**Figure 09**: Add a Nested Master Page to the `~/Admin` Folder.</span></span> <span data-ttu-id="b122c-293">([Clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-293">([Click to view full-size image](nested-master-pages-vb/_static/image27.png))</span></span>

<span data-ttu-id="b122c-294">Como a página mestra aninhada está associada a uma página mestra com quatro controles ContentPlaceHolder, o Visual Studio adiciona quatro controles de conteúdo à marcação inicial do novo arquivo de página mestra aninhada.</span><span class="sxs-lookup"><span data-stu-id="b122c-294">Because the nested master page is bound to a master page with four ContentPlaceHolder controls, Visual Studio adds four Content controls to the new nested master page file's initial markup.</span></span> <span data-ttu-id="b122c-295">Como fizemos nas etapas 2 e 3, adicione um controle ContentPlaceHolder em cada controle de conteúdo, dando a ele o mesmo nome que o controle ContentPlaceHolder da página mestra de nível superior.</span><span class="sxs-lookup"><span data-stu-id="b122c-295">Like we did in Steps 2 and 3, add a ContentPlaceHolder control in each Content control, giving it the same name as the top-level master page's ContentPlaceHolder control.</span></span> <span data-ttu-id="b122c-296">Além disso, adicione a seguinte marcação ao controle de conteúdo que corresponde ao `MainContent` ContentPlaceHolder:</span><span class="sxs-lookup"><span data-stu-id="b122c-296">Also add the following markup to the Content control that corresponds to the `MainContent` ContentPlaceHolder:</span></span>

[!code-html[Main](nested-master-pages-vb/samples/sample8.html)]

<span data-ttu-id="b122c-297">Em seguida, defina o `instructions` classe CSS nos arquivos `Styles.css` e `AlternateStyles.css` CSS.</span><span class="sxs-lookup"><span data-stu-id="b122c-297">Next, define the `instructions` CSS class in the `Styles.css` and `AlternateStyles.css` CSS files.</span></span> <span data-ttu-id="b122c-298">As regras CSS a seguir fazem com que os elementos HTML tenham como estilo a classe `instructions` a ser exibida com uma cor de fundo amarela clara e uma borda sólida preta:</span><span class="sxs-lookup"><span data-stu-id="b122c-298">The following CSS rules cause HTML elements styled with the `instructions` class to be displayed with a light yellow background color and a black, solid border:</span></span>

[!code-css[Main](nested-master-pages-vb/samples/sample9.css)]

<span data-ttu-id="b122c-299">Como essa marcação foi adicionada à página mestra aninhada, ela só aparecerá nessas páginas que usam essa página mestra aninhada (ou seja, as páginas na seção Administração).</span><span class="sxs-lookup"><span data-stu-id="b122c-299">Because this markup has been added to the nested master page, it will only appear in those pages that use this nested master page (namely, the pages in the Administration section).</span></span>

<span data-ttu-id="b122c-300">Depois de fazer essas adições à sua página mestra aninhada, sua marcação declarativa deve ser semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="b122c-300">After making these additions to your nested master page, its declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-vb/samples/sample10.aspx)]

<span data-ttu-id="b122c-301">Observe que cada controle de conteúdo tem um controle ContentPlaceHolder e que os controles ContentPlaceHolder ' `ID` Propriedades recebem os mesmos valores dos controles ContentPlaceHolder correspondentes na página mestra de nível superior.</span><span class="sxs-lookup"><span data-stu-id="b122c-301">Note that each Content control has a ContentPlaceHolder control and that the ContentPlaceHolder controls' `ID` properties are assigned the same values as the corresponding ContentPlaceHolder controls in the top-level master page.</span></span> <span data-ttu-id="b122c-302">Além disso, a marcação específica da seção de administração aparece no `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="b122c-302">Moreover, the Administration section-specific markup appears in the `MainContent` ContentPlaceHolder.</span></span>

<span data-ttu-id="b122c-303">A Figura 10 mostra a `AdminNested.master` página mestra aninhada quando exibida por meio do designer do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b122c-303">Figure 10 shows the `AdminNested.master` nested master page when viewed through Visual Studio's Designer.</span></span> <span data-ttu-id="b122c-304">Você pode ver as instruções na caixa amarela na parte superior do controle de conteúdo de `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="b122c-304">You can see the instructions in the yellow box at the top of the `MainContent` Content control.</span></span>

<span data-ttu-id="b122c-305">[![a página mestra aninhada estende a página mestra de nível superior para incluir instruções para o administrador.](nested-master-pages-vb/_static/image29.png)](nested-master-pages-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-305">[![The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.](nested-master-pages-vb/_static/image29.png)](nested-master-pages-vb/_static/image28.png)</span></span>

<span data-ttu-id="b122c-306">**Figura 10**: a página mestra aninhada estende a página mestra de nível superior para incluir instruções para o administrador.</span><span class="sxs-lookup"><span data-stu-id="b122c-306">**Figure 10**: The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.</span></span> <span data-ttu-id="b122c-307">([Clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-307">([Click to view full-size image](nested-master-pages-vb/_static/image30.png))</span></span>

## <a name="step-5-updating-the-existing-content-pages-to-use-the-new-nested-master-page"></a><span data-ttu-id="b122c-308">Etapa 5: atualizando as páginas de conteúdo existentes para usar a nova página mestra aninhada</span><span class="sxs-lookup"><span data-stu-id="b122c-308">Step 5: Updating the Existing Content Pages to Use the New Nested Master Page</span></span>

<span data-ttu-id="b122c-309">Sempre que adicionarmos uma nova página de conteúdo à seção Administração, precisamos associá-la à página mestra de `AdminNested.master` que acabamos de criar.</span><span class="sxs-lookup"><span data-stu-id="b122c-309">Anytime we add a new content page to the Administration section we need to bind it to the `AdminNested.master` master page we just created.</span></span> <span data-ttu-id="b122c-310">Mas e quanto às páginas de conteúdo existentes?</span><span class="sxs-lookup"><span data-stu-id="b122c-310">But what about the existing content pages?</span></span> <span data-ttu-id="b122c-311">Atualmente, todas as páginas de conteúdo no site derivam da classe `BasePage`, que define programaticamente a página mestra da página de conteúdo em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="b122c-311">Currently, all content pages in the site derive from the `BasePage` class, which programmatically sets the content page's master page at runtime.</span></span> <span data-ttu-id="b122c-312">Esse não é o comportamento que queremos para as páginas de conteúdo na seção Administração.</span><span class="sxs-lookup"><span data-stu-id="b122c-312">This is not the behavior we want for the content pages in the Administration section.</span></span> <span data-ttu-id="b122c-313">Em vez disso, queremos que essas páginas de conteúdo sempre usem a página `AdminNested.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-313">Instead, we want these content pages to always use the `AdminNested.master` page.</span></span> <span data-ttu-id="b122c-314">Será responsabilidade da página mestra aninhada escolher a página de conteúdo de nível superior correta em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="b122c-314">It will be the responsibility of the nested master page to choose the right top-level content page at runtime.</span></span>

<span data-ttu-id="b122c-315">Para obter a melhor maneira de atingir esse comportamento desejado é criar uma nova classe de página de base personalizada chamada `AdminBasePage` que estenda a classe `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="b122c-315">To best way to achieve this desired behavior is to create a new custom base page class named `AdminBasePage` that extends the `BasePage` class.</span></span> <span data-ttu-id="b122c-316">`AdminBasePage` pode substituir o `SetMasterPageFile` e definir a `MasterPageFile` do objeto `Page` como o valor embutido em código "~/Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="b122c-316">`AdminBasePage` can then override the `SetMasterPageFile` and set the `Page` object's `MasterPageFile` to the hard-coded value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="b122c-317">Dessa forma, qualquer página derivada de `AdminBasePage` usará `AdminNested.master`, enquanto qualquer página derivada de `BasePage` terá sua propriedade `MasterPageFile` definida dinamicamente como "~/site.Master" ou "~/Alternate.Master" com base no valor da variável de sessão de `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b122c-317">In this way, any page that derives from `AdminBasePage` will use `AdminNested.master`, whereas any page that derives from `BasePage` will have its `MasterPageFile` property set dynamically to either "~/Site.master" or "~/Alternate.master" based on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="b122c-318">Comece adicionando um novo arquivo de classe à pasta `App_Code` chamada `AdminBasePage.vb`.</span><span class="sxs-lookup"><span data-stu-id="b122c-318">Start by adding a new class file to the `App_Code` folder named `AdminBasePage.vb`.</span></span> <span data-ttu-id="b122c-319">`AdminBasePage` estender `BasePage` e, em seguida, substituir o método `SetMasterPageFile`.</span><span class="sxs-lookup"><span data-stu-id="b122c-319">Have `AdminBasePage` extend `BasePage` and then override the `SetMasterPageFile` method.</span></span> <span data-ttu-id="b122c-320">Nesse método, atribua o `MasterPageFile` valor "~/Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="b122c-320">In that method assign the `MasterPageFile` the value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="b122c-321">Depois de fazer essas alterações, seu arquivo de classe deve ser semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="b122c-321">After making these changes your class file should look similar to the following:</span></span>

[!code-vb[Main](nested-master-pages-vb/samples/sample11.vb)]

<span data-ttu-id="b122c-322">Agora, precisamos que as páginas de conteúdo existentes na seção Administração derivem de `AdminBasePage` em vez de `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="b122c-322">We now need to have the existing content pages in the Administration section derive from `AdminBasePage` instead of `BasePage`.</span></span> <span data-ttu-id="b122c-323">Vá para o arquivo de classe code-behind para cada página de conteúdo na pasta `~/Admin` e faça essa alteração.</span><span class="sxs-lookup"><span data-stu-id="b122c-323">Go to the code-behind class file for each content page in the `~/Admin` folder and make this change.</span></span> <span data-ttu-id="b122c-324">Por exemplo, em `~/Admin/Default.aspx` você alteraria a declaração de classe code-behind de:</span><span class="sxs-lookup"><span data-stu-id="b122c-324">For example, in `~/Admin/Default.aspx` you'd change the code-behind class declaration from:</span></span>

[!code-vb[Main](nested-master-pages-vb/samples/sample12.vb)]

<span data-ttu-id="b122c-325">Para:</span><span class="sxs-lookup"><span data-stu-id="b122c-325">To:</span></span>

[!code-vb[Main](nested-master-pages-vb/samples/sample13.vb)]

<span data-ttu-id="b122c-326">A Figura 11 descreve como a página mestra de nível superior (`Site.master` ou `Alternate.master`), a página mestra aninhada (`AdminNested.master`) e as páginas de conteúdo da seção de administração estão relacionadas entre si.</span><span class="sxs-lookup"><span data-stu-id="b122c-326">Figure 11 depicts how the top-level master page (`Site.master` or `Alternate.master`), the nested master page (`AdminNested.master`), and the Administration section content pages relate to one another.</span></span>

<span data-ttu-id="b122c-327">[![a página mestra aninhada define o conteúdo específico para as páginas na seção Administração](nested-master-pages-vb/_static/image32.png)](nested-master-pages-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-327">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-vb/_static/image32.png)](nested-master-pages-vb/_static/image31.png)</span></span>

<span data-ttu-id="b122c-328">**Figura 11**: a página mestra aninhada define o conteúdo específico para as páginas na seção Administração ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-328">**Figure 11**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-vb/_static/image33.png))</span></span>

## <a name="step-6-mirroring-the-master-pages-public-methods-and-properties"></a><span data-ttu-id="b122c-329">Etapa 6: espelhamento dos métodos públicos e das propriedades da página mestra</span><span class="sxs-lookup"><span data-stu-id="b122c-329">Step 6: Mirroring the Master Page's Public Methods and Properties</span></span>

<span data-ttu-id="b122c-330">Lembre-se de que as páginas `~/Admin/AddProduct.aspx` e `~/Admin/Products.aspx` interagem programaticamente com a página mestra: `~/Admin/AddProduct.aspx` chama o método `RefreshRecentProductsGrid` público da página mestra e define sua propriedade `GridMessageText`; `~/Admin/Products.aspx` tem um manipulador de eventos para o evento `PricesDoubled`.</span><span class="sxs-lookup"><span data-stu-id="b122c-330">Recall that the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages interact programmatically with the master page: `~/Admin/AddProduct.aspx` calls the master page's public `RefreshRecentProductsGrid` method and sets its `GridMessageText` property; `~/Admin/Products.aspx` has an event handler for the `PricesDoubled` event.</span></span> <span data-ttu-id="b122c-331">No tutorial anterior, criamos uma classe `MustInherit` `BaseMasterPage` que definiu esses membros públicos.</span><span class="sxs-lookup"><span data-stu-id="b122c-331">In the preceding tutorial we created a `MustInherit` `BaseMasterPage` class that defined these public members.</span></span>

<span data-ttu-id="b122c-332">As páginas `~/Admin/AddProduct.aspx` e `~/Admin/Products.aspx` pressupõem que sua página mestra deriva da classe `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b122c-332">The `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages assume that their master page derives from the `BaseMasterPage` class.</span></span> <span data-ttu-id="b122c-333">A página de `AdminNested.master`, no entanto, atualmente estende a classe `System.Web.UI.MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b122c-333">The `AdminNested.master` page, however, currently extends the `System.Web.UI.MasterPage` class.</span></span> <span data-ttu-id="b122c-334">Como resultado, ao visitar `~/Admin/Products.aspx` um `InvalidCastException` é lançado com a mensagem: "não é possível converter o objeto do tipo ' ASP. admin\_adminnested\_Master ' para o tipo ' BaseMasterPage '."</span><span class="sxs-lookup"><span data-stu-id="b122c-334">As a result, when visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown with the message: "Unable to cast object of type 'ASP.admin\_adminnested\_master' to type 'BaseMasterPage'."</span></span>

<span data-ttu-id="b122c-335">Para corrigir isso, precisamos ter a classe code-behind `AdminNested.master` estender `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b122c-335">To fix this we need to have the `AdminNested.master` code-behind class extend `BaseMasterPage`.</span></span> <span data-ttu-id="b122c-336">Atualize a declaração de classe code-behind da página mestra aninhada de:</span><span class="sxs-lookup"><span data-stu-id="b122c-336">Update the nested master page's code-behind class declaration from:</span></span>

[!code-vb[Main](nested-master-pages-vb/samples/sample14.vb)]

<span data-ttu-id="b122c-337">Para:</span><span class="sxs-lookup"><span data-stu-id="b122c-337">To:</span></span>

[!code-vb[Main](nested-master-pages-vb/samples/sample15.vb)]

<span data-ttu-id="b122c-338">Ainda não estamos prontos.</span><span class="sxs-lookup"><span data-stu-id="b122c-338">We're not done yet.</span></span> <span data-ttu-id="b122c-339">Precisamos substituir os membros marcados como `MustOverride`, ou seja, `RefreshRecentProductsGrid` e `GridMessageText`.</span><span class="sxs-lookup"><span data-stu-id="b122c-339">We need to override the members marked as `MustOverride`, namely `RefreshRecentProductsGrid` and `GridMessageText`.</span></span> <span data-ttu-id="b122c-340">Esses membros são usados pelas páginas mestras de nível superior para atualizar suas interfaces de usuário.</span><span class="sxs-lookup"><span data-stu-id="b122c-340">These members are used by the top-level master pages to update their user interfaces.</span></span> <span data-ttu-id="b122c-341">(Na verdade, somente a página mestra de `Site.master` usa esses métodos, embora ambas as páginas mestras de nível superior implementem esses métodos, já que ambos estendem `BaseMasterPage`.)</span><span class="sxs-lookup"><span data-stu-id="b122c-341">(Actually, only the `Site.master` master page uses these methods, although both top-level master pages implement these methods, since both extend `BaseMasterPage`.)</span></span>

<span data-ttu-id="b122c-342">Embora seja necessário implementar esses membros em `AdminNested.master`, todas essas implementações precisam simplesmente chamar o mesmo membro na página mestra de nível superior usada pela página mestra aninhada.</span><span class="sxs-lookup"><span data-stu-id="b122c-342">While we need to implement these members in `AdminNested.master`, all these implementations need to do is simply call the same member in the top-level master page used by the nested master page.</span></span> <span data-ttu-id="b122c-343">Por exemplo, quando uma página de conteúdo na seção de administração chama o método `RefreshRecentProductsGrid` da página mestra aninhada, toda a página mestra aninhada precisa fazer é, por sua vez, chamar `Site.master` ou o método `RefreshRecentProductsGrid` do `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-343">For instance, when a content page in the Administration section calls the nested master page's `RefreshRecentProductsGrid` method, all the nested master page needs to do is, in turn, call `Site.master` or `Alternate.master`'s `RefreshRecentProductsGrid` method.</span></span>

<span data-ttu-id="b122c-344">Para fazer isso, comece adicionando a seguinte diretiva de `@MasterType` à parte superior de `AdminNested.master`:</span><span class="sxs-lookup"><span data-stu-id="b122c-344">To achieve this, start by adding the following `@MasterType` directive to the top of `AdminNested.master`:</span></span>

[!code-aspx[Main](nested-master-pages-vb/samples/sample16.aspx)]

<span data-ttu-id="b122c-345">Lembre-se de que a diretiva `@MasterType` adiciona uma propriedade fortemente tipada à classe code-behind chamada `Master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-345">Recall that the `@MasterType` directive adds a strongly-typed property to the code-behind class named `Master`.</span></span> <span data-ttu-id="b122c-346">Em seguida, substitua os membros `RefreshRecentProductsGrid` e `GridMessageText` e simplesmente delegue a chamada para o método correspondente do `Master`:</span><span class="sxs-lookup"><span data-stu-id="b122c-346">Then override the `RefreshRecentProductsGrid` and `GridMessageText` members and simply delegate the call to the `Master`'s corresponding method:</span></span>

[!code-vb[Main](nested-master-pages-vb/samples/sample17.vb)]

<span data-ttu-id="b122c-347">Com esse código em vigor, você deve ser capaz de visitar e usar as páginas de conteúdo na seção Administração.</span><span class="sxs-lookup"><span data-stu-id="b122c-347">With this code in place, you should be able to visit and use the content pages in the Administration section.</span></span> <span data-ttu-id="b122c-348">A Figura 12 mostra a página de `~/Admin/Products.aspx` quando exibida por meio de um navegador.</span><span class="sxs-lookup"><span data-stu-id="b122c-348">Figure 12 shows the `~/Admin/Products.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="b122c-349">Como você pode ver, a página inclui a caixa de instruções de administração, que é definida na página mestre aninhada.</span><span class="sxs-lookup"><span data-stu-id="b122c-349">As you can see, the page includes the Administration Instructions box, which is defined in the nested master page.</span></span>

<span data-ttu-id="b122c-350">[![as páginas de conteúdo na seção Administração incluem instruções na parte superior de cada página](nested-master-pages-vb/_static/image35.png)](nested-master-pages-vb/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-350">[![The Content Pages in the Administration Section Include Instructions at the Top of Each Page](nested-master-pages-vb/_static/image35.png)](nested-master-pages-vb/_static/image34.png)</span></span>

<span data-ttu-id="b122c-351">**Figura 12**: as páginas de conteúdo na seção Administração incluem instruções na parte superior de cada página ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-351">**Figure 12**: The Content Pages in the Administration Section Include Instructions at the Top of Each Page ([Click to view full-size image](nested-master-pages-vb/_static/image36.png))</span></span>

## <a name="step-7-using-the-appropriate-top-level-master-page-at-runtime"></a><span data-ttu-id="b122c-352">Etapa 7: usando a página mestra de nível superior apropriada em tempo de execução</span><span class="sxs-lookup"><span data-stu-id="b122c-352">Step 7: Using the Appropriate Top-Level Master Page at Runtime</span></span>

<span data-ttu-id="b122c-353">Embora todas as páginas de conteúdo na seção Administração sejam totalmente funcionais, todas usam a mesma página mestra de nível superior e ignoram a página mestra selecionada pelo usuário em `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="b122c-353">While all the content pages in the Administration section are fully functional, they all use the same top-level master page and ignore the master page selected by the user at `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="b122c-354">Esse comportamento ocorre devido ao fato de que a página mestra aninhada tem sua propriedade `MasterPageFile` definida estaticamente como `Site.master` em sua diretiva de `<%@ Master %>`.</span><span class="sxs-lookup"><span data-stu-id="b122c-354">This behavior is due to the fact that the nested master page has its `MasterPageFile` property statically set to `Site.master` in its `<%@ Master %>` directive.</span></span>

<span data-ttu-id="b122c-355">Para usar a página mestra de nível superior selecionada pelo usuário final, precisamos definir a propriedade `MasterPageFile` do `AdminNested.master`como o valor na variável de sessão de `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b122c-355">To use the top-level master page selected by the end user we need to set the `AdminNested.master`'s `MasterPageFile` property to the value in the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="b122c-356">Como definimos as propriedades de `MasterPageFile` das páginas de conteúdo no `BasePage`, você pode imaginar que definiremos a propriedade `MasterPageFile` da página mestra aninhada em `BaseMasterPage` ou na classe code-behind do `AdminNested.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-356">Because we set the content pages' `MasterPageFile` properties in `BasePage`, you may think that we would set the nested master page's `MasterPageFile` property in `BaseMasterPage` or in the `AdminNested.master`'s code-behind class.</span></span> <span data-ttu-id="b122c-357">No entanto, isso não funcionará, pois precisamos definir a propriedade `MasterPageFile` pelo final do estágio PreInit.</span><span class="sxs-lookup"><span data-stu-id="b122c-357">This won't work, however, because we need to have set the `MasterPageFile` property by the end of the PreInit stage.</span></span> <span data-ttu-id="b122c-358">A primeira vez que podemos tocar programaticamente no ciclo de vida da página de uma página mestra é o estágio init (que ocorre após o estágio PreInit).</span><span class="sxs-lookup"><span data-stu-id="b122c-358">The earliest time that we can programmatically tap into the page lifecycle from a master page is the Init stage (which occurs after the PreInit stage).</span></span>

<span data-ttu-id="b122c-359">Portanto, precisamos definir a propriedade `MasterPageFile` da página mestra aninhada nas páginas de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-359">Therefore, we need to set the nested master page's `MasterPageFile` property from the content pages.</span></span> <span data-ttu-id="b122c-360">As únicas páginas de conteúdo que usam a página mestra de `AdminNested.master` derivam de `AdminBasePage`.</span><span class="sxs-lookup"><span data-stu-id="b122c-360">The only content pages that use the `AdminNested.master` master page derive from `AdminBasePage`.</span></span> <span data-ttu-id="b122c-361">Portanto, podemos colocar essa lógica lá.</span><span class="sxs-lookup"><span data-stu-id="b122c-361">Therefore, we can put this logic there.</span></span> <span data-ttu-id="b122c-362">Na etapa 5, substituiu o método `SetMasterPageFile`, definindo a propriedade `MasterPageFile` do objeto Page como "~/Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="b122c-362">In Step 5 we overrode the `SetMasterPageFile` method, setting the Page object's `MasterPageFile` property to "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="b122c-363">Atualize `SetMasterPageFile` também defina a propriedade `MasterPageFile` da página mestra para o resultado armazenado na sessão:</span><span class="sxs-lookup"><span data-stu-id="b122c-363">Update `SetMasterPageFile` to also set the master page's `MasterPageFile` property to the result stored in Session:</span></span>

[!code-vb[Main](nested-master-pages-vb/samples/sample18.vb)]

<span data-ttu-id="b122c-364">O método `GetMasterPageFileFromSession`, que adicionamos à classe `BasePage` no tutorial anterior, retorna o caminho do arquivo da página mestra apropriado com base no valor da variável de sessão.</span><span class="sxs-lookup"><span data-stu-id="b122c-364">The `GetMasterPageFileFromSession` method, which we added to the `BasePage` class in the preceding tutorial, returns the appropriate master page file path based on the Session variable value.</span></span>

<span data-ttu-id="b122c-365">Com essa alteração no local, a seleção da página mestra do usuário é transferida para a seção Administração.</span><span class="sxs-lookup"><span data-stu-id="b122c-365">With this change in place, the user's master page selection carries over to the Administration section.</span></span> <span data-ttu-id="b122c-366">A Figura 13 mostra a mesma página da figura 12, mas depois que o usuário alterou a seleção de página mestra para `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="b122c-366">Figure 13 shows the same page as Figure 12, but after the user has changed their master page selection to `Alternate.master`.</span></span>

<span data-ttu-id="b122c-367">[![a página de administração aninhada usar a página mestra de nível superior selecionada pelo usuário](nested-master-pages-vb/_static/image38.png)](nested-master-pages-vb/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="b122c-367">[![The Nested Administration Page Uses the Top-Level Master Page Selected by the User](nested-master-pages-vb/_static/image38.png)](nested-master-pages-vb/_static/image37.png)</span></span>

<span data-ttu-id="b122c-368">**Figura 13**: a página de administração aninhada usa a página mestra de nível superior selecionada pelo usuário ([clique para exibir a imagem em tamanho normal](nested-master-pages-vb/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="b122c-368">**Figure 13**: The Nested Administration Page Uses the Top-Level Master Page Selected by the User ([Click to view full-size image](nested-master-pages-vb/_static/image39.png))</span></span>

## <a name="summary"></a><span data-ttu-id="b122c-369">Resumo</span><span class="sxs-lookup"><span data-stu-id="b122c-369">Summary</span></span>

<span data-ttu-id="b122c-370">Assim como as páginas de conteúdo podem ser vinculadas a uma página mestra, é possível criar páginas mestras aninhadas fazendo com que uma página mestra filho seja associada a uma página mestra pai.</span><span class="sxs-lookup"><span data-stu-id="b122c-370">Much like how content pages can bind to a master page, it is possible to create nested master pages by having a child master page bind to a parent master page.</span></span> <span data-ttu-id="b122c-371">A página mestra filha pode definir controles de conteúdo para cada um dos ContentPlaceHolders pai; em seguida, ele pode adicionar seus próprios controles ContentPlaceHolder (bem como outra marcação) a esses controles de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="b122c-371">The child master page may define Content controls for each of its parent's ContentPlaceHolders; it can then add its own ContentPlaceHolder controls (as well as other markup) to these Content controls.</span></span> <span data-ttu-id="b122c-372">As páginas mestras aninhadas são bastante úteis em grandes aplicativos Web, onde todas as páginas compartilham uma aparência abrangente, mas determinadas seções do site exigem personalizações exclusivas.</span><span class="sxs-lookup"><span data-stu-id="b122c-372">Nested master pages are quite useful in large web applications where all pages share an overarching look and feel, yet certain sections of the site require unique customizations.</span></span>

<span data-ttu-id="b122c-373">Boa programação!</span><span class="sxs-lookup"><span data-stu-id="b122c-373">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="b122c-374">Leitura adicional</span><span class="sxs-lookup"><span data-stu-id="b122c-374">Further Reading</span></span>

<span data-ttu-id="b122c-375">Para obter mais informações sobre os tópicos discutidos neste tutorial, consulte os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="b122c-375">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="b122c-376">Páginas mestras ASP.NET aninhadas</span><span class="sxs-lookup"><span data-stu-id="b122c-376">Nested ASP.NET Master Pages</span></span>](https://msdn.microsoft.com/library/x2b3ktt7.aspx)
- [<span data-ttu-id="b122c-377">Dicas para páginas mestras aninhadas e tempo de design VS 2005</span><span class="sxs-lookup"><span data-stu-id="b122c-377">Tips for Nested Master Pages and VS 2005 Design-Time</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx)
- [<span data-ttu-id="b122c-378">Suporte a páginas mestras aninhadas do VS 2008</span><span class="sxs-lookup"><span data-stu-id="b122c-378">VS 2008 Nested Master Page Support</span></span>](https://weblogs.asp.net/scottgu/archive/2007/07/09/vs-2008-nested-master-page-support.aspx)

### <a name="about-the-author"></a><span data-ttu-id="b122c-379">Sobre o autor</span><span class="sxs-lookup"><span data-stu-id="b122c-379">About the Author</span></span>

<span data-ttu-id="b122c-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de vários livros sobre ASP/ASP. net e fundador da 4GuysFromRolla.com, tem trabalhado com tecnologias Web da Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="b122c-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="b122c-381">Scott trabalha como consultor, instrutor e escritor independentes.</span><span class="sxs-lookup"><span data-stu-id="b122c-381">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="b122c-382">Seu livro mais recente é que a [*Sams ensina a ASP.NET 3,5 em 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="b122c-382">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="b122c-383">Scott pode ser contatado em [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) ou por meio de seu blog em [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="b122c-383">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="b122c-384">Agradecimentos especiais a</span><span class="sxs-lookup"><span data-stu-id="b122c-384">Special Thanks To</span></span>

<span data-ttu-id="b122c-385">Esta série de tutoriais foi revisada por muitos revisores úteis.</span><span class="sxs-lookup"><span data-stu-id="b122c-385">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="b122c-386">Está interessado em revisar meus artigos futuros do MSDN?</span><span class="sxs-lookup"><span data-stu-id="b122c-386">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="b122c-387">Em caso afirmativo, solte-me uma linha em [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="b122c-387">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="b122c-388">Anterior</span><span class="sxs-lookup"><span data-stu-id="b122c-388">Previous</span></span>](specifying-the-master-page-programmatically-vb.md)
