---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
title: Introdução à Páginas da Web do ASP.NET-exibindo dados | Microsoft Docs
author: Rick-Anderson
description: Este tutorial mostra como criar um banco de dados do no WebMatrix e como exibir o banco de dados em uma página quando você usa Páginas da Web do ASP.NET (Razor). Ele assume y...
ms.author: riande
ms.date: 05/28/2015
ms.assetid: b3a006a0-3ea2-4d45-b833-e20e3a3c0a1a
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
msc.type: authoredcontent
ms.openlocfilehash: 9e665ca8dd064c23a8b8bd3593014969d0c3da48
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78525217"
---
# <a name="introducing-aspnet-web-pages---displaying-data"></a><span data-ttu-id="4d07d-104">Introdução à Páginas da Web do ASP.NET-exibindo dados</span><span class="sxs-lookup"><span data-stu-id="4d07d-104">Introducing ASP.NET Web Pages - Displaying Data</span></span>

<span data-ttu-id="4d07d-105">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="4d07d-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="4d07d-106">Este tutorial mostra como criar um banco de dados do no WebMatrix e como exibir o banco de dados em uma página quando você usa Páginas da Web do ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="4d07d-106">This tutorial shows you how to create a database in WebMatrix and how to display database data in a page when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="4d07d-107">Ele pressupõe que você concluiu a série por meio da [introdução à programação de páginas da Web do ASP.net](../introducing-razor-syntax-c.md).</span><span class="sxs-lookup"><span data-stu-id="4d07d-107">It assumes you have completed the series through [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md).</span></span>
> 
> <span data-ttu-id="4d07d-108">O que você aprenderá:</span><span class="sxs-lookup"><span data-stu-id="4d07d-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="4d07d-109">Como usar as ferramentas do WebMatrix para criar um banco de dados e tabelas de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-109">How to use WebMatrix tools to create a database and database tables.</span></span>
> - <span data-ttu-id="4d07d-110">Como usar as ferramentas do WebMatrix para adicionar dados a um banco de dado.</span><span class="sxs-lookup"><span data-stu-id="4d07d-110">How to use WebMatrix tools to add data to a database.</span></span>
> - <span data-ttu-id="4d07d-111">Como exibir dados do banco de dados em uma página.</span><span class="sxs-lookup"><span data-stu-id="4d07d-111">How to display data from the database on a page.</span></span>
> - <span data-ttu-id="4d07d-112">Como executar comandos SQL no Páginas da Web do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="4d07d-112">How to run SQL commands in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="4d07d-113">Como personalizar o auxiliar de `WebGrid` para alterar a exibição de dados e adicionar paginação e classificação.</span><span class="sxs-lookup"><span data-stu-id="4d07d-113">How to customize the `WebGrid` helper to change the data display and to add paging and sorting.</span></span>
>   
> 
> <span data-ttu-id="4d07d-114">Recursos/tecnologias abordados:</span><span class="sxs-lookup"><span data-stu-id="4d07d-114">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="4d07d-115">Ferramentas de banco de dados do WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="4d07d-115">WebMatrix database tools.</span></span>
> - <span data-ttu-id="4d07d-116">`WebGrid` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="4d07d-116">`WebGrid` helper.</span></span>

## <a name="what-youll-build"></a><span data-ttu-id="4d07d-117">O que você vai construir</span><span class="sxs-lookup"><span data-stu-id="4d07d-117">What You'll Build</span></span>

<span data-ttu-id="4d07d-118">No tutorial anterior, você foi apresentado a Páginas da Web do ASP.NET (arquivos *. cshtml* ), aos fundamentos do sintaxe Razor e aos auxiliares.</span><span class="sxs-lookup"><span data-stu-id="4d07d-118">In the previous tutorial, you were introduced to ASP.NET Web Pages (*.cshtml* files), to the basics of Razor syntax, and to helpers.</span></span> <span data-ttu-id="4d07d-119">Neste tutorial, você começará a criar o aplicativo Web real que será usado para o restante da série.</span><span class="sxs-lookup"><span data-stu-id="4d07d-119">In this tutorial, you'll begin creating the actual web application that you'll use for the rest of the series.</span></span> <span data-ttu-id="4d07d-120">O aplicativo é um aplicativo de filme simples que permite exibir, adicionar, alterar e excluir informações sobre filmes.</span><span class="sxs-lookup"><span data-stu-id="4d07d-120">The app is a simple movie application that lets you view, add, change, and delete information about movies.</span></span>

<span data-ttu-id="4d07d-121">Quando terminar este tutorial, você poderá exibir uma listagem de filmes semelhante a esta página:</span><span class="sxs-lookup"><span data-stu-id="4d07d-121">When you're done with this tutorial, you'll be able to view a movie listing that looks like this page:</span></span>

![Exibição do WebGrid que inclui parâmetros definidos para nomes de classe CSS](displaying-data/_static/image1.png)

<span data-ttu-id="4d07d-123">Mas, para começar, você precisa criar um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-123">But to begin, you have to create a database.</span></span>

## <a name="a-very-brief-introduction-to-databases"></a><span data-ttu-id="4d07d-124">Uma introdução breve aos bancos de dados</span><span class="sxs-lookup"><span data-stu-id="4d07d-124">A Very Brief Introduction to Databases</span></span>

<span data-ttu-id="4d07d-125">Este tutorial fornecerá apenas a introdução mais breve aos bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-125">This tutorial will provide only the briefest introduction to databases.</span></span> <span data-ttu-id="4d07d-126">Se você tiver experiência com o banco de dados, poderá ignorar esta pequena seção.</span><span class="sxs-lookup"><span data-stu-id="4d07d-126">If you have database experience, you can skip this short section.</span></span>

<span data-ttu-id="4d07d-127">Um banco de dados contém uma ou mais tabelas que contêm informações &mdash; por exemplo, tabelas para clientes, pedidos e fornecedores, ou para alunos, professores, classes e notas.</span><span class="sxs-lookup"><span data-stu-id="4d07d-127">A database contains one or more tables that contain information &mdash; for example, tables for customers, orders, and vendors, or for students, teachers, classes, and grades.</span></span> <span data-ttu-id="4d07d-128">Estruturalmente, uma tabela de banco de dados é como uma planilha.</span><span class="sxs-lookup"><span data-stu-id="4d07d-128">Structurally, a database table is like a spreadsheet.</span></span> <span data-ttu-id="4d07d-129">Imagine um catálogo de endereços típico.</span><span class="sxs-lookup"><span data-stu-id="4d07d-129">Imagine a typical address book.</span></span> <span data-ttu-id="4d07d-130">Para cada entrada no catálogo de endereços (ou seja, para cada pessoa), você tem várias informações, como nome, sobrenome, endereço, endereço de email e número de telefone.</span><span class="sxs-lookup"><span data-stu-id="4d07d-130">For each entry in the address book (that is, for each person) you have several pieces of information such as first name, last name, address, email address, and phone number.</span></span>

![Exemplo de tabela de banco de dados como uma grade simples](displaying-data/_static/image2.png)

<span data-ttu-id="4d07d-132">(Às vezes, as linhas são chamadas de *registros*, e as colunas são, às vezes, chamadas de *campos*.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-132">(Rows are sometimes referred to as *records*, and columns are sometimes referred to as *fields*.)</span></span>

<span data-ttu-id="4d07d-133">Para a maioria das tabelas de banco de dados, a tabela deve ter uma coluna que contenha um valor exclusivo, como um número de cliente, um número de conta e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="4d07d-133">For most database tables, the table has to have a column that contains a unique value, like a customer number, account number, and so on.</span></span> <span data-ttu-id="4d07d-134">Esse valor é conhecido como a *chave primária*da tabela e você o usa para identificar cada linha na tabela.</span><span class="sxs-lookup"><span data-stu-id="4d07d-134">This value is known as the table's *primary key*, and you use it to identify each row in the table.</span></span> <span data-ttu-id="4d07d-135">No exemplo, a coluna ID é a chave primária para o catálogo de endereços mostrado no exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="4d07d-135">In the example, the ID column is the primary key for the address book shown in the previous example.</span></span>

<span data-ttu-id="4d07d-136">Grande parte do trabalho que você faz em aplicativos Web consiste em ler as informações do banco de dados e exibi-las em uma página.</span><span class="sxs-lookup"><span data-stu-id="4d07d-136">Much of the work you do in web applications consists of reading information out of the database and displaying it on a page.</span></span> <span data-ttu-id="4d07d-137">Geralmente, você também coletará informações de usuários e as adicionará a um banco de dados ou modificará os registros que já estão no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-137">You'll also often gather information from users and add it to a database, or you'll modify records that are already in the database.</span></span> <span data-ttu-id="4d07d-138">(Abordaremos todas essas operações no decorrer deste tutorial definido.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-138">(We'll cover all of these operations in the course of this tutorial set.)</span></span>

<span data-ttu-id="4d07d-139">O trabalho do banco de dados pode ser enormemente complexo e pode exigir conhecimento especializado.</span><span class="sxs-lookup"><span data-stu-id="4d07d-139">Database work can be enormously complex and can require specialized knowledge.</span></span> <span data-ttu-id="4d07d-140">Para este tutorial definido, no entanto, você precisa entender apenas os conceitos básicos, que serão todos explicados conforme o uso.</span><span class="sxs-lookup"><span data-stu-id="4d07d-140">For this tutorial set, though, you have to understand only basic concepts, which will all be explained as you go.</span></span>

## <a name="creating-a-database"></a><span data-ttu-id="4d07d-141">Criar um banco de dados</span><span class="sxs-lookup"><span data-stu-id="4d07d-141">Creating a Database</span></span>

<span data-ttu-id="4d07d-142">O WebMatrix inclui ferramentas que facilitam a criação de um banco de dados e a criação de tabelas no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-142">WebMatrix includes tools that make it easy to create a database and to create tables in the database.</span></span> <span data-ttu-id="4d07d-143">(A estrutura de um banco de dados é chamada de *esquema*do banco de dados.) Para este tutorial definido, você criará um banco de dados que tem apenas uma tabela em &mdash; filmes.</span><span class="sxs-lookup"><span data-stu-id="4d07d-143">(The structure of a database is referred to as the database's *schema*.) For this tutorial set, you'll create a database that has only one table in it &mdash; Movies.</span></span>

<span data-ttu-id="4d07d-144">Abra o WebMatrix se você ainda não tiver feito isso e abra o site do WebPagesMovies que você criou no tutorial anterior.</span><span class="sxs-lookup"><span data-stu-id="4d07d-144">Open WebMatrix if you haven't already done so, and open the WebPagesMovies site that you created in the previous tutorial.</span></span>

<span data-ttu-id="4d07d-145">No painel esquerdo, clique no espaço de trabalho **banco de dados** .</span><span class="sxs-lookup"><span data-stu-id="4d07d-145">In the left pane, click the **Database** workspace.</span></span>

![Guia espaço de trabalho do WebMatrix](displaying-data/_static/image3.png)

<span data-ttu-id="4d07d-147">A faixa de faixas muda para mostrar tarefas relacionadas ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-147">The ribbon changes to show database-related tasks.</span></span> <span data-ttu-id="4d07d-148">Na faixa de faixas, clique em **novo banco de dados**.</span><span class="sxs-lookup"><span data-stu-id="4d07d-148">In the ribbon, click **New Database**.</span></span>

![Botão "novo banco de dados" na faixa de Ribbon do WebMatrix](displaying-data/_static/image4.png)

<span data-ttu-id="4d07d-150">O WebMatrix cria um banco de dados SQL Server CE (um arquivo *. sdf* ) que tem o mesmo nome que o seu site &mdash; *WebPagesMovies. sdf*.</span><span class="sxs-lookup"><span data-stu-id="4d07d-150">WebMatrix creates a SQL Server CE database (an *.sdf* file) that has the same name as your site &mdash; *WebPagesMovies.sdf*.</span></span> <span data-ttu-id="4d07d-151">(Você não fará isso aqui, mas poderá renomear o arquivo para qualquer coisa que desejar, desde que tenha uma extensão *. sdf* ).</span><span class="sxs-lookup"><span data-stu-id="4d07d-151">(You won't do this here, but you can rename the file to anything you like, as long as it has an *.sdf* extension.)</span></span>

## <a name="creating-a-table"></a><span data-ttu-id="4d07d-152">Criando uma tabela</span><span class="sxs-lookup"><span data-stu-id="4d07d-152">Creating a Table</span></span>

<span data-ttu-id="4d07d-153">Na faixa de faixas, clique em **nova tabela**.</span><span class="sxs-lookup"><span data-stu-id="4d07d-153">In the ribbon, click **New Table**.</span></span> <span data-ttu-id="4d07d-154">O WebMatrix abre o designer de tabela em uma nova guia. (se a nova opção de tabela não estiver disponível, verifique se o novo banco de dados está selecionado no modo de exibição de árvore à esquerda.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-154">WebMatrix opens the table designer in a new tab. (If the New Table option isn't available, make sure that the new database is selected in the tree view on the left.)</span></span>

![Botão ' nova tabela ' na faixa de ' do WebMatrix](displaying-data/_static/image5.png)

<span data-ttu-id="4d07d-156">Na caixa de texto na parte superior (em que a marca d' água diz "inserir nome da tabela"), insira "filmes".</span><span class="sxs-lookup"><span data-stu-id="4d07d-156">In the text box at the top (where the watermark says "Enter table name"), enter "Movies".</span></span>

![Inserindo um nome de tabela no designer de banco de dados do WebMatrix](displaying-data/_static/image6.png)

<span data-ttu-id="4d07d-158">O painel sob o nome da tabela é onde você define colunas individuais.</span><span class="sxs-lookup"><span data-stu-id="4d07d-158">The pane underneath the table name is where you define individual columns.</span></span> <span data-ttu-id="4d07d-159">Para a tabela de *filmes* neste tutorial, você criará apenas algumas colunas: *ID*, *título*, *gênero*e *ano*.</span><span class="sxs-lookup"><span data-stu-id="4d07d-159">For the *Movies* table in this tutorial, you'll create only a few columns: *ID*, *Title*, *Genre*, and *Year*.</span></span>

<span data-ttu-id="4d07d-160">Na caixa **nome** , digite "ID".</span><span class="sxs-lookup"><span data-stu-id="4d07d-160">In the **Name** box, enter "ID".</span></span> <span data-ttu-id="4d07d-161">Inserir um valor aqui ativa todos os controles para a nova coluna.</span><span class="sxs-lookup"><span data-stu-id="4d07d-161">Entering a value here activates all the controls for the new column.</span></span>

<span data-ttu-id="4d07d-162">Na lista **tipo de dados** e escolha **int**. Esse valor especifica que a coluna de ID conterá dados inteiros (número).</span><span class="sxs-lookup"><span data-stu-id="4d07d-162">Tab to the **Data Type** list and choose **int**. This value specifies that the ID column will contain integer (number) data.</span></span>

> [!NOTE]
> <span data-ttu-id="4d07d-163">Não vamos chamá-lo mais aqui (muito), mas você pode usar gestos de teclado padrão do Windows para navegar nessa grade.</span><span class="sxs-lookup"><span data-stu-id="4d07d-163">We won't call it out any more here (much), but you can use standard Windows keyboard gestures to navigate in this grid.</span></span> <span data-ttu-id="4d07d-164">Por exemplo, você pode fazer uma Tabulação entre os campos, basta começar a digitar para selecionar um item em uma lista e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="4d07d-164">For example, you can tab between fields, you can just start typing in order to select an item in a list, and so on.</span></span>

<span data-ttu-id="4d07d-165">Na caixa **valor padrão** (ou seja, deixe em branco).</span><span class="sxs-lookup"><span data-stu-id="4d07d-165">Tab past the **Default Value** box (that is, leave it blank).</span></span> <span data-ttu-id="4d07d-166">Na caixa de seleção **é chave primária** e selecione-a.</span><span class="sxs-lookup"><span data-stu-id="4d07d-166">Tab to the **Is Primary Key** check box and select it.</span></span> <span data-ttu-id="4d07d-167">Essa opção informa ao banco de dados que a coluna de *ID* conterá o dado que identifica linhas individuais.</span><span class="sxs-lookup"><span data-stu-id="4d07d-167">This option tells the database that the *ID* column will contain the data that identifies individual rows.</span></span> <span data-ttu-id="4d07d-168">(Ou seja, cada linha terá um valor exclusivo na coluna de ID que você pode usar para localizar essa linha.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-168">(That is, each row will have a unique value in the ID column that you can use to find that row.)</span></span>

<span data-ttu-id="4d07d-169">Escolha a opção **is Identity** .</span><span class="sxs-lookup"><span data-stu-id="4d07d-169">Choose the **Is Identity** option.</span></span> <span data-ttu-id="4d07d-170">Essa opção informa ao banco de dados que ele deve gerar automaticamente o próximo número sequencial para cada nova linha.</span><span class="sxs-lookup"><span data-stu-id="4d07d-170">This option tells the database that it should automatically generate the next sequential number for each new row.</span></span> <span data-ttu-id="4d07d-171">(A opção **is Identity** só funcionará se você também tiver selecionado a opção **is Primary Key** .)</span><span class="sxs-lookup"><span data-stu-id="4d07d-171">(The **Is Identity** option works only if you've also selected the **Is Primary Key** option.)</span></span>

<span data-ttu-id="4d07d-172">Clique na próxima linha de grade ou pressione TAB duas vezes para concluir a linha atual.</span><span class="sxs-lookup"><span data-stu-id="4d07d-172">Click in the next grid row, or press Tab twice to finish the current row.</span></span> <span data-ttu-id="4d07d-173">Qualquer um dos gestos salva a linha atual e inicia a próxima.</span><span class="sxs-lookup"><span data-stu-id="4d07d-173">Either gesture saves the current row and starts the next one.</span></span> <span data-ttu-id="4d07d-174">Observe que a coluna **valor padrão** agora diz **NULL**.</span><span class="sxs-lookup"><span data-stu-id="4d07d-174">Notice that the **Default Value** column now says **Null**.</span></span> <span data-ttu-id="4d07d-175">(NULL é o valor padrão para o valor padrão, para falar.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-175">(Null is the default value for the default value, so to speak.)</span></span>

<span data-ttu-id="4d07d-176">Quando você terminar de definir a nova coluna de **ID** , o designer se parecerá com esta ilustração:</span><span class="sxs-lookup"><span data-stu-id="4d07d-176">When you've finished defining the new **ID** column, the designer will look like this illustration:</span></span>

![Designer de banco de dados do WebMatrix depois de definir a coluna de ID para a tabela de filmes](displaying-data/_static/image7.png)

<span data-ttu-id="4d07d-178">Para criar a próxima coluna, clique na caixa na coluna **nome** .</span><span class="sxs-lookup"><span data-stu-id="4d07d-178">To create the next column, click in the box in the **Name** column.</span></span> <span data-ttu-id="4d07d-179">Digite "title" para a coluna e, em seguida, selecione **nvarchar** para o valor do **tipo de dados** .</span><span class="sxs-lookup"><span data-stu-id="4d07d-179">Enter "Title" for the column and then select **nvarchar** for the **Data Type** value.</span></span> <span data-ttu-id="4d07d-180">A parte de "var" do **nvarchar** informa ao banco de dados que a data dessa coluna será uma cadeia de caracteres cujo tamanho pode variar de registro para registro.</span><span class="sxs-lookup"><span data-stu-id="4d07d-180">The "var" part of **nvarchar** tells the database that the data for this column will be a string whose size might vary from record to record.</span></span> <span data-ttu-id="4d07d-181">(O prefixo "n" representa "National", que indica que o campo pode conter dados de caracteres para qualquer alfabeto ou sistema de escrita — ou seja, o campo contém dados Unicode.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-181">(The "n" prefix represents "national," which indicates that the field can hold character data for any alphabet or writing system — that is, the field holds Unicode data.)</span></span>

<span data-ttu-id="4d07d-182">Quando você escolhe **nvarchar**, outra caixa é exibida, onde você pode inserir o comprimento máximo para o campo.</span><span class="sxs-lookup"><span data-stu-id="4d07d-182">When you choose **nvarchar**, another box appears where you can enter the maximum length for the field.</span></span> <span data-ttu-id="4d07d-183">Insira 50, supondo que nenhum título de filme com o qual você trabalhará neste tutorial terá mais de 50 caracteres.</span><span class="sxs-lookup"><span data-stu-id="4d07d-183">Enter 50, on the assumption that no movie title that you'll work with in this tutorial will be longer than 50 characters.</span></span>

<span data-ttu-id="4d07d-184">Ignore o **valor padrão** e desmarque a opção **permitir nulos** .</span><span class="sxs-lookup"><span data-stu-id="4d07d-184">Skip **Default Value** and clear the **Allow Nulls** option.</span></span> <span data-ttu-id="4d07d-185">Você não quer que o banco de dados permita que nenhum filme seja inserido no banco de dados que não tenha um título.</span><span class="sxs-lookup"><span data-stu-id="4d07d-185">You don't want the database to allow any movies to be entered into the database that don't have a title.</span></span>

<span data-ttu-id="4d07d-186">Quando terminar e passar para a próxima linha, o designer será semelhante a esta ilustração:</span><span class="sxs-lookup"><span data-stu-id="4d07d-186">When you're done and move to the next row, the designer looks like this illustration:</span></span>

![Designer de banco de dados do WebMatrix depois de definir a coluna de título para a tabela de filmes](displaying-data/_static/image8.png)

<span data-ttu-id="4d07d-188">Repita essas etapas para criar uma coluna denominada "gênero", exceto para o comprimento, defina-a como apenas 30.</span><span class="sxs-lookup"><span data-stu-id="4d07d-188">Repeat these steps to create a column named "Genre", except for the length, set it to just 30.</span></span>

<span data-ttu-id="4d07d-189">Crie outra coluna chamada "Year".</span><span class="sxs-lookup"><span data-stu-id="4d07d-189">Create another column named "Year."</span></span> <span data-ttu-id="4d07d-190">Para o tipo de dados, escolha **nchar** (não **nvarchar**) e defina o comprimento como 4.</span><span class="sxs-lookup"><span data-stu-id="4d07d-190">For the data type, choose **nchar** (not **nvarchar**) and set the length to 4.</span></span> <span data-ttu-id="4d07d-191">Para o ano, você usará um número de 4 dígitos, como "1995" ou "2010", para não precisar de uma coluna de tamanho variável.</span><span class="sxs-lookup"><span data-stu-id="4d07d-191">For the year, you're going to use a 4-digit number like "1995" or "2010", so you don't require a variable-sized column.</span></span>

<span data-ttu-id="4d07d-192">Esta é a aparência do design concluído:</span><span class="sxs-lookup"><span data-stu-id="4d07d-192">Here's what the finished design looks like:</span></span>

![Designer de banco de dados do WebMatrix após a definição de todos os campos para a tabela de filmes](displaying-data/_static/image9.png)

<span data-ttu-id="4d07d-194">Pressione Ctrl + S ou clique no botão **salvar** na barra de ferramentas de acesso rápido.</span><span class="sxs-lookup"><span data-stu-id="4d07d-194">Press Ctrl+S or click the **Save** button in the Quick Access toolbar.</span></span> <span data-ttu-id="4d07d-195">Feche o designer de banco de dados fechando a guia.</span><span class="sxs-lookup"><span data-stu-id="4d07d-195">Close the database designer by closing the tab.</span></span>

## <a name="adding-some-example-data"></a><span data-ttu-id="4d07d-196">Adicionando alguns dados de exemplo</span><span class="sxs-lookup"><span data-stu-id="4d07d-196">Adding Some Example Data</span></span>

<span data-ttu-id="4d07d-197">Posteriormente nesta série de tutoriais, você criará uma página na qual poderá inserir novos filmes em um formulário.</span><span class="sxs-lookup"><span data-stu-id="4d07d-197">Later in this tutorial series you'll create a page where you can enter new movies in a form.</span></span> <span data-ttu-id="4d07d-198">Por enquanto, no entanto, você pode adicionar alguns dados de exemplo que você pode exibir em uma página.</span><span class="sxs-lookup"><span data-stu-id="4d07d-198">For now, however, you can add some example data that you can then display on a page.</span></span>

<span data-ttu-id="4d07d-199">No espaço de trabalho **banco de dados** no WebMatrix, observe que há uma árvore que mostra o arquivo *. sdf* criado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="4d07d-199">In the **Database** workspace in WebMatrix, notice that there's a tree that shows you the *.sdf* file you created earlier.</span></span> <span data-ttu-id="4d07d-200">Abra o nó para o novo arquivo *. sdf* e, em seguida, abra o nó **tabelas** .</span><span class="sxs-lookup"><span data-stu-id="4d07d-200">Open the node for your new *.sdf* file, and then open the **Tables** node.</span></span>

![Espaço de trabalho de banco de dados do WebMatrix com árvore aberta para tabela de filmes](displaying-data/_static/image10.png)

<span data-ttu-id="4d07d-202">Clique com o botão direito do mouse no nó **filmes** e escolha **dados**.</span><span class="sxs-lookup"><span data-stu-id="4d07d-202">Right-click the **Movies** node and then choose **Data**.</span></span> <span data-ttu-id="4d07d-203">O WebMatrix abre uma grade na qual você pode inserir dados para a tabela de *filmes* :</span><span class="sxs-lookup"><span data-stu-id="4d07d-203">WebMatrix opens a grid where you can enter data for the *Movies* table:</span></span>

![Grade de entrada de banco de dados no WebMatrix (vazia)](displaying-data/_static/image11.png)

<span data-ttu-id="4d07d-205">Clique na coluna **título** e insira "quando Jaime atendeu a Sally".</span><span class="sxs-lookup"><span data-stu-id="4d07d-205">Click the **Title** column and enter "When Harry Met Sally".</span></span> <span data-ttu-id="4d07d-206">Mova para a coluna **gênero** (você pode usar a tecla Tab) e digite "romântico comédia".</span><span class="sxs-lookup"><span data-stu-id="4d07d-206">Move to the **Genre** column (you can use the Tab key) and enter "Romantic Comedy".</span></span> <span data-ttu-id="4d07d-207">Mova para a coluna **year** e insira "1989":</span><span class="sxs-lookup"><span data-stu-id="4d07d-207">Move to the **Year** column and enter "1989":</span></span>

![Grade de entrada de banco de dados no WebMatrix com um registro](displaying-data/_static/image12.png)

<span data-ttu-id="4d07d-209">Pressione Enter e o WebMatrix salvará o novo filme.</span><span class="sxs-lookup"><span data-stu-id="4d07d-209">Press Enter, and WebMatrix saves the new movie.</span></span> <span data-ttu-id="4d07d-210">Observe que a coluna **ID** foi preenchida.</span><span class="sxs-lookup"><span data-stu-id="4d07d-210">Notice that the **ID** column has been filled in.</span></span>

![Grade de entrada de banco de dados no WebMatrix com um registro e uma ID gerada automaticamente](displaying-data/_static/image13.png)

<span data-ttu-id="4d07d-212">Insira outro filme (por exemplo, "desaparecido com o vento", "inativo", "1939").</span><span class="sxs-lookup"><span data-stu-id="4d07d-212">Enter another movie (for example, "Gone with the Wind", "Drama", "1939").</span></span> <span data-ttu-id="4d07d-213">A coluna ID é preenchida novamente:</span><span class="sxs-lookup"><span data-stu-id="4d07d-213">The ID column is filled in again:</span></span>

![Grade de entrada de banco de dados no WebMatrix com dois registros e IDs geradas automaticamente](displaying-data/_static/image14.png)

<span data-ttu-id="4d07d-215">Insira um terceiro filme (por exemplo, "Ghostbusters", "comédia").</span><span class="sxs-lookup"><span data-stu-id="4d07d-215">Enter a third movie (for example, "Ghostbusters", "Comedy").</span></span> <span data-ttu-id="4d07d-216">Como um experimento, deixe a coluna **year** em branco e pressione Enter.</span><span class="sxs-lookup"><span data-stu-id="4d07d-216">As an experiment, leave the **Year** column blank and then press Enter.</span></span> <span data-ttu-id="4d07d-217">Como você desselecionou a opção **permitir nulos** , o banco de dados mostra um erro:</span><span class="sxs-lookup"><span data-stu-id="4d07d-217">Because you unselected the **Allow Nulls** option, the database shows an error:</span></span>

![Erro de ' dados inválidos ' exibido se um valor de coluna necessário for deixado em branco](displaying-data/_static/image15.png)

<span data-ttu-id="4d07d-219">Clique em **OK** para voltar e corrigir a entrada (o ano de "Ghostbusters" é 1984) e pressione Enter.</span><span class="sxs-lookup"><span data-stu-id="4d07d-219">Click **OK** to go back and fix the entry (the year for "Ghostbusters" is 1984), and then press Enter.</span></span>

<span data-ttu-id="4d07d-220">Preencha vários filmes até que você tenha 8.</span><span class="sxs-lookup"><span data-stu-id="4d07d-220">Fill in several movies until you have 8 or so.</span></span> <span data-ttu-id="4d07d-221">(Inserir 8 torna mais fácil trabalhar com a paginação mais tarde.</span><span class="sxs-lookup"><span data-stu-id="4d07d-221">(Entering 8 makes it easier to work with paging later.</span></span> <span data-ttu-id="4d07d-222">Mas se isso for muito grande, insira apenas alguns por enquanto.) Os dados reais não são importantes.</span><span class="sxs-lookup"><span data-stu-id="4d07d-222">But if that's too many, enter just a few for now.) The actual data doesn't matter.</span></span>

![Grade de entrada de banco de dados no WebMatrix com registros](displaying-data/_static/image16.png)

<span data-ttu-id="4d07d-224">Se você inseriu todos os filmes sem erros, os valores de ID são sequenciais.</span><span class="sxs-lookup"><span data-stu-id="4d07d-224">If you entered all the movies without any errors, the ID values are sequential.</span></span> <span data-ttu-id="4d07d-225">Se você tentou salvar um registro de filme incompleto, os números de ID podem não ser sequenciais.</span><span class="sxs-lookup"><span data-stu-id="4d07d-225">If you tried to save an incomplete movie record, the ID numbers might not be sequential.</span></span> <span data-ttu-id="4d07d-226">Nesse caso, tudo bem.</span><span class="sxs-lookup"><span data-stu-id="4d07d-226">If so, that's okay.</span></span> <span data-ttu-id="4d07d-227">Os números não têm nenhum significado inerente, e a única coisa importante é que eles são exclusivos na tabela de *filmes* .</span><span class="sxs-lookup"><span data-stu-id="4d07d-227">The numbers don't have any inherent meaning, and the only thing that's important is that they're unique in the *Movies* table.</span></span>

<span data-ttu-id="4d07d-228">Feche a guia que contém o designer de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-228">Close the tab that contains the database designer.</span></span>

<span data-ttu-id="4d07d-229">Agora você pode ativar a exibição desses dados em uma página da Web.</span><span class="sxs-lookup"><span data-stu-id="4d07d-229">Now you can turn to displaying this data on a web page.</span></span>

## <a name="displaying-data-in-a-page-by-using-the-webgrid-helper"></a><span data-ttu-id="4d07d-230">Exibindo dados em uma página usando o auxiliar do WebGrid</span><span class="sxs-lookup"><span data-stu-id="4d07d-230">Displaying Data in a Page by Using the WebGrid Helper</span></span>

<span data-ttu-id="4d07d-231">Para exibir dados em uma página, você vai usar o auxiliar de `WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-231">To display data in a page, you're going to use the `WebGrid` helper.</span></span> <span data-ttu-id="4d07d-232">Esse auxiliar produz uma exibição em uma grade ou tabela (linhas e colunas).</span><span class="sxs-lookup"><span data-stu-id="4d07d-232">This helper produces a display in a grid or table (rows and columns).</span></span> <span data-ttu-id="4d07d-233">Como você verá, você poderá refinar a grade com formatação e outros recursos.</span><span class="sxs-lookup"><span data-stu-id="4d07d-233">As you'll see, you'll be able refine the grid with formatting and other features.</span></span>

<span data-ttu-id="4d07d-234">Para executar a grade, você precisará escrever algumas linhas de código.</span><span class="sxs-lookup"><span data-stu-id="4d07d-234">To run the grid, you'll have to write a few lines of code.</span></span> <span data-ttu-id="4d07d-235">Essas poucas linhas servirão como um tipo de padrão para quase todo o acesso a dados que você fizer neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="4d07d-235">These few lines will serve as a kind of pattern for almost all of the data access that you do in this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="4d07d-236">Você realmente tem muitas opções para exibir dados em uma página; o auxiliar de `WebGrid` é apenas um.</span><span class="sxs-lookup"><span data-stu-id="4d07d-236">You actually have many options for displaying data on a page; the `WebGrid` helper is just one.</span></span> <span data-ttu-id="4d07d-237">Escolhemos isso para este tutorial porque é a maneira mais fácil de exibir dados e porque é razoavelmente flexível.</span><span class="sxs-lookup"><span data-stu-id="4d07d-237">We chose it for this tutorial because it's the easiest way to display data and because it's reasonably flexible.</span></span> <span data-ttu-id="4d07d-238">No próximo conjunto de tutorial, você verá como usar uma maneira mais "manual" para trabalhar com dados na página, o que lhe dá um controle mais direto sobre como exibir os dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-238">In the next tutorial set, you'll see how to use a more "manual" way to work with data in the page, which gives you more direct control over how to display the data.</span></span>

<span data-ttu-id="4d07d-239">No painel esquerdo no WebMatrix, clique no espaço de trabalho **arquivos** .</span><span class="sxs-lookup"><span data-stu-id="4d07d-239">In the left pane in WebMatrix, click the **Files** workspace.</span></span>

<span data-ttu-id="4d07d-240">O novo banco de dados que você criou está na pasta *Data\_app* .</span><span class="sxs-lookup"><span data-stu-id="4d07d-240">The new database you created is in the *App\_Data* folder.</span></span> <span data-ttu-id="4d07d-241">Se a pasta ainda não existir, o WebMatrix a criou para o novo banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-241">If the folder didn't already exist, WebMatrix created it for your new database.</span></span> <span data-ttu-id="4d07d-242">(A pasta pode ter existido se você instalou os auxiliares anteriormente.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-242">(The folder might have existed if you'd previously installed helpers.)</span></span>

<span data-ttu-id="4d07d-243">No modo de exibição de árvore, selecione a raiz do site.</span><span class="sxs-lookup"><span data-stu-id="4d07d-243">In the tree view, select the root of the website.</span></span> <span data-ttu-id="4d07d-244">Você deve selecionar a raiz do site; caso contrário, o novo arquivo pode ser adicionado à pasta de dados do\_de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4d07d-244">You must select the root of the website; otherwise, the new file might be added to the App\_Data folder.</span></span>

<span data-ttu-id="4d07d-245">Na faixa de faixas, clique em **novo**.</span><span class="sxs-lookup"><span data-stu-id="4d07d-245">In the ribbon, click **New**.</span></span> <span data-ttu-id="4d07d-246">Na caixa **escolher um tipo de arquivo** , escolha **cshtml**.</span><span class="sxs-lookup"><span data-stu-id="4d07d-246">In the **Choose a File Type** box, choose **CSHTML**.</span></span>

<span data-ttu-id="4d07d-247">Na caixa **nome** , nomeie a nova página "Movies. cshtml":</span><span class="sxs-lookup"><span data-stu-id="4d07d-247">In the **Name** box, name the new page "Movies.cshtml":</span></span>

![Caixa de diálogo ' escolher um tipo de arquivo ' mostrando a página ' filmes '](displaying-data/_static/image17.png)

<span data-ttu-id="4d07d-249">Clique no botão **OK**.</span><span class="sxs-lookup"><span data-stu-id="4d07d-249">Click the **OK** button.</span></span> <span data-ttu-id="4d07d-250">O WebMatrix abre um novo arquivo com alguns elementos de esqueleto nele.</span><span class="sxs-lookup"><span data-stu-id="4d07d-250">WebMatrix opens a new file with some skeleton elements in it.</span></span> <span data-ttu-id="4d07d-251">Primeiro, você escreverá um código para obter os dados do banco de dado.</span><span class="sxs-lookup"><span data-stu-id="4d07d-251">First you'll write some code to go get the data from the database.</span></span> <span data-ttu-id="4d07d-252">Em seguida, você adicionará marcação à página para realmente exibir os dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-252">Then you'll add markup to the page to actually display the data.</span></span>

### <a name="writing-the-data-query-code"></a><span data-ttu-id="4d07d-253">Gravando o código de consulta de dados</span><span class="sxs-lookup"><span data-stu-id="4d07d-253">Writing the Data Query Code</span></span>

<span data-ttu-id="4d07d-254">Na parte superior da página, entre os caracteres `@{` e `}`, insira o código a seguir.</span><span class="sxs-lookup"><span data-stu-id="4d07d-254">At the top of the page, between the `@{` and `}` characters, enter the following code.</span></span> <span data-ttu-id="4d07d-255">(Certifique-se de inserir esse código entre as chaves de abertura e fechamento.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-255">(Make sure that you enter this code between the opening and closing braces.)</span></span>

[!code-csharp[Main](displaying-data/samples/sample1.cs)]

<span data-ttu-id="4d07d-256">A primeira linha abre o banco de dados que você criou anteriormente, que é sempre a primeira etapa antes de fazer algo com o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-256">The first line opens the database that you created earlier, which is always the first step before doing something with the database.</span></span> <span data-ttu-id="4d07d-257">Você informa ao nome do método de `Database.Open` do banco de dados a ser aberto.</span><span class="sxs-lookup"><span data-stu-id="4d07d-257">You tell the `Database.Open` method name of the database to open.</span></span> <span data-ttu-id="4d07d-258">Observe que você não inclui o *. sdf* no nome.</span><span class="sxs-lookup"><span data-stu-id="4d07d-258">Notice that you don't include *.sdf* in the name.</span></span> <span data-ttu-id="4d07d-259">O método `Open` pressupõe que ele está procurando um arquivo *. sdf* (ou seja, *WebPagesMovies. sdf*) e que o arquivo *. sdf* está na pasta de *dados do aplicativo\_* .</span><span class="sxs-lookup"><span data-stu-id="4d07d-259">The `Open` method assumes that it's looking for an *.sdf* file (that is, *WebPagesMovies.sdf*) and that the *.sdf* file is in the *App\_Data* folder.</span></span> <span data-ttu-id="4d07d-260">(Anteriormente, observamos que a pasta de *dados de\_de aplicativo* está reservada; esse cenário é um dos lugares onde ASP.net faz suposições sobre esse nome.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-260">(Earlier we noted that the *App\_Data* folder is reserved; this scenario is one of the places where ASP.NET makes assumptions about that name.)</span></span>

<span data-ttu-id="4d07d-261">Quando o banco de dados é aberto, uma referência a ele é colocada na variável chamada `db`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-261">When the database is opened, a reference to it is put into the variable named `db`.</span></span> <span data-ttu-id="4d07d-262">(Que pode ser nomeado como qualquer coisa.) A variável `db` é como você acabará interagindo com o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-262">(Which could be named anything.) The `db` variable is how you'll end up interacting with the database.</span></span>

<span data-ttu-id="4d07d-263">A segunda linha, na verdade, busca os dados do banco usando o método `Query`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-263">The second line actually fetches the database data by using the `Query` method.</span></span> <span data-ttu-id="4d07d-264">Observe como esse código funciona: a variável `db` tem uma referência ao banco de dados aberto e você invoca o método `Query` usando a variável `db` (`db.Query`).</span><span class="sxs-lookup"><span data-stu-id="4d07d-264">Notice how this code works: the `db` variable has a reference to the opened database, and you invoke the `Query` method by using the `db` variable (`db.Query`).</span></span>

<span data-ttu-id="4d07d-265">A própria consulta é uma instrução SQL `Select`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-265">The query itself is a SQL `Select` statement.</span></span> <span data-ttu-id="4d07d-266">(Para obter uma pequena experiência sobre o SQL, consulte a explicação mais tarde.) Na instrução, `Movies` identifica a tabela a ser consultada.</span><span class="sxs-lookup"><span data-stu-id="4d07d-266">(For a little background about SQL, see the explanation later.) In the statement, `Movies` identifies the table to query.</span></span> <span data-ttu-id="4d07d-267">O caractere `*` especifica que a consulta deve retornar todas as colunas da tabela.</span><span class="sxs-lookup"><span data-stu-id="4d07d-267">The `*` character specifies that the query should return all the columns from the table.</span></span> <span data-ttu-id="4d07d-268">(Você também pode listar colunas individualmente, separadas por vírgulas.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-268">(You could also list columns individually, separated by commas.)</span></span>

<span data-ttu-id="4d07d-269">Os resultados da consulta, se houver, são retornados e disponibilizados na variável `selectedData`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-269">The results of the query, if any, are returned and made available in the `selectedData` variable.</span></span> <span data-ttu-id="4d07d-270">Novamente, a variável pode ser nomeada como qualquer coisa.</span><span class="sxs-lookup"><span data-stu-id="4d07d-270">Again, the variable could be named anything.</span></span>

<span data-ttu-id="4d07d-271">Por fim, a terceira linha informa ASP.NET que você deseja usar uma instância do auxiliar de `WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-271">Finally, the third line tells ASP.NET that you want to use an instance of the `WebGrid` helper.</span></span> <span data-ttu-id="4d07d-272">Você cria (*instancia*) o objeto auxiliar usando a palavra-chave `new` e passa os resultados da consulta por meio da variável `selectedData`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-272">You create (*instantiate*) the helper object by using the `new` keyword and pass it the query results via the `selectedData` variable.</span></span> <span data-ttu-id="4d07d-273">O novo objeto `WebGrid`, junto com os resultados da consulta de banco de dados, são disponibilizados na variável `grid`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-273">The new `WebGrid` object, along with the results of the database query, are made available in the `grid` variable.</span></span> <span data-ttu-id="4d07d-274">Você precisará desse resultado em alguns instantes para exibir os dados na página.</span><span class="sxs-lookup"><span data-stu-id="4d07d-274">You'll need that result in a moment to actually display the data in the page.</span></span>

<span data-ttu-id="4d07d-275">Neste estágio, o banco de dados foi aberto, você obteve os dados desejados e preparou o auxiliar de `WebGrid` com esses dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-275">At this stage, the database has been opened, you've gotten the data you want, and you've prepared the `WebGrid` helper with that data.</span></span> <span data-ttu-id="4d07d-276">A seguir, é criar a marcação na página.</span><span class="sxs-lookup"><span data-stu-id="4d07d-276">Next is to create the markup in the page.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="4d07d-277">**SQL (Structured Query Language)**</span><span class="sxs-lookup"><span data-stu-id="4d07d-277">**Structured Query Language (SQL)**</span></span>
> 
> <span data-ttu-id="4d07d-278">O SQL é uma linguagem que é usada na maioria dos bancos de dados relacionais para o gerenciamento em um banco de dado.</span><span class="sxs-lookup"><span data-stu-id="4d07d-278">SQL is a language that's used in most relational databases for managing data in a database.</span></span> <span data-ttu-id="4d07d-279">Ele inclui comandos que permitem recuperar dados e atualizá-los, e isso permite criar, modificar e gerenciar dados em tabelas de banco de dado.</span><span class="sxs-lookup"><span data-stu-id="4d07d-279">It includes commands that let you retrieve data and update it, and that let you create, modify, and manage data in database tables.</span></span> <span data-ttu-id="4d07d-280">O SQL é diferente de uma linguagem de programação C#(como).</span><span class="sxs-lookup"><span data-stu-id="4d07d-280">SQL is different than a programming language (like C#).</span></span> <span data-ttu-id="4d07d-281">Com o SQL, você informa ao banco de dados o que deseja, e é o trabalho do banco de dado para descobrir como obter ou executar a tarefa.</span><span class="sxs-lookup"><span data-stu-id="4d07d-281">With SQL, you tell the database what you want, and it's the database's job to figure out how to get the data or perform the task.</span></span> <span data-ttu-id="4d07d-282">Aqui estão exemplos de alguns comandos SQL e o que eles fazem:</span><span class="sxs-lookup"><span data-stu-id="4d07d-282">Here are examples of some SQL commands and what they do:</span></span>
> 
> `Select * From Movies`
> 
> `SELECT ID, Name, Price FROM Product WHERE Price > 10.00 ORDER BY Name`
> 
> <span data-ttu-id="4d07d-283">A primeira instrução `Select` obtém todas as colunas (especificadas por `*`) da tabela de *filmes* .</span><span class="sxs-lookup"><span data-stu-id="4d07d-283">The first `Select` statement gets all the columns (specified by `*`) from the *Movies* table.</span></span>
> 
> <span data-ttu-id="4d07d-284">A segunda instrução `Select` busca a ID, o nome e as colunas de preço dos registros na tabela de *produtos* cujo valor da coluna de preço é maior que 10.</span><span class="sxs-lookup"><span data-stu-id="4d07d-284">The second `Select` statement fetches the ID, Name, and Price columns from records in the *Product* table whose Price column value is more than 10.</span></span> <span data-ttu-id="4d07d-285">O comando retorna os resultados em ordem alfabética com base nos valores da coluna Name.</span><span class="sxs-lookup"><span data-stu-id="4d07d-285">The command returns the results in alphabetical order based on the values of the Name column.</span></span> <span data-ttu-id="4d07d-286">Se nenhum registro corresponder aos critérios de preço, o comando retornará um conjunto vazio.</span><span class="sxs-lookup"><span data-stu-id="4d07d-286">If no records match the price criteria, the command returns an empty set.</span></span>
> 
> `INSERT INTO Product (Name, Description, Price) VALUES ('Croissant', 'A flaky delight', 1.99)`
> 
> <span data-ttu-id="4d07d-287">Esse comando insere um novo registro na tabela *Product* , definindo a coluna Name como "croissant", a coluna Description como "a instável fascinam" e o preço como 1,99.</span><span class="sxs-lookup"><span data-stu-id="4d07d-287">This command inserts a new record into the *Product* table, setting the Name column to "Croissant", the Description column to "A flaky delight", and the price to 1.99.</span></span>
> 
> <span data-ttu-id="4d07d-288">Observe que quando você está especificando um valor não numérico, o valor é colocado entre aspas simples (não aspas duplas, como em C#).</span><span class="sxs-lookup"><span data-stu-id="4d07d-288">Notice that when you're specifying a non-numeric value, the value is enclosed in single quotation marks (not double quotation marks, as in C#).</span></span> <span data-ttu-id="4d07d-289">Você usa essas aspas ao contrário de valores de texto ou de data, mas não de números.</span><span class="sxs-lookup"><span data-stu-id="4d07d-289">You use these quotation marks around text or date values, but not around numbers.</span></span>
> 
> `DELETE FROM Product WHERE ExpirationDate < '01/01/2008'`
> 
> <span data-ttu-id="4d07d-290">Este comando exclui os registros na tabela *Product* cuja coluna data de expiração é anterior a 1º de janeiro de 2008.</span><span class="sxs-lookup"><span data-stu-id="4d07d-290">This command deletes records in the *Product* table whose expiration date column is earlier than January 1, 2008.</span></span> <span data-ttu-id="4d07d-291">(O comando pressupõe que a tabela de *produtos* tem uma coluna como essa, é claro). A data é inserida aqui no formato MM/DD/AAAA, mas deve ser inserida no formato usado para sua localidade.</span><span class="sxs-lookup"><span data-stu-id="4d07d-291">(The command assumes that the *Product* table has such a column, of course.) The date is entered here in MM/DD/YYYY format, but it should be entered in the format that's used for your locale.</span></span>
> 
> <span data-ttu-id="4d07d-292">Os comandos `Insert` e `Delete` não retornam conjuntos de resultados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-292">The `Insert` and `Delete` commands don't return result sets.</span></span> <span data-ttu-id="4d07d-293">Em vez disso, eles retornam um número que informa quantos registros foram afetados pelo comando.</span><span class="sxs-lookup"><span data-stu-id="4d07d-293">Instead, they return a number that tells you how many records were affected by the command.</span></span>
> 
> <span data-ttu-id="4d07d-294">Para algumas dessas operações (como inserção e exclusão de registros), o processo que está solicitando a operação deve ter as permissões apropriadas no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-294">For some of these operations (like inserting and deleting records), the process that's requesting the operation has to have appropriate permissions in the database.</span></span> <span data-ttu-id="4d07d-295">É por isso que, para bancos de dados de produção, você geralmente precisa fornecer um nome de usuário e uma senha ao se conectar ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-295">That's why for production databases you often have to supply a user name and password when you connect to the database.</span></span>
> 
> <span data-ttu-id="4d07d-296">Há dezenas de comandos SQL, mas todos seguem um padrão como os comandos que você vê aqui.</span><span class="sxs-lookup"><span data-stu-id="4d07d-296">There are dozens of SQL commands, but they all follow a pattern like the commands you see here.</span></span> <span data-ttu-id="4d07d-297">Você pode usar comandos SQL para criar tabelas de banco de dados, contar o número de registros em uma tabela, calcular preços e executar muitas outras operações.</span><span class="sxs-lookup"><span data-stu-id="4d07d-297">You can use SQL commands to create database tables, count the number of records in a table, calculate prices, and perform many more operations.</span></span>

### <a name="adding-markup-to-display-the-data"></a><span data-ttu-id="4d07d-298">Adicionando marcação para exibir os dados</span><span class="sxs-lookup"><span data-stu-id="4d07d-298">Adding Markup to Display the Data</span></span>

<span data-ttu-id="4d07d-299">Dentro do elemento `<head>`, defina o conteúdo do elemento `<title>` como "filmes":</span><span class="sxs-lookup"><span data-stu-id="4d07d-299">Inside the `<head>` element, set contents of the `<title>` element to "Movies":</span></span>

[!code-html[Main](displaying-data/samples/sample2.html?highlight=3)]

<span data-ttu-id="4d07d-300">Dentro do elemento `<body>` da página, adicione o seguinte:</span><span class="sxs-lookup"><span data-stu-id="4d07d-300">Inside the `<body>` element of the page, add the following:</span></span>

[!code-html[Main](displaying-data/samples/sample3.html)]

<span data-ttu-id="4d07d-301">É isso.</span><span class="sxs-lookup"><span data-stu-id="4d07d-301">That's it.</span></span> <span data-ttu-id="4d07d-302">A variável `grid` é o valor que você criou quando criou o objeto `WebGrid` no código anterior.</span><span class="sxs-lookup"><span data-stu-id="4d07d-302">The `grid` variable is the value you created when you created the `WebGrid` object in code earlier.</span></span>

<span data-ttu-id="4d07d-303">No modo de exibição de árvore do WebMatrix, clique com o botão direito do mouse na página e selecione **Iniciar no navegador**.</span><span class="sxs-lookup"><span data-stu-id="4d07d-303">In the WebMatrix tree view, right-click the page and select **Launch in browser**.</span></span> <span data-ttu-id="4d07d-304">Você verá algo semelhante a esta página:</span><span class="sxs-lookup"><span data-stu-id="4d07d-304">You'll see something like this page:</span></span>

![Saída do auxiliar do WebGrid padrão da tabela de filmes](displaying-data/_static/image18.png)

<span data-ttu-id="4d07d-306">Clique em um link de título de coluna para classificar por essa coluna.</span><span class="sxs-lookup"><span data-stu-id="4d07d-306">Click a column heading link to sort by that column.</span></span> <span data-ttu-id="4d07d-307">Ser capaz de classificar clicando em um título é um recurso interno do auxiliar do **WebGrid** .</span><span class="sxs-lookup"><span data-stu-id="4d07d-307">Being able to sort by clicking a heading is a feature that's built into the **WebGrid** helper.</span></span>

<span data-ttu-id="4d07d-308">O método `GetHtml`, como seu nome sugere, gera marcação que exibe os dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-308">The `GetHtml` method, as its name suggests, generates markup that displays the data.</span></span> <span data-ttu-id="4d07d-309">Por padrão, o método `GetHtml` gera um elemento HTML `<table>`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-309">By default, the `GetHtml` method generates an HTML `<table>` element.</span></span> <span data-ttu-id="4d07d-310">(Se desejar, você pode verificar a renderização examinando a origem da página no navegador.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-310">(If you want, you can verify the rendering by looking at the source of the page in the browser.)</span></span>

## <a name="modifying-the-look-of-the-grid"></a><span data-ttu-id="4d07d-311">Modificando a aparência da grade</span><span class="sxs-lookup"><span data-stu-id="4d07d-311">Modifying the Look of the Grid</span></span>

<span data-ttu-id="4d07d-312">Usar o `WebGrid` auxiliar como você acabou de ser feito é fácil, mas a exibição resultante é simples.</span><span class="sxs-lookup"><span data-stu-id="4d07d-312">Using the `WebGrid` helper like you just did is easy, but the resulting display is plain.</span></span> <span data-ttu-id="4d07d-313">O auxiliar de `WebGrid` tem todos os tipos de opções que permitem controlar como os dados são exibidos.</span><span class="sxs-lookup"><span data-stu-id="4d07d-313">The `WebGrid` helper has all sorts of options that let you control how the data is displayed.</span></span> <span data-ttu-id="4d07d-314">Há muito o que explorar neste tutorial, mas esta seção lhe dará uma ideia de algumas dessas opções.</span><span class="sxs-lookup"><span data-stu-id="4d07d-314">There are far too many to explore in this tutorial, but this section will give you an idea of some of those options.</span></span> <span data-ttu-id="4d07d-315">Algumas opções adicionais serão abordadas nos tutoriais posteriores desta série.</span><span class="sxs-lookup"><span data-stu-id="4d07d-315">A few additional options will be covered in later tutorials in this series.</span></span>

### <a name="specifying-individual-columns-to-display"></a><span data-ttu-id="4d07d-316">Especificando colunas individuais para exibição</span><span class="sxs-lookup"><span data-stu-id="4d07d-316">Specifying Individual Columns to Display</span></span>

<span data-ttu-id="4d07d-317">Para começar, você pode especificar que deseja exibir apenas determinadas colunas.</span><span class="sxs-lookup"><span data-stu-id="4d07d-317">To start, you can specify that you want to display only certain columns.</span></span> <span data-ttu-id="4d07d-318">Por padrão, como você viu, a grade mostra todas as quatro colunas da tabela de *filmes* .</span><span class="sxs-lookup"><span data-stu-id="4d07d-318">By default, as you've seen, the grid shows all four of the columns from the *Movies* table.</span></span>

<span data-ttu-id="4d07d-319">No arquivo *Movies. cshtml* , substitua a marcação `@grid.GetHtml()` que você acabou de adicionar com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="4d07d-319">In the *Movies.cshtml* file, replace the `@grid.GetHtml()` markup that you just added with the following:</span></span>

[!code-css[Main](displaying-data/samples/sample4.css)]

<span data-ttu-id="4d07d-320">Para informar ao auxiliar quais colunas exibir, você inclui um parâmetro `columns` para o método `GetHtml` e passa uma coleção de colunas.</span><span class="sxs-lookup"><span data-stu-id="4d07d-320">To tell the helper which columns to display, you include a `columns` parameter for the `GetHtml` method and pass in a collection of columns.</span></span> <span data-ttu-id="4d07d-321">Na coleção, você especifica cada coluna a ser incluída.</span><span class="sxs-lookup"><span data-stu-id="4d07d-321">In the collection, you specify each column to include.</span></span> <span data-ttu-id="4d07d-322">Você especifica uma coluna individual a ser exibida, incluindo um objeto `grid.Column` e passa o nome da coluna de dados desejada.</span><span class="sxs-lookup"><span data-stu-id="4d07d-322">You specify an individual column to display by including a `grid.Column` object, and pass in the name of the data column you want.</span></span> <span data-ttu-id="4d07d-323">(Essas colunas devem ser incluídas nos resultados da consulta SQL — o auxiliar de `WebGrid` não pode exibir colunas que não foram retornadas pela consulta.)</span><span class="sxs-lookup"><span data-stu-id="4d07d-323">(These columns must be included in the SQL query results — the `WebGrid` helper cannot display columns that were not returned by the query.)</span></span>

<span data-ttu-id="4d07d-324">Inicie novamente a página *Movies. cshtml* no navegador e, desta vez, você receberá uma exibição semelhante à seguinte (Observe que nenhuma coluna de ID é exibida):</span><span class="sxs-lookup"><span data-stu-id="4d07d-324">Launch the *Movies.cshtml* page in the browser again, and this time you get a display like the following one (notice that no ID column is displayed):</span></span>

![Exibição do WebGrid mostrando apenas as colunas selecionadas](displaying-data/_static/image19.png)

### <a name="changing-the-look-of-the-grid"></a><span data-ttu-id="4d07d-326">Alterando a aparência da grade</span><span class="sxs-lookup"><span data-stu-id="4d07d-326">Changing the Look of the Grid</span></span>

<span data-ttu-id="4d07d-327">Há algumas outras opções para exibir colunas, algumas das quais serão exploradas em Tutoriais posteriores neste conjunto.</span><span class="sxs-lookup"><span data-stu-id="4d07d-327">There are quite a few more options for displaying columns, some of which will be explored in later tutorials in this set.</span></span> <span data-ttu-id="4d07d-328">Por enquanto, esta seção apresentará as maneiras pelas quais você pode estilizar a grade como um todo.</span><span class="sxs-lookup"><span data-stu-id="4d07d-328">For now, this section will introduce you to ways in which you can style the grid as a whole.</span></span>

<span data-ttu-id="4d07d-329">Dentro da seção `<head>` da página, logo antes da marca `</head>` de fechamento, adicione o seguinte elemento `<style>`:</span><span class="sxs-lookup"><span data-stu-id="4d07d-329">Inside the `<head>` section of the page, just before the closing `</head>` tag, add the following `<style>` element:</span></span>

[!code-css[Main](displaying-data/samples/sample5.css)]

<span data-ttu-id="4d07d-330">Essa marcação CSS define classes chamadas `grid`, `head`e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="4d07d-330">This CSS markup defines classes named `grid`, `head`, and so on.</span></span> <span data-ttu-id="4d07d-331">Você também pode colocar essas definições de estilo em um arquivo *. css* separado e vinculá-la à página.</span><span class="sxs-lookup"><span data-stu-id="4d07d-331">You could also put these style definitions in a separate *.css* file and link that to the page.</span></span> <span data-ttu-id="4d07d-332">(Na verdade, você fará isso mais tarde neste conjunto de tutorial.) Mas para facilitar as coisas para este tutorial, elas estão dentro da mesma página que exibe os dados.</span><span class="sxs-lookup"><span data-stu-id="4d07d-332">(In fact, you'll do that later in this tutorial set.) But to make things easy for this tutorial, they're inside the same page that displays the data.</span></span>

<span data-ttu-id="4d07d-333">Agora você pode obter o auxiliar de `WebGrid` para usar essas classes de estilo.</span><span class="sxs-lookup"><span data-stu-id="4d07d-333">Now you can get the `WebGrid` helper to use these style classes.</span></span> <span data-ttu-id="4d07d-334">O auxiliar tem várias propriedades (por exemplo, `tableStyle`) apenas para essa finalidade — você atribui um nome de classe de estilo CSS a eles e esse nome de classe é renderizado como parte da marcação que é renderizada pelo auxiliar.</span><span class="sxs-lookup"><span data-stu-id="4d07d-334">The helper has a number of properties (for example, `tableStyle`) for just this purpose — you assign a CSS style class name to them, and that class name is rendered as part of the markup that's rendered by the helper.</span></span>

<span data-ttu-id="4d07d-335">Altere a marcação `grid.GetHtml` para que agora ela se pareça com este código:</span><span class="sxs-lookup"><span data-stu-id="4d07d-335">Change the `grid.GetHtml` markup so that it now looks like this code:</span></span>

[!code-css[Main](displaying-data/samples/sample6.css)]

<span data-ttu-id="4d07d-336">O que há de novo aqui é que você adicionou parâmetros `tableStyle`, `headerStyle`e `alternatingRowStyle` ao método `GetHtml`.</span><span class="sxs-lookup"><span data-stu-id="4d07d-336">What's new here is that you've added `tableStyle`, `headerStyle`, and `alternatingRowStyle` parameters to the `GetHtml` method.</span></span> <span data-ttu-id="4d07d-337">Esses parâmetros foram definidos para os nomes dos estilos CSS que você adicionou há algum tempo.</span><span class="sxs-lookup"><span data-stu-id="4d07d-337">These parameters have been set to the names of the CSS styles that you added a moment ago.</span></span>

<span data-ttu-id="4d07d-338">Execute a página e, desta vez, você verá uma grade que parece muito menos simples do que antes:</span><span class="sxs-lookup"><span data-stu-id="4d07d-338">Run the page, and this time you see a grid that looks much less plain than before:</span></span>

![Exibição do WebGrid que inclui parâmetros definidos para nomes de classe CSS](displaying-data/_static/image20.png)

<span data-ttu-id="4d07d-340">Para ver o que o método `GetHtml` gerou, você pode examinar a origem da página no navegador.</span><span class="sxs-lookup"><span data-stu-id="4d07d-340">To see what the `GetHtml` method generated, you can look at the source of the page in the browser.</span></span> <span data-ttu-id="4d07d-341">Não entraremos em detalhes aqui, mas o ponto importante é que, ao especificar parâmetros como `tableStyle`, você fez com que a grade gerasse marcas HTML como as seguintes:</span><span class="sxs-lookup"><span data-stu-id="4d07d-341">We won't go into detail here, but the important point is that by specifying parameters like `tableStyle`, you caused the grid to generate HTML tags like the following:</span></span>

`<table class="grid">`

<span data-ttu-id="4d07d-342">A marca de `<table>` teve um atributo `class` adicionado a ele que faz referência a uma das regras de CSS que você adicionou anteriormente.</span><span class="sxs-lookup"><span data-stu-id="4d07d-342">The `<table>` tag has had a `class` attribute added to it that references one of the CSS rules that you added earlier.</span></span> <span data-ttu-id="4d07d-343">Esse código mostra o padrão básico &mdash; parâmetros diferentes para o método `GetHtml` permitem que você referencie classes CSS que o método gera, em seguida, junto com a marcação.</span><span class="sxs-lookup"><span data-stu-id="4d07d-343">This code shows you the basic pattern &mdash; different parameters for the `GetHtml` method let you reference CSS classes that the method then generates along with the markup.</span></span> <span data-ttu-id="4d07d-344">O que você faz com as classes CSS cabe a você.</span><span class="sxs-lookup"><span data-stu-id="4d07d-344">What you do with the CSS classes is up to you.</span></span>

## <a name="adding-paging"></a><span data-ttu-id="4d07d-345">Adicionando paginação</span><span class="sxs-lookup"><span data-stu-id="4d07d-345">Adding Paging</span></span>

<span data-ttu-id="4d07d-346">Como a última tarefa deste tutorial, você adicionará a paginação à grade.</span><span class="sxs-lookup"><span data-stu-id="4d07d-346">As the last task for this tutorial, you'll add paging to the grid.</span></span> <span data-ttu-id="4d07d-347">No momento, não há problema em Exibir todos os seus filmes de uma só vez.</span><span class="sxs-lookup"><span data-stu-id="4d07d-347">Right now it's no problem to display all your movies at once.</span></span> <span data-ttu-id="4d07d-348">Mas, se você tiver adicionado centenas de filmes, a exibição da página chegará longa.</span><span class="sxs-lookup"><span data-stu-id="4d07d-348">But if you added hundreds of movies, the page display would get long.</span></span>

<span data-ttu-id="4d07d-349">No código da página, altere a linha que cria o objeto `WebGrid` para o código a seguir:</span><span class="sxs-lookup"><span data-stu-id="4d07d-349">In the page code, change the line that creates the `WebGrid` object to the following code:</span></span>

[!code-csharp[Main](displaying-data/samples/sample7.cs)]

<span data-ttu-id="4d07d-350">A única diferença de Before é que você adicionou um parâmetro `rowsPerPage` que é definido como 3.</span><span class="sxs-lookup"><span data-stu-id="4d07d-350">The only difference from before is that you've added a `rowsPerPage` parameter that's set to 3.</span></span>

<span data-ttu-id="4d07d-351">Execute a página.</span><span class="sxs-lookup"><span data-stu-id="4d07d-351">Run the page.</span></span> <span data-ttu-id="4d07d-352">A grade exibe 3 linhas por vez, além de links de navegação que permitem que você percorra os filmes em seu banco de dados:</span><span class="sxs-lookup"><span data-stu-id="4d07d-352">The grid displays 3 rows at a time, plus navigation links that let you page through the movies in your database:</span></span>

![Exibição do WebGrid com paginação](displaying-data/_static/image21.png)

## <a name="coming-up-next"></a><span data-ttu-id="4d07d-354">Chegando em seguida</span><span class="sxs-lookup"><span data-stu-id="4d07d-354">Coming Up Next</span></span>

<span data-ttu-id="4d07d-355">No próximo tutorial, você aprenderá a usar o Razor e C# o código para obter a entrada do usuário em um formulário.</span><span class="sxs-lookup"><span data-stu-id="4d07d-355">In the next tutorial, you'll learn how to use Razor and C# code to get user input in a form.</span></span> <span data-ttu-id="4d07d-356">Você adicionará uma caixa de pesquisa à página filmes para que possa encontrar filmes por título ou gênero.</span><span class="sxs-lookup"><span data-stu-id="4d07d-356">You'll add a search box to the Movies page so that you can find movies by title or genre.</span></span>

## <a name="complete-listing-for-movies-page"></a><span data-ttu-id="4d07d-357">Listagem completa da página de filmes</span><span class="sxs-lookup"><span data-stu-id="4d07d-357">Complete Listing for Movies Page</span></span>

[!code-cshtml[Main](displaying-data/samples/sample8.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="4d07d-358">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="4d07d-358">Additional Resources</span></span>

- [<span data-ttu-id="4d07d-359">Introdução à programação da Web do ASP.NET usando a sintaxe do Razor</span><span class="sxs-lookup"><span data-stu-id="4d07d-359">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)

> [!div class="step-by-step"]
> <span data-ttu-id="4d07d-360">[Anterior](intro-to-web-pages-programming.md)
> [Próximo](form-basics.md)</span><span class="sxs-lookup"><span data-stu-id="4d07d-360">[Previous](intro-to-web-pages-programming.md)
[Next](form-basics.md)</span></span>
