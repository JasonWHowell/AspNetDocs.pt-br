---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Trabalhando com imagens em um site Páginas da Web do ASP.NET (Razor) | Microsoft Docs
author: Rick-Anderson
description: Este capítulo mostra como adicionar, exibir e manipular imagens (redimensionar, inverter e adicionar marcas-d ' água) em seu site.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 53514b3c314fc182a43c82974ffcfa8158a636a1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78631855"
---
# <a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="7e3ce-103">Trabalhando com imagens em um site Páginas da Web do ASP.NET (Razor)</span><span class="sxs-lookup"><span data-stu-id="7e3ce-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="7e3ce-104">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="7e3ce-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="7e3ce-105">Este artigo mostra como adicionar, exibir e manipular imagens (redimensionar, virar e adicionar marcas-d ' água) em um site Páginas da Web do ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="7e3ce-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="7e3ce-106">O que você aprenderá:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="7e3ce-107">Como adicionar uma imagem a uma página dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="7e3ce-108">Como permitir que os usuários carreguem uma imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="7e3ce-109">Como redimensionar uma imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-109">How to resize an image.</span></span>
> - <span data-ttu-id="7e3ce-110">Como inverter ou girar uma imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="7e3ce-111">Como adicionar uma marca d' água a uma imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="7e3ce-112">Como usar uma imagem como uma marca d' água.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="7e3ce-113">Estes são os recursos de programação do ASP.NET apresentados no artigo:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="7e3ce-114">O auxiliar de `WebImage`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="7e3ce-115">O objeto `Path`, que fornece métodos que permitem manipular nomes de arquivo e caminho.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="7e3ce-116">Versões de software usadas no tutorial</span><span class="sxs-lookup"><span data-stu-id="7e3ce-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="7e3ce-117">Páginas da Web do ASP.NET (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="7e3ce-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="7e3ce-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="7e3ce-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="7e3ce-119">Este tutorial também funciona com o WebMatrix 3.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-119">This tutorial also works with WebMatrix 3.</span></span>

<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="7e3ce-120">Adicionando uma imagem a uma página da Web dinamicamente</span><span class="sxs-lookup"><span data-stu-id="7e3ce-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="7e3ce-121">Você pode adicionar imagens ao seu site e a páginas individuais enquanto estiver desenvolvendo o site.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="7e3ce-122">Você também pode permitir que os usuários carreguem imagens, o que pode ser útil para tarefas como permitir que adicionem uma foto de perfil.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="7e3ce-123">Se uma imagem já estiver disponível no seu site e você apenas quiser exibi-la em uma página, use um elemento HTML `<img>` como este:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="7e3ce-124">No entanto, às vezes, você precisa ser capaz de exibir &#8212; imagens dinamicamente, ou seja, você não sabe qual imagem deve ser exibida até que a página esteja em execução.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="7e3ce-125">O procedimento nesta seção mostra como exibir uma imagem imediatamente onde os usuários especificam o nome do arquivo de imagem de uma lista de nomes de imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="7e3ce-126">Eles selecionam o nome da imagem em uma lista suspensa e, quando enviam a página, a imagem selecionada é exibida.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="7e3ce-127">![imagem](9-working-with-images/_static/image1.jpg "ch9images-1. jpg")</span><span class="sxs-lookup"><span data-stu-id="7e3ce-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="7e3ce-128">No WebMatrix, crie um novo site.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="7e3ce-129">Adicione uma nova página chamada *DynamicImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="7e3ce-130">Na pasta raiz do site, adicione uma nova pasta e nomeie-a como *imagens*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="7e3ce-131">Adicione quatro imagens à pasta *imagens* que você acabou de criar.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="7e3ce-132">(Qualquer imagem que você tenha útil será, mas elas devem se ajustar a uma página.) Renomeie as imagens *Photo1. jpg*, *Photo2. jpg*, *Photo3. jpg*e *Photo4. jpg*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="7e3ce-133">(Você não usará o *Photo4. jpg* neste procedimento, mas você o usará posteriormente neste artigo.)</span><span class="sxs-lookup"><span data-stu-id="7e3ce-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="7e3ce-134">Verifique se as quatro imagens não estão marcadas como somente leitura.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="7e3ce-135">Substitua o conteúdo existente na página pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="7e3ce-136">O corpo da página tem uma lista suspensa (um elemento `<select>`) denominada `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="7e3ce-137">A lista tem três opções, e o atributo `value` de cada opção de lista tem o nome de uma das imagens que você colocou na pasta *imagens* .</span><span class="sxs-lookup"><span data-stu-id="7e3ce-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="7e3ce-138">Essencialmente, a lista permite que o usuário selecione um nome amigável como &quot;foto 1&quot;e, em seguida, passe o nome do arquivo *. jpg* quando a página é enviada.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="7e3ce-139">No código, você pode obter a seleção do usuário (em outras palavras, o nome do arquivo de imagem) da lista lendo `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="7e3ce-140">Primeiro, você verá se há uma seleção.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="7e3ce-141">Se houver, você construirá um caminho para a imagem que consiste no nome da pasta para as imagens e o nome do arquivo de imagem do usuário.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="7e3ce-142">(Se você tentou construir um caminho, mas não havia nada em `Request["photoChoice"]`, obteria um erro.) Isso resulta em um caminho relativo como este:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    <span data-ttu-id="7e3ce-143">*imagens/Photo1. jpg*</span><span class="sxs-lookup"><span data-stu-id="7e3ce-143">*images/Photo1.jpg*</span></span>

    <span data-ttu-id="7e3ce-144">O caminho é armazenado em uma variável chamada `imagePath` que você precisará mais tarde na página.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="7e3ce-145">No corpo, há também um elemento `<img>` que é usado para exibir a imagem que o usuário escolheu.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="7e3ce-146">O atributo `src` não está definido como um nome de arquivo ou URL, como você faria para exibir um elemento estático.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="7e3ce-147">Em vez disso, ele é definido como `@imagePath`, o que significa que ele obtém seu valor do caminho que você definiu no código.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="7e3ce-148">No entanto, na primeira vez que a página é executada, não há nenhuma imagem a ser exibida, pois o usuário não selecionou nada.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="7e3ce-149">Isso normalmente significa que o atributo `src` estaria vazio e a imagem apareceria como um&quot; vermelho &quot;x (ou qualquer que seja o navegador renderizado quando não conseguir encontrar uma imagem).</span><span class="sxs-lookup"><span data-stu-id="7e3ce-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="7e3ce-150">Para evitar isso, coloque o elemento `<img>` em um bloco de `if` que teste para ver se a variável `imagePath` tem alguma coisa.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="7e3ce-151">Se o usuário tiver feito uma seleção, `imagePath` conterá o caminho.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="7e3ce-152">Se o usuário não tiver escolhido uma imagem ou se esta for a primeira vez que a página for exibida, o elemento `<img>` não será até mesmo renderizado.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="7e3ce-153">Salve o arquivo e execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="7e3ce-154">(Verifique se a página está selecionada no espaço de trabalho **arquivos** antes de executá-la.)</span><span class="sxs-lookup"><span data-stu-id="7e3ce-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="7e3ce-155">Selecione uma imagem na lista suspensa e clique em **imagem de exemplo**.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="7e3ce-156">Verifique se você vê imagens diferentes para diferentes opções.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="7e3ce-157">Carregando uma imagem</span><span class="sxs-lookup"><span data-stu-id="7e3ce-157">Uploading an Image</span></span>

<span data-ttu-id="7e3ce-158">O exemplo anterior mostrou como exibir uma imagem dinamicamente, mas funcionou apenas com imagens que já estavam em seu site.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="7e3ce-159">Este procedimento mostra como permitir que os usuários carreguem uma imagem, que é exibida na página.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="7e3ce-160">No ASP.NET, você pode manipular imagens rapidamente usando o auxiliar `WebImage`, que tem métodos que permitem criar, manipular e salvar imagens.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="7e3ce-161">O auxiliar de `WebImage` dá suporte a todos os tipos de arquivo de imagem da Web comuns, incluindo *. jpg*, *. png*e *. bmp*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="7e3ce-162">Ao longo deste artigo, você usará imagens *. jpg* , mas poderá usar qualquer um dos tipos de imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="7e3ce-163">![imagem](9-working-with-images/_static/image2.jpg "ch9images-2. jpg")</span><span class="sxs-lookup"><span data-stu-id="7e3ce-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="7e3ce-164">Adicione uma nova página e nomeie-a *UploadImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="7e3ce-165">Substitua o conteúdo existente na página pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="7e3ce-166">O corpo do texto tem um elemento `<input type="file">`, que permite aos usuários selecionar um arquivo a ser carregado.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="7e3ce-167">Quando eles clicam em **Enviar**, o arquivo escolhido é enviado junto com o formulário.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="7e3ce-168">Para obter a imagem carregada, use o auxiliar de `WebImage`, que tem todos os tipos de métodos úteis para trabalhar com imagens.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="7e3ce-169">Especificamente, você usa `WebImage.GetImageFromRequest` para obter a imagem carregada (se houver) e armazená-la em uma variável chamada `photo`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="7e3ce-170">Muitos dos trabalhos neste exemplo envolvem obter e definir nomes de arquivo e caminho.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="7e3ce-171">O problema é que você deseja obter o nome (e apenas o nome) da imagem que o usuário carregou e, em seguida, criar um novo caminho para onde você vai armazenar a imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="7e3ce-172">Como os usuários podem carregar várias imagens que têm o mesmo nome, você usa um pouco de código extra para criar nomes exclusivos e garantir que os usuários não substituam as imagens existentes.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="7e3ce-173">Se uma imagem for realmente carregada (o `if (photo != null)`de teste), você obterá o nome da imagem da propriedade `FileName` da imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="7e3ce-174">Quando o usuário carrega a imagem, `FileName` contém o nome original do usuário, que inclui o caminho do computador do usuário.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="7e3ce-175">Pode ser assim:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-175">It might look like this:</span></span>

    <span data-ttu-id="7e3ce-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span><span class="sxs-lookup"><span data-stu-id="7e3ce-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span></span>

    <span data-ttu-id="7e3ce-177">Você não quer todas essas informações de caminho, &#8212; embora queira apenas o nome real do arquivo (*SamplePhoto1. jpg*).</span><span class="sxs-lookup"><span data-stu-id="7e3ce-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="7e3ce-178">Você pode remover apenas o arquivo de um caminho usando o método `Path.GetFileName`, da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="7e3ce-179">Em seguida, você cria um novo nome de arquivo exclusivo adicionando um GUID ao nome original.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="7e3ce-180">(Para obter mais informações sobre GUIDs, consulte [sobre GUIDs](#SB_AboutGUIDs) mais adiante neste artigo.) Em seguida, você cria um caminho completo que pode ser usado para salvar a imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="7e3ce-181">O caminho de salvamento é composto pelo nome do novo arquivo, a pasta (imagens) e o local atual do site.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="7e3ce-182">Para que seu código salve arquivos na pasta *imagens* , o aplicativo precisa de permissões de leitura/gravação para essa pasta.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="7e3ce-183">Em seu computador de desenvolvimento, isso normalmente não é um problema.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="7e3ce-184">No entanto, quando você publica seu site no servidor Web de um provedor de hospedagem, talvez seja necessário definir explicitamente essas permissões.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="7e3ce-185">Se você executar esse código em um servidor do provedor de hospedagem e receber erros, verifique com o provedor de hospedagem para descobrir como definir essas permissões.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="7e3ce-186">Por fim, você passa o caminho de salvamento para o método `Save` do auxiliar de `WebImage`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="7e3ce-187">Isso armazena a imagem carregada com seu novo nome.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="7e3ce-188">O método Save é semelhante a este: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="7e3ce-189">O caminho completo é acrescentado a `@"~\"`, que é o local atual do site.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="7e3ce-190">(Para obter informações sobre o operador de `~`, consulte [introdução à programação da Web do ASP.NET usando a sintaxe do Razor](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="7e3ce-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="7e3ce-191">Como no exemplo anterior, o corpo da página contém um elemento `<img>` para exibir a imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="7e3ce-192">Se `imagePath` tiver sido definido, o elemento `<img>` será renderizado e seu atributo `src` será definido como o valor `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="7e3ce-193">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="7e3ce-194">Carregue uma imagem e verifique se ela é exibida na página.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="7e3ce-195">No seu site, abra a pasta *imagens* .</span><span class="sxs-lookup"><span data-stu-id="7e3ce-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="7e3ce-196">Você verá que um novo arquivo foi adicionado cujo nome de arquivo é semelhante a::</span><span class="sxs-lookup"><span data-stu-id="7e3ce-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    <span data-ttu-id="7e3ce-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_myphoto. png*</span><span class="sxs-lookup"><span data-stu-id="7e3ce-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span></span>

    <span data-ttu-id="7e3ce-198">Essa é a imagem que você carregou com um GUID prefixado para o nome.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="7e3ce-199">(Seu próprio arquivo terá um GUID diferente e provavelmente será nomeado algo diferente de *myphoto. png*.)</span><span class="sxs-lookup"><span data-stu-id="7e3ce-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="7e3ce-200">Sobre GUIDs</span><span class="sxs-lookup"><span data-stu-id="7e3ce-200">About GUIDs</span></span>
> 
> <span data-ttu-id="7e3ce-201">Um GUID (globalmente-ID exclusivo) é um identificador que geralmente é processado em um formato como este: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="7e3ce-202">Os números e as letras (de A-F) diferem para cada GUID, mas todos seguem o padrão de usar grupos de 8-4-4-4-12 caracteres.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="7e3ce-203">(Tecnicamente, um GUID é um número de 16 bytes/128 bits.) Quando você precisar de um GUID, poderá chamar um código especializado que gera um GUID para você.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="7e3ce-204">A ideia por trás dos GUIDs é que entre o enorme tamanho do número (3,4 x 10<sup>38</sup>) e o algoritmo para gerá-lo, o número resultante é praticamente garantido como sendo um de um tipo.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="7e3ce-205">Os GUIDs, portanto, são uma boa maneira de gerar nomes para coisas quando você deve garantir que não use o mesmo nome duas vezes.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="7e3ce-206">A desvantagem, é claro, é que os GUIDs não são particularmente amigáveis para o usuário, portanto, eles tendem a ser usados quando o nome é usado apenas no código.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>

<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="7e3ce-207">Redimensionando uma imagem</span><span class="sxs-lookup"><span data-stu-id="7e3ce-207">Resizing an Image</span></span>

<span data-ttu-id="7e3ce-208">Se o seu site aceitar imagens de um usuário, talvez você queira redimensionar as imagens antes de exibi-las ou salvá-las.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="7e3ce-209">Você pode usar novamente o auxiliar de `WebImage` para isso.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="7e3ce-210">Este procedimento mostra como redimensionar uma imagem carregada para criar uma miniatura e, em seguida, salvar a miniatura e a imagem original no site.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="7e3ce-211">Você exibe a miniatura na página e usa um hiperlink para redirecionar os usuários para a imagem em tamanho normal.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="7e3ce-212">![imagem](9-working-with-images/_static/image3.jpg "ch9images-3. jpg")</span><span class="sxs-lookup"><span data-stu-id="7e3ce-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="7e3ce-213">Adicione uma nova página chamada *thumbnail. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="7e3ce-214">Na pasta *imagens* , crie uma subpasta chamada *thumbs*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="7e3ce-215">Substitua o conteúdo existente na página pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="7e3ce-216">Esse código é semelhante ao código do exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="7e3ce-217">A diferença é que esse código salva a imagem duas vezes, uma vez normalmente e uma vez após a criação de uma cópia em miniatura da imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="7e3ce-218">Primeiro, você obtém a imagem carregada e a salva na pasta *imagens* .</span><span class="sxs-lookup"><span data-stu-id="7e3ce-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="7e3ce-219">Em seguida, você cria um novo caminho para a imagem em miniatura.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="7e3ce-220">Para criar realmente a miniatura, você chama o método `Resize` do auxiliar de `WebImage` para criar uma imagem de 60 pixels por 60 pixels.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="7e3ce-221">O exemplo mostra como você preserva a taxa de proporção e como você pode impedir que a imagem seja ampliada (caso o novo tamanho realmente torne a imagem maior).</span><span class="sxs-lookup"><span data-stu-id="7e3ce-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="7e3ce-222">A imagem redimensionada é salva na subpasta *thumbs* .</span><span class="sxs-lookup"><span data-stu-id="7e3ce-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="7e3ce-223">No final da marcação, você usa o mesmo elemento `<img>` com o atributo Dynamic `src` que você viu nos exemplos anteriores para mostrar condicionalmente a imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="7e3ce-224">Nesse caso, você exibe a miniatura.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="7e3ce-225">Você também usa um elemento `<a>` para criar um hiperlink para a versão grande da imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="7e3ce-226">Assim como com o atributo `src` do elemento `<img>`, você define o atributo `href` do elemento `<a>` dinamicamente para o que estiver em `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="7e3ce-227">Para certificar-se de que o caminho possa funcionar como uma URL, você passa `imagePath` para o método `Html.AttributeEncode`, que converte os caracteres reservados no caminho para caracteres que estão ok em uma URL.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="7e3ce-228">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="7e3ce-229">Carregue uma foto e verifique se a miniatura é mostrada.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="7e3ce-230">Clique na miniatura para ver a imagem em tamanho normal.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="7e3ce-231">Nas *imagens* e *imagens/polegares*, observe que novos arquivos foram adicionados.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="7e3ce-232">Girando e invertendo uma imagem</span><span class="sxs-lookup"><span data-stu-id="7e3ce-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="7e3ce-233">O auxiliar de `WebImage` também permite que você inverta e gire imagens.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="7e3ce-234">Este procedimento mostra como obter uma imagem do servidor, virar a imagem de cabeça para baixo (verticalmente), salvá-la e exibir a imagem invertida na página.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="7e3ce-235">Neste exemplo, você está usando apenas um arquivo que você já tem no servidor (*Photo2. jpg*).</span><span class="sxs-lookup"><span data-stu-id="7e3ce-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="7e3ce-236">Em um aplicativo real, você provavelmente inverteria uma imagem cujo nome você obteve dinamicamente, como fez nos exemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="7e3ce-237">![imagem](9-working-with-images/_static/image4.jpg "ch9images-4. jpg")</span><span class="sxs-lookup"><span data-stu-id="7e3ce-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="7e3ce-238">Adicione uma nova página chamada *FlipImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="7e3ce-239">Substitua o conteúdo existente na página pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="7e3ce-240">O código usa o auxiliar `WebImage` para obter uma imagem do servidor.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="7e3ce-241">Você cria o caminho para a imagem usando a mesma técnica usada em exemplos anteriores para salvar imagens e passa esse caminho ao criar uma imagem usando `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="7e3ce-242">Se uma imagem for encontrada, você construirá um novo caminho e nome de arquivo, como você fez nos exemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="7e3ce-243">Para inverter a imagem, você chama o método `FlipVertical` e, em seguida, salva a imagem novamente.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="7e3ce-244">A imagem é exibida novamente na página usando o elemento `<img>` com o atributo `src` definido como `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="7e3ce-245">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-245">Run the page in a browser.</span></span> <span data-ttu-id="7e3ce-246">A imagem de *Photo2. jpg* é mostrada de cabeça para baixo.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="7e3ce-247">Atualize a página ou solicite a página novamente para ver se a imagem foi invertida novamente no lado direito.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="7e3ce-248">Para girar uma imagem, use o mesmo código, exceto que, em vez de chamar o `FlipVertical` ou `FlipHorizontal`, você chama `RotateLeft` ou `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="7e3ce-249">Adicionando uma marca d' água a uma imagem</span><span class="sxs-lookup"><span data-stu-id="7e3ce-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="7e3ce-250">Ao adicionar imagens ao seu site, talvez você queira adicionar uma marca d' água à imagem antes de salvá-la ou exibi-la em uma página.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="7e3ce-251">As pessoas geralmente usam marcas d' água para adicionar informações de direitos autorais a uma imagem ou para anunciar seu nome comercial.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="7e3ce-252">![imagem](9-working-with-images/_static/image5.jpg "ch9images-5. jpg")</span><span class="sxs-lookup"><span data-stu-id="7e3ce-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="7e3ce-253">Adicione uma nova página chamada *watermark. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="7e3ce-254">Substitua o conteúdo existente na página pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="7e3ce-255">Esse código é como o código na página *FlipImage. cshtml* de antes (embora desta vez use o arquivo *Photo3. jpg* ).</span><span class="sxs-lookup"><span data-stu-id="7e3ce-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="7e3ce-256">Para adicionar a marca d' água, chame o método `AddTextWatermark` do auxiliar de `WebImage` antes de salvar a imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="7e3ce-257">Na chamada para `AddTextWatermark`, você passa o texto &quot;minha marca d' água&quot;, define a cor da fonte como amarelo e define a família de fontes como Arial.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="7e3ce-258">(Embora não seja mostrado aqui, o auxiliar de `WebImage` também permite que você especifique a opacidade, a família de fontes e o tamanho da fonte e a posição do texto da marca-d ' água.) Quando você salva a imagem, ela não deve ser somente leitura.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="7e3ce-259">Como você viu antes, a imagem é exibida na página usando o elemento `<img>` com o atributo src definido como `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="7e3ce-260">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-260">Run the page in a browser.</span></span> <span data-ttu-id="7e3ce-261">Observe o texto "minha marca d' água" no canto inferior direito da imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="7e3ce-262">Usando uma imagem como uma marca d' água</span><span class="sxs-lookup"><span data-stu-id="7e3ce-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="7e3ce-263">Em vez de usar texto para uma marca d' água, você pode usar outra imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="7e3ce-264">Às vezes, as pessoas usam imagens como um logotipo da empresa como marca-d ' água ou usam uma imagem de marca d' água em vez de texto para informações de direitos autorais.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="7e3ce-265">![imagem](9-working-with-images/_static/image6.jpg "ch9images-6. jpg")</span><span class="sxs-lookup"><span data-stu-id="7e3ce-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="7e3ce-266">Adicione uma nova página chamada *ImageWatermark. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="7e3ce-267">Adicione uma imagem à pasta *imagens* que você pode usar como um logotipo e renomeie a imagem *MyCompanyLogo. jpg*.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="7e3ce-268">Essa imagem deve ser uma imagem que pode ser exibida claramente quando definida como 80 pixels de largura e 20 pixels de altura.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="7e3ce-269">Substitua o conteúdo existente na página pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="7e3ce-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="7e3ce-270">Essa é outra variação no código de exemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="7e3ce-271">Nesse caso, você chama `AddImageWatermark` para adicionar a imagem de marca d' água à imagem de destino (*Photo3. jpg*) antes de salvar a imagem.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="7e3ce-272">Ao chamar `AddImageWatermark`, você define sua largura como 80 pixels e a altura como 20 pixels.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="7e3ce-273">A imagem *MyCompanyLogo. jpg* é alinhada horizontalmente no centro e alinhado verticalmente na parte inferior da imagem de destino.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="7e3ce-274">A opacidade é definida como 100% e o preenchimento é definido como 10 pixels.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="7e3ce-275">Se a imagem de marca d' água for maior que a imagem de destino, nada acontecerá.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="7e3ce-276">Se a imagem de marca d' água for maior que a imagem de destino e você definir o preenchimento da marca-d ' água da imagem como zero, a marca d' água será ignorada.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="7e3ce-277">Como antes, você exibe a imagem usando o elemento `<img>` e um atributo de `src` dinâmico.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="7e3ce-278">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-278">Run the page in a browser.</span></span> <span data-ttu-id="7e3ce-279">Observe que a imagem de marca d' água aparece na parte inferior da imagem principal.</span><span class="sxs-lookup"><span data-stu-id="7e3ce-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="7e3ce-280">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="7e3ce-280">Additional Resources</span></span>

[<span data-ttu-id="7e3ce-281">Trabalhando com arquivos em um site Páginas da Web do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="7e3ce-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="7e3ce-282">Introdução à programação de Páginas da Web do ASP.NET usando a sintaxe do Razor</span><span class="sxs-lookup"><span data-stu-id="7e3ce-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)
