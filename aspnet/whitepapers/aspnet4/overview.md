---
uid: whitepapers/aspnet4/overview
title: Visão geral de desenvolvimento para a Web do ASP.NET 4 e do Visual Studio 2010 | Microsoft Docs
author: rick-anderson
description: Este documento fornece uma visão geral de muitos dos novos recursos do ASP.NET que estão incluídos no the.NET Framework 4 e no Visual Studio 2010.
ms.author: riande
ms.date: 02/10/2010
ms.assetid: d7729af4-1eda-4ff2-8b61-dbbe4fc11d10
msc.legacyurl: /whitepapers/aspnet4
msc.type: content
ms.openlocfilehash: ecde48f6bd88ee5f569bfeb8b70c26a50bc869c2
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78630168"
---
# <a name="aspnet-4-and-visual-studio-2010-web-development-overview"></a><span data-ttu-id="61cac-103">Visão geral sobre desenvolvimento para a Web do ASP.NET 4 e Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="61cac-103">ASP.NET 4 and Visual Studio 2010 Web Development Overview</span></span>

> <span data-ttu-id="61cac-104">Este documento fornece uma visão geral de muitos dos novos recursos do ASP.NET que estão incluídos no the.NET Framework 4 e no Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="61cac-104">This document provides an overview of many of the new features for ASP.NET that are included in the.NET Framework 4 and in Visual Studio 2010.</span></span>
> 
> [<span data-ttu-id="61cac-105">Baixe este White Paper</span><span class="sxs-lookup"><span data-stu-id="61cac-105">Download This Whitepaper</span></span>](https://download.microsoft.com/download/7/1/A/71A105A9-89D6-4201-9CC5-AD6A3B7E2F22/ASP_NET_4_and_Visual_Studio_2010_Web_Development_Overview.pdf)

<span data-ttu-id="61cac-106">**Contents**</span><span class="sxs-lookup"><span data-stu-id="61cac-106">**Contents**</span></span>

<span data-ttu-id="61cac-107">**[Serviços principais](#0.2__Toc253429238 "_Toc253429238")**</span><span class="sxs-lookup"><span data-stu-id="61cac-107">**[Core Services](#0.2__Toc253429238 "_Toc253429238")**</span></span>  
[<span data-ttu-id="61cac-108">Refatoração de arquivo Web. config</span><span class="sxs-lookup"><span data-stu-id="61cac-108">Web.config File Refactoring</span></span>](#0.2__Toc253429239 "_Toc253429239")  
[<span data-ttu-id="61cac-109">Cache de saída extensível</span><span class="sxs-lookup"><span data-stu-id="61cac-109">Extensible Output Caching</span></span>](#0.2__Toc253429240 "_Toc253429240")  
[<span data-ttu-id="61cac-110">Aplicativos Web de início automático</span><span class="sxs-lookup"><span data-stu-id="61cac-110">Auto-Start Web Applications</span></span>](#0.2__Toc253429241 "_Toc253429241")  
[<span data-ttu-id="61cac-111">Redirecionando permanentemente uma página</span><span class="sxs-lookup"><span data-stu-id="61cac-111">Permanently Redirecting a Page</span></span>](#0.2__Toc253429242 "_Toc253429242")  
[<span data-ttu-id="61cac-112">Reduzindo o estado da sessão</span><span class="sxs-lookup"><span data-stu-id="61cac-112">Shrinking Session State</span></span>](#0.2__Toc253429243 "_Toc253429243")  
[<span data-ttu-id="61cac-113">Expandindo o intervalo de URLs permitidas</span><span class="sxs-lookup"><span data-stu-id="61cac-113">Expanding the Range of Allowable URLs</span></span>](#0.2__Toc253429244 "_Toc253429244")  
[<span data-ttu-id="61cac-114">Validação de solicitação extensível</span><span class="sxs-lookup"><span data-stu-id="61cac-114">Extensible Request Validation</span></span>](#0.2__Toc253429245 "_Toc253429245")  
[<span data-ttu-id="61cac-115">Cache de objetos e extensibilidade de objetos de cache</span><span class="sxs-lookup"><span data-stu-id="61cac-115">Object Caching and Object Caching Extensibility</span></span>](#0.2__Toc253429246 "_Toc253429246")  
[<span data-ttu-id="61cac-116">Codificação de Extensible HTML, URL e cabeçalho HTTP</span><span class="sxs-lookup"><span data-stu-id="61cac-116">Extensible HTML, URL, and HTTP Header Encoding</span></span>](#0.2__Toc253429247 "_Toc253429247")  
[<span data-ttu-id="61cac-117">Monitoramento de desempenho para aplicativos individuais em um único processo de trabalho</span><span class="sxs-lookup"><span data-stu-id="61cac-117">Performance Monitoring for Individual Applications in a Single Worker Process</span></span>](#0.2__Toc253429248 "_Toc253429248")  
[<span data-ttu-id="61cac-118">Vários destinos</span><span class="sxs-lookup"><span data-stu-id="61cac-118">Multi-Targeting</span></span>](#0.2__Toc253429249 "_Toc253429249")

<span data-ttu-id="61cac-119">**[Ajax](#0.2__Toc253429250 "_Toc253429250")**</span><span class="sxs-lookup"><span data-stu-id="61cac-119">**[Ajax](#0.2__Toc253429250 "_Toc253429250")**</span></span>  
[<span data-ttu-id="61cac-120">jQuery incluído com Web Forms e MVC</span><span class="sxs-lookup"><span data-stu-id="61cac-120">jQuery Included with Web Forms and MVC</span></span>](#0.2__Toc253429251 "_Toc253429251")  
[<span data-ttu-id="61cac-121">Suporte à rede de distribuição de conteúdo</span><span class="sxs-lookup"><span data-stu-id="61cac-121">Content Delivery Network Support</span></span>](#0.2__Toc253429252 "_Toc253429252")  
[<span data-ttu-id="61cac-122">Scripts explícitos do ScriptManager</span><span class="sxs-lookup"><span data-stu-id="61cac-122">ScriptManager Explicit Scripts</span></span>](#0.2__Toc253429253 "_Toc253429253")

<span data-ttu-id="61cac-123">**[Web Forms](#0.2__Toc253429256 "_Toc253429256")**</span><span class="sxs-lookup"><span data-stu-id="61cac-123">**[Web Forms](#0.2__Toc253429256 "_Toc253429256")**</span></span>  
[<span data-ttu-id="61cac-124">Definindo marcas meta com as propriedades Page. metapalavra-chave e Page. MetaDescription</span><span class="sxs-lookup"><span data-stu-id="61cac-124">Setting Meta Tags with the Page.MetaKeywords and Page.MetaDescription Properties</span></span>](#0.2__Toc253429257 "_Toc253429257")  
[<span data-ttu-id="61cac-125">Habilitando o estado de exibição para controles individuais</span><span class="sxs-lookup"><span data-stu-id="61cac-125">Enabling View State for Individual Controls</span></span>](#0.2__Toc253429258 "_Toc253429258")  
[<span data-ttu-id="61cac-126">Alterações nos recursos do navegador</span><span class="sxs-lookup"><span data-stu-id="61cac-126">Changes to Browser Capabilities</span></span>](#0.2__Toc253429259 "_Toc253429259")  
[<span data-ttu-id="61cac-127">Roteamento no ASP.NET 4</span><span class="sxs-lookup"><span data-stu-id="61cac-127">Routing in ASP.NET 4</span></span>](#0.2__Toc253429260 "_Toc253429260")  
[<span data-ttu-id="61cac-128">Definindo IDs de cliente</span><span class="sxs-lookup"><span data-stu-id="61cac-128">Setting Client IDs</span></span>](#0.2__Toc253429261 "_Toc253429261")  
[<span data-ttu-id="61cac-129">Persistência da seleção de linha em controles de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-129">Persisting Row Selection in Data Controls</span></span>](#0.2__Toc253429262 "_Toc253429262")  
[<span data-ttu-id="61cac-130">Controle de gráfico ASP.NET</span><span class="sxs-lookup"><span data-stu-id="61cac-130">ASP.NET Chart Control</span></span>](#0.2__Toc253429263 "_Toc253429263")  
[<span data-ttu-id="61cac-131">Filtrando dados com o controle QueryExtender</span><span class="sxs-lookup"><span data-stu-id="61cac-131">Filtering Data with the QueryExtender Control</span></span>](#0.2__Toc253429264 "_Toc253429264")  
[<span data-ttu-id="61cac-132">Expressões de código codificadas em HTML</span><span class="sxs-lookup"><span data-stu-id="61cac-132">Html Encoded Code Expressions</span></span>](#0.2__Toc253429265 "_Toc253429265")  
[<span data-ttu-id="61cac-133">Alterações de modelo de projeto</span><span class="sxs-lookup"><span data-stu-id="61cac-133">Project Template Changes</span></span>](#0.2__Toc253429266 "_Toc253429266")  
[<span data-ttu-id="61cac-134">Aprimoramentos de CSS</span><span class="sxs-lookup"><span data-stu-id="61cac-134">CSS Improvements</span></span>](#0.2__Toc253429267 "_Toc253429267")  
[<span data-ttu-id="61cac-135">Ocultando elementos div em campos ocultos</span><span class="sxs-lookup"><span data-stu-id="61cac-135">Hiding div Elements Around Hidden Fields</span></span>](#0.2__Toc253429268 "_Toc253429268")  
[<span data-ttu-id="61cac-136">Renderizando uma tabela externa para controles de modelo</span><span class="sxs-lookup"><span data-stu-id="61cac-136">Rendering an Outer Table for Templated Controls</span></span>](#0.2__Toc253429269 "_Toc253429269")  
[<span data-ttu-id="61cac-137">Aprimoramentos de controle ListView</span><span class="sxs-lookup"><span data-stu-id="61cac-137">ListView Control Enhancements</span></span>](#0.2__Toc253429270 "_Toc253429270")  
[<span data-ttu-id="61cac-138">Aprimoramentos no controle CheckBoxList e RadioButtonList</span><span class="sxs-lookup"><span data-stu-id="61cac-138">CheckBoxList and RadioButtonList Control Enhancements</span></span>](#0.2__Toc253429271 "_Toc253429271")  
[<span data-ttu-id="61cac-139">Aprimoramentos de controle de menu</span><span class="sxs-lookup"><span data-stu-id="61cac-139">Menu Control Improvements</span></span>](#0.2__Toc253429272 "_Toc253429272")  
[<span data-ttu-id="61cac-140">Assistente e controles CreateUserWizard 56</span><span class="sxs-lookup"><span data-stu-id="61cac-140">Wizard and CreateUserWizard Controls 56</span></span>](#0.2__Toc253429273 "_Toc253429273")

<span data-ttu-id="61cac-141">**[ASP.NET MVC](#0.2__Toc253429274 "_Toc253429274")**</span><span class="sxs-lookup"><span data-stu-id="61cac-141">**[ASP.NET MVC](#0.2__Toc253429274 "_Toc253429274")**</span></span>  
[<span data-ttu-id="61cac-142">Suporte a áreas</span><span class="sxs-lookup"><span data-stu-id="61cac-142">Areas Support</span></span>](#0.2__Toc253429275 "_Toc253429275")  
[<span data-ttu-id="61cac-143">Suporte à validação de atributo de anotação de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-143">Data-Annotation Attribute Validation Support</span></span>](#0.2__Toc253429276 "_Toc253429276")  
[<span data-ttu-id="61cac-144">Auxiliares modelados</span><span class="sxs-lookup"><span data-stu-id="61cac-144">Templated Helpers</span></span>](#0.2__Toc253429277 "_Toc253429277")

<span data-ttu-id="61cac-145">**[Dados Dinâmicos](#0.2__Toc253429278 "_Toc253429278")**</span><span class="sxs-lookup"><span data-stu-id="61cac-145">**[Dynamic Data](#0.2__Toc253429278 "_Toc253429278")**</span></span>  
[<span data-ttu-id="61cac-146">Habilitando Dados Dinâmicos para projetos existentes</span><span class="sxs-lookup"><span data-stu-id="61cac-146">Enabling Dynamic Data for Existing Projects</span></span>](#0.2__Toc253429279 "_Toc253429279")  
[<span data-ttu-id="61cac-147">Sintaxe de controle declarativo DynamicDataManager</span><span class="sxs-lookup"><span data-stu-id="61cac-147">Declarative DynamicDataManager Control Syntax</span></span>](#0.2__Toc253429280 "_Toc253429280")  
[<span data-ttu-id="61cac-148">Modelos de entidade</span><span class="sxs-lookup"><span data-stu-id="61cac-148">Entity Templates</span></span>](#0.2__Toc253429281 "_Toc253429281")  
[<span data-ttu-id="61cac-149">Novos modelos de campo para URLs e endereços de email</span><span class="sxs-lookup"><span data-stu-id="61cac-149">New Field Templates for URLs and E-mail Addresses</span></span>](#0.2__Toc253429282 "_Toc253429282")  
[<span data-ttu-id="61cac-150">Criando links com o controle DynamicHyperLink</span><span class="sxs-lookup"><span data-stu-id="61cac-150">Creating Links with the DynamicHyperLink Control</span></span>](#0.2__Toc253429283 "_Toc253429283")  
[<span data-ttu-id="61cac-151">Suporte para herança no modelo de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-151">Support for Inheritance in the Data Model</span></span>](#0.2__Toc253429284 "_Toc253429284")  
[<span data-ttu-id="61cac-152">Suporte para relações muitos para muitos (somente Entity Framework)</span><span class="sxs-lookup"><span data-stu-id="61cac-152">Support for Many-to-Many Relationships (Entity Framework Only)</span></span>](#0.2__Toc253429285 "_Toc253429285")  
[<span data-ttu-id="61cac-153">Novos atributos para controlar as enumerações de exibição e suporte</span><span class="sxs-lookup"><span data-stu-id="61cac-153">New Attributes to Control Display and Support Enumerations</span></span>](#0.2__Toc253429286 "_Toc253429286")  
[<span data-ttu-id="61cac-154">Suporte aprimorado para filtros</span><span class="sxs-lookup"><span data-stu-id="61cac-154">Enhanced Support for Filters</span></span>](#0.2__Toc253429287 "_Toc253429287")

<span data-ttu-id="61cac-155">**[Aprimoramentos no desenvolvimento para a Web do Visual Studio 2010](#0.2__Toc253429288 "_Toc253429288")**</span><span class="sxs-lookup"><span data-stu-id="61cac-155">**[Visual Studio 2010 Web Development Improvements](#0.2__Toc253429288 "_Toc253429288")**</span></span>  
[<span data-ttu-id="61cac-156">Compatibilidade com CSS aprimorada</span><span class="sxs-lookup"><span data-stu-id="61cac-156">Improved CSS Compatibility</span></span>](#0.2__Toc253429289 "_Toc253429289")  
[<span data-ttu-id="61cac-157">Trechos de código HTML e JavaScript</span><span class="sxs-lookup"><span data-stu-id="61cac-157">HTML and JavaScript Snippets</span></span>](#0.2__Toc253429290 "_Toc253429290")  
[<span data-ttu-id="61cac-158">Aprimoramentos de IntelliSense do JavaScript</span><span class="sxs-lookup"><span data-stu-id="61cac-158">JavaScript IntelliSense Enhancements</span></span>](#0.2__Toc253429291 "_Toc253429291")

<span data-ttu-id="61cac-159">**[Implantação de aplicativo Web com o Visual Studio 2010](#0.2__Toc253429292 "_Toc253429292")**</span><span class="sxs-lookup"><span data-stu-id="61cac-159">**[Web Application Deployment with Visual Studio 2010](#0.2__Toc253429292 "_Toc253429292")**</span></span>  
[<span data-ttu-id="61cac-160">Empacotamento da Web</span><span class="sxs-lookup"><span data-stu-id="61cac-160">Web Packaging</span></span>](#0.2__Toc253429293 "_Toc253429293")  
[<span data-ttu-id="61cac-161">Transformação de Web. config</span><span class="sxs-lookup"><span data-stu-id="61cac-161">Web.config Transformation</span></span>](#0.2__Toc253429294 "_Toc253429294")  
[<span data-ttu-id="61cac-162">Implantação de banco de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-162">Database Deployment</span></span>](#0.2__Toc253429295 "_Toc253429295")  
[<span data-ttu-id="61cac-163">Publicação com um clique para aplicativos Web</span><span class="sxs-lookup"><span data-stu-id="61cac-163">One-Click Publish for Web Applications</span></span>](#0.2__Toc253429296 "_Toc253429296")  
[<span data-ttu-id="61cac-164">Recursos</span><span class="sxs-lookup"><span data-stu-id="61cac-164">Resources</span></span>](#0.2__Toc253429297 "_Toc253429297")

<span data-ttu-id="61cac-165">**[Enção](#0.2__Toc253429298 "_Toc253429298")**</span><span class="sxs-lookup"><span data-stu-id="61cac-165">**[Disclaimer](#0.2__Toc253429298 "_Toc253429298")**</span></span>

<a id="0.2__Toc224729018"></a><a id="0.2__Toc253429238"></a><a id="0.2__Toc243304612"></a>

## <a name="core-services"></a><span data-ttu-id="61cac-166">Serviços principais</span><span class="sxs-lookup"><span data-stu-id="61cac-166">Core Services</span></span>

<span data-ttu-id="61cac-167">O ASP.NET 4 introduz uma série de recursos que melhoram os principais serviços ASP.NETs, como cache de saída e armazenamento de estado de sessão.</span><span class="sxs-lookup"><span data-stu-id="61cac-167">ASP.NET 4 introduces a number of features that improve core ASP.NET services such as output caching and session-state storage.</span></span>

<a id="0.2__Toc243304613"></a><a id="0.2__Toc253429239"></a><a id="0.2__Toc224729019"></a>

### <a name="webconfig-file-refactoring"></a><span data-ttu-id="61cac-168">Refatoração de arquivo Web. config</span><span class="sxs-lookup"><span data-stu-id="61cac-168">Web.config File Refactoring</span></span>

<span data-ttu-id="61cac-169">O arquivo de `Web.config` que contém a configuração de um aplicativo Web cresceu consideravelmente nas últimas versões do .NET Framework à medida que novos recursos foram adicionados, como AJAX, roteamento e integração com o IIS 7.</span><span class="sxs-lookup"><span data-stu-id="61cac-169">The `Web.config` file that contains the configuration for a Web application has grown considerably over the past few releases of the .NET Framework as new features have been added, such as Ajax, routing, and integration with IIS 7.</span></span> <span data-ttu-id="61cac-170">Isso dificultou a configuração ou a inicialização de novos aplicativos Web sem uma ferramenta como o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="61cac-170">This has made it harder to configure or start new Web applications without a tool like Visual Studio.</span></span> <span data-ttu-id="61cac-171">No. o .NET Framework 4, os principais elementos de configuração foram movidos para o arquivo de `machine.config`, e os aplicativos agora herdam essas configurações.</span><span class="sxs-lookup"><span data-stu-id="61cac-171">In .the NET Framework 4, the major configuration elements have been moved to the `machine.config` file, and applications now inherit these settings.</span></span> <span data-ttu-id="61cac-172">Isso permite que o arquivo de `Web.config` nos aplicativos ASP.NET 4 seja vazio ou contenha apenas as linhas a seguir, que especificam para o Visual Studio qual versão do Framework o aplicativo está direcionando:</span><span class="sxs-lookup"><span data-stu-id="61cac-172">This allows the `Web.config` file in ASP.NET 4 applications either to be empty or to contain just the following lines, which specify for Visual Studio what version of the framework the application is targeting:</span></span>

[!code-xml[Main](overview/samples/sample1.xml)]

<a id="0.2__Toc253429240"></a><a id="0.2__Toc243304614"></a>

### <a name="extensible-output-caching"></a><span data-ttu-id="61cac-173">Cache de saída extensível</span><span class="sxs-lookup"><span data-stu-id="61cac-173">Extensible Output Caching</span></span>

<span data-ttu-id="61cac-174">Desde o lançamento do ASP.NET 1,0, o cache de saída permitiu que os desenvolvedores armazenassem a saída gerada de páginas, controles e respostas HTTP na memória.</span><span class="sxs-lookup"><span data-stu-id="61cac-174">Since the time that ASP.NET 1.0 was released, output caching has enabled developers to store the generated output of pages, controls, and HTTP responses in memory.</span></span> <span data-ttu-id="61cac-175">Em solicitações da Web subsequentes, o ASP.NET pode fornecer conteúdo mais rapidamente recuperando a saída gerada da memória em vez de regenerar a saída do zero.</span><span class="sxs-lookup"><span data-stu-id="61cac-175">On subsequent Web requests, ASP.NET can serve content more quickly by retrieving the generated output from memory instead of regenerating the output from scratch.</span></span> <span data-ttu-id="61cac-176">No entanto, essa abordagem tem uma limitação — o conteúdo gerado sempre precisa ser armazenado na memória e, em servidores que estão apresentando tráfego pesado, a memória consumida pelo cache de saída pode competir com demandas de memória de outras partes de um aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-176">However, this approach has a limitation — generated content always has to be stored in memory, and on servers that are experiencing heavy traffic, the memory consumed by output caching can compete with memory demands from other portions of a Web application.</span></span>

<span data-ttu-id="61cac-177">O ASP.NET 4 adiciona um ponto de extensibilidade ao cache de saída que permite configurar um ou mais provedores de cache de saída personalizados.</span><span class="sxs-lookup"><span data-stu-id="61cac-177">ASP.NET 4 adds an extensibility point to output caching that enables you to configure one or more custom output-cache providers.</span></span> <span data-ttu-id="61cac-178">Provedores de cache de saída podem usar qualquer mecanismo de armazenamento para manter o conteúdo HTML.</span><span class="sxs-lookup"><span data-stu-id="61cac-178">Output-cache providers can use any storage mechanism to persist HTML content.</span></span> <span data-ttu-id="61cac-179">Isso possibilita criar provedores de cache de saída personalizados para diferentes mecanismos de persistência, que podem incluir discos locais ou remotos, armazenamento em nuvem e mecanismos de cache distribuído.</span><span class="sxs-lookup"><span data-stu-id="61cac-179">This makes it possible to create custom output-cache providers for diverse persistence mechanisms, which can include local or remote disks, cloud storage, and distributed cache engines.</span></span>

<span data-ttu-id="61cac-180">Você cria um provedor de cache de saída personalizado como uma classe derivada do novo tipo *System. Web. Caching. OutputCacheProvider* .</span><span class="sxs-lookup"><span data-stu-id="61cac-180">You create a custom output-cache provider as a class that derives from the new *System.Web.Caching.OutputCacheProvider* type.</span></span> <span data-ttu-id="61cac-181">Em seguida, você pode configurar o provedor no arquivo `Web.config` usando a subseção novos *provedores* do elemento *OutputCache* , conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-181">You can then configure the provider in the `Web.config` file by using the new *providers* subsection of the *outputCache* element, as shown in the following example:</span></span>

[!code-xml[Main](overview/samples/sample2.xml)]

<span data-ttu-id="61cac-182">Por padrão, no ASP.NET 4, todas as respostas HTTP, páginas renderizadas e controles usam o cache de saída na memória, conforme mostrado no exemplo anterior, em que o atributo *Defaultfornecetor* está definido como AspNetInternalProvider.</span><span class="sxs-lookup"><span data-stu-id="61cac-182">By default in ASP.NET 4, all HTTP responses, rendered pages, and controls use the in-memory output cache, as shown in the previous example, where the *defaultProvider* attribute is set to AspNetInternalProvider.</span></span> <span data-ttu-id="61cac-183">Você pode alterar o provedor de cache de saída padrão usado para um aplicativo Web especificando um nome de provedor diferente para *DefaultProvider*.</span><span class="sxs-lookup"><span data-stu-id="61cac-183">You can change the default output-cache provider used for a Web application by specifying a different provider name for *defaultProvider*.</span></span>

<span data-ttu-id="61cac-184">Além disso, você pode selecionar diferentes provedores de cache de saída por controle e por solicitação.</span><span class="sxs-lookup"><span data-stu-id="61cac-184">In addition, you can select different output-cache providers per control and per request.</span></span> <span data-ttu-id="61cac-185">A maneira mais fácil de escolher um provedor de cache de saída diferente para diferentes controles de usuário da Web é fazer isso de forma declarativa usando o novo atributo *ProviderName* em uma diretiva de controle, conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-185">The easiest way to choose a different output-cache provider for different Web user controls is to do so declaratively by using the new *providerName* attribute in a control directive, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample3.aspx)]

<span data-ttu-id="61cac-186">A especificação de um provedor de cache de saída diferente para uma solicitação HTTP requer um pouco mais de trabalho.</span><span class="sxs-lookup"><span data-stu-id="61cac-186">Specifying a different output cache provider for an HTTP request requires a little more work.</span></span> <span data-ttu-id="61cac-187">Em vez de especificar declarativamente o provedor, você substitui o novo método *GetOuputCacheProviderName* no arquivo `Global.asax` para especificar programaticamente qual provedor usar para uma solicitação específica.</span><span class="sxs-lookup"><span data-stu-id="61cac-187">Instead of declaratively specifying the provider, you override the new *GetOuputCacheProviderName* method in the `Global.asax` file to programmatically specify which provider to use for a specific request.</span></span> <span data-ttu-id="61cac-188">O exemplo a seguir mostra como fazer isso.</span><span class="sxs-lookup"><span data-stu-id="61cac-188">The following example shows how to do this.</span></span>

[!code-csharp[Main](overview/samples/sample4.cs)]

<span data-ttu-id="61cac-189">Com a adição da extensibilidade do provedor de cache de saída ao ASP.NET 4, agora você pode buscar estratégias de cache de saída mais agressivas e inteligentes para seus sites.</span><span class="sxs-lookup"><span data-stu-id="61cac-189">With the addition of output-cache provider extensibility to ASP.NET 4, you can now pursue more aggressive and more intelligent output-caching strategies for your Web sites.</span></span> <span data-ttu-id="61cac-190">Por exemplo, agora é possível armazenar em cache as páginas "10 principais" de um site na memória, ao mesmo tempo em que armazena em cache as páginas que obtêm o tráfego inferior em disco.</span><span class="sxs-lookup"><span data-stu-id="61cac-190">For example, it is now possible to cache the "Top 10" pages of a site in memory, while caching pages that get lower traffic on disk.</span></span> <span data-ttu-id="61cac-191">Como alternativa, você pode armazenar em cache todas as combinações variadas para uma página renderizada, mas usar um cache distribuído para que o consumo de memória seja descarregado dos servidores Web front-end.</span><span class="sxs-lookup"><span data-stu-id="61cac-191">Alternatively, you can cache every vary-by combination for a rendered page, but use a distributed cache so that the memory consumption is offloaded from front-end Web servers.</span></span>

<a id="0.2__Toc224729020"></a><a id="0.2__Toc253429241"></a><a id="0.2__Toc243304615"></a>

### <a name="auto-start-web-applications"></a><span data-ttu-id="61cac-192">Aplicativos Web de início automático</span><span class="sxs-lookup"><span data-stu-id="61cac-192">Auto-Start Web Applications</span></span>

<span data-ttu-id="61cac-193">Alguns aplicativos Web precisam carregar grandes quantidades de dados ou executar um processamento de inicialização caro antes de atender à primeira solicitação.</span><span class="sxs-lookup"><span data-stu-id="61cac-193">Some Web applications need to load large amounts of data or perform expensive initialization processing before serving the first request.</span></span> <span data-ttu-id="61cac-194">Em versões anteriores do ASP.NET, para essas situações, era necessário planejar abordagens personalizadas para "acordar" um aplicativo ASP.NET e, em seguida, executar o código de inicialização durante o método de *carregamento do aplicativo\_* no arquivo de `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="61cac-194">In earlier versions of ASP.NET, for these situations you had to devise custom approaches to "wake up" an ASP.NET application and then run initialization code during the *Application\_Load* method in the `Global.asax` file.</span></span>

<span data-ttu-id="61cac-195">Um novo recurso de escalabilidade denominado *início automático* que endereça diretamente esse cenário está disponível quando o ASP.NET 4 é executado no IIS 7,5 no Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="61cac-195">A new scalability feature named *auto-start* that directly addresses this scenario is available when ASP.NET 4 runs on IIS 7.5 on Windows Server 2008 R2.</span></span> <span data-ttu-id="61cac-196">O recurso de início automático fornece uma abordagem controlada para iniciar um pool de aplicativos, inicializar um aplicativo ASP.NET e, em seguida, aceitar solicitações HTTP.</span><span class="sxs-lookup"><span data-stu-id="61cac-196">The auto-start feature provides a controlled approach for starting up an application pool, initializing an ASP.NET application, and then accepting HTTP requests.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="61cac-197">Módulo de aquecimento do aplicativo IIS para o IIS 7,5</span><span class="sxs-lookup"><span data-stu-id="61cac-197">IIS Application Warm-Up Module for IIS 7.5</span></span>
> 
> <span data-ttu-id="61cac-198">A equipe do IIS lançou a primeira versão de teste beta do módulo de aquecimento do aplicativo para o IIS 7,5.</span><span class="sxs-lookup"><span data-stu-id="61cac-198">The IIS team has released the first beta test version of the Application Warm-Up Module for IIS 7.5.</span></span> <span data-ttu-id="61cac-199">Isso torna o aquecimento de seus aplicativos ainda mais fácil do que o descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="61cac-199">This makes warming up your applications even easier than previously described.</span></span> <span data-ttu-id="61cac-200">Em vez de escrever código personalizado, você especifica as URLs de recursos a serem executados antes que o aplicativo Web aceite solicitações da rede.</span><span class="sxs-lookup"><span data-stu-id="61cac-200">Instead of writing custom code, you specify the URLs of resources to execute before the Web application accepts requests from the network.</span></span> <span data-ttu-id="61cac-201">Esse aquecimento ocorre durante a inicialização do serviço IIS (se você configurou o pool de aplicativos do IIS como *AlwaysRunning*) e quando um processo de trabalho do IIS é reciclado.</span><span class="sxs-lookup"><span data-stu-id="61cac-201">This warm-up occurs during startup of the IIS service (if you configured the IIS application pool as *AlwaysRunning*) and when an IIS worker process recycles.</span></span> <span data-ttu-id="61cac-202">Durante a reciclagem, o antigo processo de trabalho do IIS continua a executar solicitações até que o processo de trabalho recém-criado seja totalmente executado, de forma que os aplicativos não tenham interrupções ou outros problemas devido a caches não-primos.</span><span class="sxs-lookup"><span data-stu-id="61cac-202">During recycle, the old IIS worker process continues to execute requests until the newly spawned worker process is fully warmed up, so that applications experience no interruptions or other issues due to unprimed caches.</span></span> <span data-ttu-id="61cac-203">Observe que esse módulo funciona com qualquer versão do ASP.NET, começando com a versão 2,0.</span><span class="sxs-lookup"><span data-stu-id="61cac-203">Note that this module works with any version of ASP.NET, starting with version 2.0.</span></span>
> 
> <span data-ttu-id="61cac-204">Para obter mais informações, consulte [aquecimento do aplicativo](https://www.iis.net/extensions/applicationwarmup%20on%20the%20IIS.net) no site da IIS.net.</span><span class="sxs-lookup"><span data-stu-id="61cac-204">For more information, see [Application Warm-Up](https://www.iis.net/extensions/applicationwarmup%20on%20the%20IIS.net) on the IIS.net Web site.</span></span> <span data-ttu-id="61cac-205">Para obter instruções que ilustram como usar o recurso de aquecimento, consulte [introdução com o módulo de aquecimento do aplicativo IIS 7,5](https://www.iis.net/learn/manage) no site do IIS.net.</span><span class="sxs-lookup"><span data-stu-id="61cac-205">For a walkthrough that illustrates how to use the warm-up feature, see [Getting Started with the IIS 7.5 Application Warm-Up Module](https://www.iis.net/learn/manage) on the IIS.net Web site.</span></span>

<span data-ttu-id="61cac-206">Para usar o recurso de início automático, um administrador do IIS define um pool de aplicativos no IIS 7,5 para ser iniciado automaticamente usando a seguinte configuração no arquivo de `applicationHost.config`:</span><span class="sxs-lookup"><span data-stu-id="61cac-206">To use the auto-start feature, an IIS administrator sets an application pool in IIS 7.5 to be automatically started by using the following configuration in the `applicationHost.config` file:</span></span>

[!code-xml[Main](overview/samples/sample5.xml)]

<span data-ttu-id="61cac-207">Como um único pool de aplicativos pode conter vários aplicativos, você especifica que aplicativos individuais serão iniciados automaticamente usando a seguinte configuração no arquivo de `applicationHost.config`:</span><span class="sxs-lookup"><span data-stu-id="61cac-207">Because a single application pool can contain multiple applications, you specify individual applications to be automatically started by using the following configuration in the `applicationHost.config` file:</span></span>

[!code-xml[Main](overview/samples/sample6.xml)]

<span data-ttu-id="61cac-208">Quando um servidor IIS 7,5 é iniciado por frio ou quando um pool de aplicativos individual é reciclado, o IIS 7,5 usa as informações no arquivo `applicationHost.config` para determinar quais aplicativos Web precisam ser iniciados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="61cac-208">When an IIS 7.5 server is cold-started or when an individual application pool is recycled, IIS 7.5 uses the information in the `applicationHost.config` file to determine which Web applications need to be automatically started.</span></span> <span data-ttu-id="61cac-209">Para cada aplicativo marcado para inicialização automática, o IIS 7.5 envia uma solicitação para ASP.NET 4 para iniciar o aplicativo em um estado durante o qual o aplicativo temporariamente não aceita solicitações HTTP.</span><span class="sxs-lookup"><span data-stu-id="61cac-209">For each application that is marked for auto-start, IIS7.5 sends a request to ASP.NET 4 to start the application in a state during which the application temporarily does not accept HTTP requests.</span></span> <span data-ttu-id="61cac-210">Quando está nesse estado, ASP.NET instancia o tipo definido pelo atributo *serviceAutoStartProvider* (como mostrado no exemplo anterior) e chama seu ponto de entrada público.</span><span class="sxs-lookup"><span data-stu-id="61cac-210">When it is in this state, ASP.NET instantiates the type defined by the *serviceAutoStartProvider* attribute (as shown in the previous example) and calls into its public entry point.</span></span>

<span data-ttu-id="61cac-211">Você cria um tipo de início automático gerenciado com o ponto de entrada necessário implementando a interface *IProcessHostPreloadClient* , conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-211">You create a managed auto-start type with the necessary entry point by implementing the *IProcessHostPreloadClient* interface, as shown in the following example:</span></span>

[!code-csharp[Main](overview/samples/sample7.cs)]

<span data-ttu-id="61cac-212">Depois que o código de inicialização é executado no método *Preload* e o método retorna, o aplicativo ASP.net está pronto para processar solicitações.</span><span class="sxs-lookup"><span data-stu-id="61cac-212">After your initialization code runs in the *Preload* method and the method returns, the ASP.NET application is ready to process requests.</span></span>

<span data-ttu-id="61cac-213">Com a adição de início automático ao IIS 0,5 e ASP.NET 4, agora você tem uma abordagem bem definida para realizar uma inicialização de aplicativo dispendiosa antes de processar a primeira solicitação HTTP.</span><span class="sxs-lookup"><span data-stu-id="61cac-213">With the addition of auto-start to IIS .5 and ASP.NET 4, you now have a well-defined approach for performing expensive application initialization prior to processing the first HTTP request.</span></span> <span data-ttu-id="61cac-214">Por exemplo, você pode usar o novo recurso de início automático para inicializar um aplicativo e, em seguida, sinalizar um balanceador de carga que o aplicativo foi inicializado e pronto para aceitar o tráfego HTTP.</span><span class="sxs-lookup"><span data-stu-id="61cac-214">For example, you can use the new auto-start feature to initialize an application and then signal a load-balancer that the application was initialized and ready to accept HTTP traffic.</span></span>

<a id="0.2__Toc224729021"></a><a id="0.2__Toc253429242"></a><a id="0.2__Toc243304616"></a>

### <a name="permanently-redirecting-a-page"></a><span data-ttu-id="61cac-215">Redirecionando permanentemente uma página</span><span class="sxs-lookup"><span data-stu-id="61cac-215">Permanently Redirecting a Page</span></span>

<span data-ttu-id="61cac-216">É uma prática comum em aplicativos Web mover páginas e outros conteúdos ao longo do tempo, o que pode levar a uma acumulação de links obsoletos nos mecanismos de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="61cac-216">It is common practice in Web applications to move pages and other content around over time, which can lead to an accumulation of stale links in search engines.</span></span> <span data-ttu-id="61cac-217">No ASP.NET, os desenvolvedores costumavam lidar com solicitações para URLs antigas usando o método *Response. reredirect* para encaminhar uma solicitação para a nova URL.</span><span class="sxs-lookup"><span data-stu-id="61cac-217">In ASP.NET, developers have traditionally handled requests to old URLs by using by using the *Response.Redirect* method to forward a request to the new URL.</span></span> <span data-ttu-id="61cac-218">No entanto, o método de *redirecionamento* emite uma resposta HTTP 302 encontrada (redirecionamento temporário), o que resulta em uma viagem de ida e volta http extra quando os usuários tentam acessar as URLs antigas.</span><span class="sxs-lookup"><span data-stu-id="61cac-218">However, the *Redirect* method issues an HTTP 302 Found (temporary redirect) response, which results in an extra HTTP round trip when users attempt to access the old URLs.</span></span>

<span data-ttu-id="61cac-219">O ASP.NET 4 adiciona um novo método auxiliar *RedirectPermanent* que torna mais fácil emitir respostas HTTP 301 movidas permanentemente, como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-219">ASP.NET 4 adds a new *RedirectPermanent* helper method that makes it easy to issue HTTP 301 Moved Permanently responses, as in the following example:</span></span>

[!code-csharp[Main](overview/samples/sample8.cs)]

<span data-ttu-id="61cac-220">Os mecanismos de pesquisa e outros agentes de usuário que reconhecem redirecionamentos permanentes armazenarão a nova URL associada ao conteúdo, o que elimina a viagem de ida e volta desnecessária feita pelo navegador para redirecionamentos temporários.</span><span class="sxs-lookup"><span data-stu-id="61cac-220">Search engines and other user agents that recognize permanent redirects will store the new URL that is associated with the content, which eliminates the unnecessary round trip made by the browser for temporary redirects.</span></span>

<a id="0.2__Toc224729022"></a><a id="0.2__Toc253429243"></a><a id="0.2__Toc243304617"></a>

### <a name="shrinking-session-state"></a><span data-ttu-id="61cac-221">Reduzindo o estado da sessão</span><span class="sxs-lookup"><span data-stu-id="61cac-221">Shrinking Session State</span></span>

<span data-ttu-id="61cac-222">O ASP.NET fornece duas opções padrão para armazenar o estado de sessão em um Web farm: um provedor de estado de sessão que invoca um servidor de estado de sessão fora do processo e um provedor de estado de sessão que armazena dados em um banco de Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="61cac-222">ASP.NET provides two default options for storing session state across a Web farm: a session-state provider that invokes an out-of-process session-state server, and a session-state provider that stores data in a Microsoft SQL Server database.</span></span> <span data-ttu-id="61cac-223">Como as duas opções envolvem o armazenamento de informações de estado fora do processo de trabalho de um aplicativo Web, o estado da sessão deve ser serializado antes de ser enviado para o armazenamento remoto.</span><span class="sxs-lookup"><span data-stu-id="61cac-223">Because both options involve storing state information outside a Web application's worker process, session state has to be serialized before it is sent to remote storage.</span></span> <span data-ttu-id="61cac-224">Dependendo da quantidade de informações que um desenvolvedor salva no estado da sessão, o tamanho dos dados serializados pode crescer muito grande.</span><span class="sxs-lookup"><span data-stu-id="61cac-224">Depending on how much information a developer saves in session state, the size of the serialized data can grow quite large.</span></span>

<span data-ttu-id="61cac-225">O ASP.NET 4 introduz uma nova opção de compactação para os dois tipos de provedores de estado de sessão fora do processo.</span><span class="sxs-lookup"><span data-stu-id="61cac-225">ASP.NET 4 introduces a new compression option for both kinds of out-of-process session-state providers.</span></span> <span data-ttu-id="61cac-226">Quando a opção de configuração *CompressionEnabled* mostrada no exemplo a seguir for definida como *true*, o ASP.net compactará (e descompactar) o estado de sessão serializado usando a classe .NET Framework *System. IO. Compression. GZipStream* .</span><span class="sxs-lookup"><span data-stu-id="61cac-226">When the *compressionEnabled* configuration option shown in the following example is set to *true*, ASP.NET will compress (and decompress) serialized session state by using the .NET Framework *System.IO.Compression.GZipStream* class.</span></span>

[!code-xml[Main](overview/samples/sample9.xml)]

<span data-ttu-id="61cac-227">Com a adição simples do novo atributo ao arquivo de `Web.config`, os aplicativos com ciclos de CPU sobressalentes em servidores Web podem obter reduções substanciais no tamanho dos dados serializados de estado da sessão.</span><span class="sxs-lookup"><span data-stu-id="61cac-227">With the simple addition of the new attribute to the `Web.config` file, applications with spare CPU cycles on Web servers can realize substantial reductions in the size of serialized session-state data.</span></span>

<a id="0.2__Toc253429244"></a><a id="0.2__Toc243304618"></a>

### <a name="expanding-the-range-of-allowable-urls"></a><span data-ttu-id="61cac-228">Expandindo o intervalo de URLs permitidas</span><span class="sxs-lookup"><span data-stu-id="61cac-228">Expanding the Range of Allowable URLs</span></span>

<span data-ttu-id="61cac-229">O ASP.NET 4 introduz novas opções para expandir o tamanho das URLs de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-229">ASP.NET 4 introduces new options for expanding the size of application URLs.</span></span> <span data-ttu-id="61cac-230">As versões anteriores do caminho da URL restrita de ASP.NET para 260 caracteres, com base no limite de caminho de arquivo NTFS.</span><span class="sxs-lookup"><span data-stu-id="61cac-230">Previous versions of ASP.NET constrained URL path lengths to 260 characters, based on the NTFS file-path limit.</span></span> <span data-ttu-id="61cac-231">No ASP.NET 4, você tem a opção de aumentar (ou diminuir) esse limite conforme apropriado para seus aplicativos, usando dois novos atributos de configuração de *httpRuntime* .</span><span class="sxs-lookup"><span data-stu-id="61cac-231">In ASP.NET 4, you have the option to increase (or decrease) this limit as appropriate for your applications, using two new *httpRuntime* configuration attributes.</span></span> <span data-ttu-id="61cac-232">O exemplo a seguir mostra esses novos atributos.</span><span class="sxs-lookup"><span data-stu-id="61cac-232">The following example shows these new attributes.</span></span>

[!code-xml[Main](overview/samples/sample10.xml)]

<span data-ttu-id="61cac-233">Para permitir caminhos mais longos ou menores (a parte da URL que não inclui o protocolo, o nome do servidor e a cadeia de caracteres de consulta), modifique o atributo *[maxUrlLength](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.maxurllength.aspx)* .</span><span class="sxs-lookup"><span data-stu-id="61cac-233">To allow longer or shorter paths (the portion of the URL that does not include protocol, server name, and query string), modify the *[maxUrlLength](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.maxurllength.aspx)* attribute.</span></span> <span data-ttu-id="61cac-234">Para permitir cadeias de caracteres de consulta mais longas ou mais curtas, modifique o valor do atributo *[MaxQueryStringLength](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.maxquerystringlength.aspx)* .</span><span class="sxs-lookup"><span data-stu-id="61cac-234">To allow longer or shorter query strings, modify the value of the *[maxQueryStringLength](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.maxquerystringlength.aspx)* attribute.</span></span>

<span data-ttu-id="61cac-235">O ASP.NET 4 também permite que você configure os caracteres que são usados pela verificação de caractere de URL.</span><span class="sxs-lookup"><span data-stu-id="61cac-235">ASP.NET 4 also enables you to configure the characters that are used by the URL character check.</span></span> <span data-ttu-id="61cac-236">Quando o ASP.NET encontra um caractere inválido na parte do caminho de uma URL, ele rejeita a solicitação e emite um erro HTTP 400.</span><span class="sxs-lookup"><span data-stu-id="61cac-236">When ASP.NET finds an invalid character in the path portion of a URL, it rejects the request and issues an HTTP 400 error.</span></span> <span data-ttu-id="61cac-237">Nas versões anteriores do ASP.NET, as verificações de caracteres de URL eram limitadas a um conjunto fixo de caracteres.</span><span class="sxs-lookup"><span data-stu-id="61cac-237">In previous versions of ASP.NET, the URL character checks were limited to a fixed set of characters.</span></span> <span data-ttu-id="61cac-238">No ASP.NET 4, você pode personalizar o conjunto de caracteres válidos usando o novo atributo *RequestPathInvalidCharacters* do elemento de configuração *httpRuntime* , conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-238">In ASP.NET 4, you can customize the set of valid characters using the new *requestPathInvalidCharacters* attribute of the *httpRuntime* configuration element, as shown in the following example:</span></span>

[!code-xml[Main](overview/samples/sample11.xml)]

<span data-ttu-id="61cac-239">Por padrão, o atributo *RequestPathInvalidCharacters* define oito caracteres como inválidos.</span><span class="sxs-lookup"><span data-stu-id="61cac-239">By default, the *requestPathInvalidCharacters* attribute defines eight characters as invalid.</span></span> <span data-ttu-id="61cac-240">(Na cadeia de caracteres atribuída a *RequestPathInvalidCharacters* por padrão, os caracteres menor que (&lt;), maior que (&gt;) e e comercial (&amp;) são codificados, pois o arquivo de `Web.config` é um arquivo XML.) Você pode personalizar o conjunto de caracteres inválidos conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="61cac-240">(In the string that is assigned to *requestPathInvalidCharacters* by default, the less than (&lt;), greater than (&gt;), and ampersand (&amp;) characters are encoded, because the `Web.config` file is an XML file.) You can customize the set of invalid characters as needed.</span></span>

> [!NOTE]
> <span data-ttu-id="61cac-241">Observação ASP.NET 4 sempre rejeita caminhos de URL que contêm caracteres no intervalo ASCII de 0x00 a 0x1F, pois eles são caracteres de URL inválidos, conforme definido no RFC 2396 da IETF ([http://www.ietf.org/rfc/rfc2396.txt](http://www.ietf.org/rfc/rfc2396.txt)).</span><span class="sxs-lookup"><span data-stu-id="61cac-241">Note ASP.NET 4 always rejects URL paths that contain characters in the ASCII range of 0x00 to 0x1F, because those are invalid URL characters as defined in RFC 2396 of the IETF ([http://www.ietf.org/rfc/rfc2396.txt](http://www.ietf.org/rfc/rfc2396.txt)).</span></span> <span data-ttu-id="61cac-242">Em versões do Windows Server que executam o IIS 6 ou superior, o driver de dispositivo do protocolo http. sys rejeita automaticamente as URLs com esses caracteres.</span><span class="sxs-lookup"><span data-stu-id="61cac-242">On versions of Windows Server that run IIS 6 or higher, the http.sys protocol device driver automatically rejects URLs with these characters.</span></span>

<a id="0.2__Toc253429245"></a><a id="0.2__Toc243304619"></a>

### <a name="extensible-request-validation"></a><span data-ttu-id="61cac-243">Validação de solicitação extensível</span><span class="sxs-lookup"><span data-stu-id="61cac-243">Extensible Request Validation</span></span>

<span data-ttu-id="61cac-244">A validação de solicitação ASP.NET pesquisa dados de solicitação HTTP de entrada para cadeias de caracteres que são comumente usadas em ataques XSS (script entre sites).</span><span class="sxs-lookup"><span data-stu-id="61cac-244">ASP.NET request validation searches incoming HTTP request data for strings that are commonly used in cross-site scripting (XSS) attacks.</span></span> <span data-ttu-id="61cac-245">Se forem encontradas possíveis cadeias de erro de XSS, a validação da solicitação sinalizará a cadeia de caracteres suspeita e retornará um erro.</span><span class="sxs-lookup"><span data-stu-id="61cac-245">If potential XSS strings are found, request validation flags the suspect string and returns an error.</span></span> <span data-ttu-id="61cac-246">A validação de solicitação interna retorna um erro somente quando encontra as cadeias de caracteres mais comuns usadas em ataques XSS.</span><span class="sxs-lookup"><span data-stu-id="61cac-246">The built-in request validation returns an error only when it finds the most common strings used in XSS attacks.</span></span> <span data-ttu-id="61cac-247">As tentativas anteriores de tornar a validação de XSS mais agressiva resultaram em muitos falsos positivos.</span><span class="sxs-lookup"><span data-stu-id="61cac-247">Previous attempts to make the XSS validation more aggressive resulted in too many false positives.</span></span> <span data-ttu-id="61cac-248">No entanto, os clientes podem querer uma validação de solicitação mais agressiva ou, por outro lado, talvez queiram relaxar intencionalmente as verificações de XSS para páginas específicas ou para tipos específicos de solicitações.</span><span class="sxs-lookup"><span data-stu-id="61cac-248">However, customers might want request validation that is more aggressive, or conversely might want to intentionally relax XSS checks for specific pages or for specific types of requests.</span></span>

<span data-ttu-id="61cac-249">No ASP.NET 4, o recurso de validação de solicitação foi tornado extensível para que você possa usar a lógica de validação de solicitação personalizada.</span><span class="sxs-lookup"><span data-stu-id="61cac-249">In ASP.NET 4, the request validation feature has been made extensible so that you can use custom request-validation logic.</span></span> <span data-ttu-id="61cac-250">Para estender a validação de solicitação, você cria uma classe que deriva do novo tipo *System. Web. util. RequestValidator* e configura o aplicativo (na seção *httpRuntime* do arquivo `Web.config`) para usar o tipo personalizado.</span><span class="sxs-lookup"><span data-stu-id="61cac-250">To extend request validation, you create a class that derives from the new *System.Web.Util.RequestValidator* type, and you configure the application (in the *httpRuntime* section of the `Web.config` file) to use the custom type.</span></span> <span data-ttu-id="61cac-251">O exemplo a seguir mostra como configurar uma classe de validação de solicitação personalizada:</span><span class="sxs-lookup"><span data-stu-id="61cac-251">The following example shows how to configure a custom request-validation class:</span></span>

[!code-xml[Main](overview/samples/sample12.xml)]

<span data-ttu-id="61cac-252">O novo atributo *RequestValidationType* requer uma cadeia de caracteres de identificador de tipo de .NET Framework padrão que especifica a classe que fornece validação de solicitação personalizada.</span><span class="sxs-lookup"><span data-stu-id="61cac-252">The new *requestValidationType* attribute requires a standard .NET Framework type identifier string that specifies the class that provides custom request validation.</span></span> <span data-ttu-id="61cac-253">Para cada solicitação, ASP.NET invoca o tipo personalizado para processar cada parte dos dados de solicitação HTTP de entrada.</span><span class="sxs-lookup"><span data-stu-id="61cac-253">For each request, ASP.NET invokes the custom type to process each piece of incoming HTTP request data.</span></span> <span data-ttu-id="61cac-254">A URL de entrada, todos os cabeçalhos HTTP (cookies e cabeçalhos personalizados) e o corpo da entidade estão todos disponíveis para inspeção por uma classe de validação de solicitação personalizada como a mostrada no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-254">The incoming URL, all the HTTP headers (both cookies and custom headers), and the entity body are all available for inspection by a custom request validation class like that shown in the following example:</span></span>

[!code-csharp[Main](overview/samples/sample13.cs)]

<span data-ttu-id="61cac-255">Para casos em que você não deseja inspecionar uma parte dos dados HTTP de entrada, a classe de validação de solicitação pode retornar para permitir que a validação de solicitação padrão ASP.NET seja executada simplesmente chamando *base. IsValidRequestString.*</span><span class="sxs-lookup"><span data-stu-id="61cac-255">For cases where you do not want to inspect a piece of incoming HTTP data, the request-validation class can fall back to let the ASP.NET default request validation run by simply calling *base.IsValidRequestString.*</span></span>

<a id="0.2__Toc253429246"></a><a id="0.2__Toc243304620"></a>

### <a name="object-caching-and-object-caching-extensibility"></a><span data-ttu-id="61cac-256">Cache de objetos e extensibilidade de objetos de cache</span><span class="sxs-lookup"><span data-stu-id="61cac-256">Object Caching and Object Caching Extensibility</span></span>

<span data-ttu-id="61cac-257">Desde sua primeira versão, o ASP.NET incluiu um cache de objeto na memória poderoso (*System. Web. Caching. cache*).</span><span class="sxs-lookup"><span data-stu-id="61cac-257">Since its first release, ASP.NET has included a powerful in-memory object cache (*System.Web.Caching.Cache*).</span></span> <span data-ttu-id="61cac-258">A implementação do cache foi tão popular que foi usada em aplicativos que não são da Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-258">The cache implementation has been so popular that it has been used in non-Web applications.</span></span> <span data-ttu-id="61cac-259">No entanto, é estranho que um aplicativo Windows Forms ou WPF inclua uma referência a `System.Web.dll` apenas para poder usar o cache de objetos ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="61cac-259">However, it is awkward for a Windows Forms or WPF application to include a reference to `System.Web.dll` just to be able to use the ASP.NET object cache.</span></span>

<span data-ttu-id="61cac-260">Para disponibilizar o Caching para todos os aplicativos, o .NET Framework 4 introduz um novo assembly, um novo namespace, alguns tipos base e uma implementação de cache concreto.</span><span class="sxs-lookup"><span data-stu-id="61cac-260">To make caching available for all applications, the .NET Framework 4 introduces a new assembly, a new namespace, some base types, and a concrete caching implementation.</span></span> <span data-ttu-id="61cac-261">O novo assembly `System.Runtime.Caching.dll` contém uma nova API de cache no namespace *System. Runtime. Caching* .</span><span class="sxs-lookup"><span data-stu-id="61cac-261">The new `System.Runtime.Caching.dll` assembly contains a new caching API in the *System.Runtime.Caching* namespace.</span></span> <span data-ttu-id="61cac-262">O namespace contém dois conjuntos principais de classes:</span><span class="sxs-lookup"><span data-stu-id="61cac-262">The namespace contains two core sets of classes:</span></span>

- <span data-ttu-id="61cac-263">Tipos abstratos que fornecem a base para a criação de qualquer tipo de implementação de cache personalizado.</span><span class="sxs-lookup"><span data-stu-id="61cac-263">Abstract types that provide the foundation for building any type of custom cache implementation.</span></span>
- <span data-ttu-id="61cac-264">Uma implementação concreta do cache de objetos na memória (a classe *System. Runtime. Caching. MemoryCache* ).</span><span class="sxs-lookup"><span data-stu-id="61cac-264">A concrete in-memory object cache implementation (the *System.Runtime.Caching.MemoryCache* class).</span></span>

<span data-ttu-id="61cac-265">A nova classe *MemoryCache* é modelada com mais detalhes no cache ASP.net e compartilha grande parte da lógica do mecanismo de cache interno com o ASP.net.</span><span class="sxs-lookup"><span data-stu-id="61cac-265">The new *MemoryCache* class is modeled closely on the ASP.NET cache, and it shares much of the internal cache engine logic with ASP.NET.</span></span> <span data-ttu-id="61cac-266">Embora as APIs de cache público em *System. Runtime. Caching* tenham sido atualizadas para dar suporte ao desenvolvimento de caches personalizados, se você tiver usado o objeto de *cache* ASP.net, encontrará conceitos familiares nas novas APIs.</span><span class="sxs-lookup"><span data-stu-id="61cac-266">Although the public caching APIs in *System.Runtime.Caching* have been updated to support development of custom caches, if you have used the ASP.NET *Cache* object, you will find familiar concepts in the new APIs.</span></span>

<span data-ttu-id="61cac-267">Uma discussão detalhada da nova classe *MemoryCache* e das APIs base de suporte exigiria um documento inteiro.</span><span class="sxs-lookup"><span data-stu-id="61cac-267">An in-depth discussion of the new *MemoryCache* class and supporting base APIs would require an entire document.</span></span> <span data-ttu-id="61cac-268">No entanto, o exemplo a seguir lhe dá uma ideia de como funciona a nova API de cache.</span><span class="sxs-lookup"><span data-stu-id="61cac-268">However, the following example gives you an idea of how the new cache API works.</span></span> <span data-ttu-id="61cac-269">O exemplo foi escrito para um aplicativo Windows Forms, sem nenhuma dependência de `System.Web.dll`.</span><span class="sxs-lookup"><span data-stu-id="61cac-269">The example was written for a Windows Forms application, without any dependency on `System.Web.dll`.</span></span>

[!code-csharp[Main](overview/samples/sample14.cs)]

<a id="0.2__Toc253429247"></a><a id="0.2__Toc243304621"></a>

### <a name="extensible-html-url-and-http-header-encoding"></a><span data-ttu-id="61cac-270">Codificação de Extensible HTML, URL e cabeçalho HTTP</span><span class="sxs-lookup"><span data-stu-id="61cac-270">Extensible HTML, URL, and HTTP Header Encoding</span></span>

<span data-ttu-id="61cac-271">No ASP.NET 4, você pode criar rotinas de codificação personalizadas para as seguintes tarefas comuns de codificação de texto:</span><span class="sxs-lookup"><span data-stu-id="61cac-271">In ASP.NET 4, you can create custom encoding routines for the following common text-encoding tasks:</span></span>

- <span data-ttu-id="61cac-272">Codificação HTML.</span><span class="sxs-lookup"><span data-stu-id="61cac-272">HTML encoding.</span></span>
- <span data-ttu-id="61cac-273">Codificação de URL.</span><span class="sxs-lookup"><span data-stu-id="61cac-273">URL encoding.</span></span>
- <span data-ttu-id="61cac-274">Codificação de atributo HTML.</span><span class="sxs-lookup"><span data-stu-id="61cac-274">HTML attribute encoding.</span></span>
- <span data-ttu-id="61cac-275">Codificando cabeçalhos HTTP de saída.</span><span class="sxs-lookup"><span data-stu-id="61cac-275">Encoding outbound HTTP headers.</span></span>

<span data-ttu-id="61cac-276">Você pode criar um codificador personalizado derivando do novo tipo *System. Web. util. HttpEncoder* e, em seguida, configurando ASP.net para usar o tipo personalizado na seção *httpRuntime* do arquivo `Web.config`, conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-276">You can create a custom encoder by deriving from the new *System.Web.Util.HttpEncoder* type and then configuring ASP.NET to use the custom type in the *httpRuntime* section of the `Web.config` file, as shown in the following example:</span></span>

[!code-xml[Main](overview/samples/sample15.xml)]

<span data-ttu-id="61cac-277">Depois que um codificador personalizado tiver sido configurado, o ASP.NET chamará automaticamente a implementação de codificação personalizada sempre que os métodos de codificação públicos das classes *System. Web. HttpUtility* ou *System. Web. HttpServerUtility* forem chamados.</span><span class="sxs-lookup"><span data-stu-id="61cac-277">After a custom encoder has been configured, ASP.NET automatically calls the custom encoding implementation whenever public encoding methods of the *System.Web.HttpUtility* or *System.Web.HttpServerUtility* classes are called.</span></span> <span data-ttu-id="61cac-278">Isso permite que uma parte de uma equipe de desenvolvimento da Web crie um codificador personalizado que implemente uma codificação agressiva de caracteres, enquanto o restante da equipe de desenvolvimento da Web continua a usar as APIs de codificação ASP.NET públicas.</span><span class="sxs-lookup"><span data-stu-id="61cac-278">This lets one part of a Web development team create a custom encoder that implements aggressive character encoding, while the rest of the Web development team continues to use the public ASP.NET encoding APIs.</span></span> <span data-ttu-id="61cac-279">Ao configurar centralmente um codificador personalizado no elemento *httpRuntime* , você garante que todas as chamadas de codificação de texto das APIs de codificação de ASP.net públicas sejam roteadas por meio do codificador personalizado.</span><span class="sxs-lookup"><span data-stu-id="61cac-279">By centrally configuring a custom encoder in the *httpRuntime* element, you are guaranteed that all text-encoding calls from the public ASP.NET encoding APIs are routed through the custom encoder.</span></span>

<a id="0.2__Toc253429248"></a><a id="0.2__Toc243304622"></a>

### <a name="performance-monitoring-for-individual-applications-in-a-single-worker-process"></a><span data-ttu-id="61cac-280">Monitoramento de desempenho para aplicativos individuais em um único processo de trabalho</span><span class="sxs-lookup"><span data-stu-id="61cac-280">Performance Monitoring for Individual Applications in a Single Worker Process</span></span>

<span data-ttu-id="61cac-281">Para aumentar o número de sites da Web que podem ser hospedados em um único servidor, muitos hosters executam vários aplicativos ASP.NET em um único processo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="61cac-281">In order to increase the number of Web sites that can be hosted on a single server, many hosters run multiple ASP.NET applications in a single worker process.</span></span> <span data-ttu-id="61cac-282">No entanto, se vários aplicativos usarem um único processo de trabalho compartilhado, será difícil para os administradores de servidor identificarem um aplicativo individual que está enfrentando problemas.</span><span class="sxs-lookup"><span data-stu-id="61cac-282">However, if multiple applications use a single shared worker process, it is difficult for server administrators to identify an individual application that is experiencing problems.</span></span>

<span data-ttu-id="61cac-283">O ASP.NET 4 aproveita a nova funcionalidade de monitoramento de recursos introduzida pelo CLR.</span><span class="sxs-lookup"><span data-stu-id="61cac-283">ASP.NET 4 leverages new resource-monitoring functionality introduced by the CLR.</span></span> <span data-ttu-id="61cac-284">Para habilitar essa funcionalidade, você pode adicionar o seguinte trecho de configuração XML ao arquivo de configuração `aspnet.config`.</span><span class="sxs-lookup"><span data-stu-id="61cac-284">To enable this functionality, you can add the following XML configuration snippet to the `aspnet.config` configuration file.</span></span>

[!code-xml[Main](overview/samples/sample16.xml)]

> [!NOTE]
> <span data-ttu-id="61cac-285">Observe que o arquivo de `aspnet.config` está no diretório em que o .NET Framework está instalado.</span><span class="sxs-lookup"><span data-stu-id="61cac-285">Note The `aspnet.config` file is in the directory where the .NET Framework is installed.</span></span> <span data-ttu-id="61cac-286">Não é o arquivo `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="61cac-286">It is not the `Web.config` file.</span></span>

<span data-ttu-id="61cac-287">Quando o recurso *appDomainResourceMonitoring* foi habilitado, dois novos contadores de desempenho estão disponíveis na categoria de desempenho "aplicativos ASP.net": *% tempo de processador gerenciado* e *memória gerenciada usada*.</span><span class="sxs-lookup"><span data-stu-id="61cac-287">When the *appDomainResourceMonitoring* feature has been enabled, two new performance counters are available in the "ASP.NET Applications" performance category: *% Managed Processor Time* and *Managed Memory Used*.</span></span> <span data-ttu-id="61cac-288">Ambos os contadores de desempenho usam o novo recurso de gerenciamento de recursos de domínio do aplicativo CLR para acompanhar o tempo estimado de CPU e a utilização de memória gerenciada de aplicativos ASP.NET individuais.</span><span class="sxs-lookup"><span data-stu-id="61cac-288">Both of these performance counters use the new CLR application-domain resource management feature to track estimated CPU time and managed memory utilization of individual ASP.NET applications.</span></span> <span data-ttu-id="61cac-289">Como resultado, com o ASP.NET 4, os administradores agora têm uma visão mais granular do consumo de recursos de aplicativos individuais em execução em um único processo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="61cac-289">As a result, with ASP.NET 4, administrators now have a more granular view into the resource consumption of individual applications running in a single worker process.</span></span>

<a id="0.2__Toc253429249"></a><a id="0.2__Toc243304623"></a>

### <a name="multi-targeting"></a><span data-ttu-id="61cac-290">Multiplataforma</span><span class="sxs-lookup"><span data-stu-id="61cac-290">Multi-Targeting</span></span>

<span data-ttu-id="61cac-291">Você pode criar um aplicativo que se destina a uma versão específica do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="61cac-291">You can create an application that targets a specific version of the .NET Framework.</span></span> <span data-ttu-id="61cac-292">No ASP.NET 4, um novo atributo no elemento *Compilation* do arquivo `Web.config` permite que você direcione o .NET Framework 4 e posterior.</span><span class="sxs-lookup"><span data-stu-id="61cac-292">In ASP.NET 4, a new attribute in the *compilation* element of the `Web.config` file lets you target the .NET Framework 4 and later.</span></span> <span data-ttu-id="61cac-293">Se você destinar explicitamente o .NET Framework 4, e se você incluir elementos opcionais no arquivo de `Web.config`, como as entradas para *System. CodeDom*, esses elementos devem estar corretos para o .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="61cac-293">If you explicitly target the .NET Framework 4, and if you include optional elements in the `Web.config` file such as the entries for *system.codedom*, these elements must be correct for the .NET Framework 4.</span></span> <span data-ttu-id="61cac-294">(Se você não tiver como alvo explicitamente o .NET Framework 4, a estrutura de destino será inferida da falta de uma entrada no arquivo de `Web.config`.)</span><span class="sxs-lookup"><span data-stu-id="61cac-294">(If you do not explicitly target the .NET Framework 4, the target framework is inferred from the lack of an entry in the `Web.config` file.)</span></span>

<span data-ttu-id="61cac-295">O exemplo a seguir mostra o uso do atributo *TargetFramework* no elemento *compilation* do arquivo `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="61cac-295">The following example shows the use of the *targetFramework* attribute in the *compilation* element of the `Web.config` file.</span></span>

[!code-xml[Main](overview/samples/sample17.xml)]

<span data-ttu-id="61cac-296">Observe o seguinte sobre como direcionar uma versão específica do .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="61cac-296">Note the following about targeting a specific version of the .NET Framework:</span></span>

- <span data-ttu-id="61cac-297">Em um pool de aplicativos .NET Framework 4, o sistema de compilação ASP.NET assume o .NET Framework 4 como um destino se o arquivo de `Web.config` não incluir o atributo *TargetFramework* ou se o arquivo `Web.config` estiver ausente.</span><span class="sxs-lookup"><span data-stu-id="61cac-297">In a .NET Framework 4 application pool, the ASP.NET build system assumes the .NET Framework 4 as a target if the `Web.config` file does not include the *targetFramework* attribute or if the `Web.config` file is missing.</span></span> <span data-ttu-id="61cac-298">(Talvez você precise fazer alterações de codificação em seu aplicativo para que ele seja executado no .NET Framework 4.)</span><span class="sxs-lookup"><span data-stu-id="61cac-298">(You might have to make coding changes to your application to make it run under the .NET Framework 4.)</span></span>
- <span data-ttu-id="61cac-299">Se você incluir o atributo *TargetFramework* e se o elemento *System. CodeDom* for definido no arquivo `Web.config`, esse arquivo deverá conter as entradas corretas para o .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="61cac-299">If you do include the *targetFramework* attribute, and if the *system.codeDom* element is defined in the `Web.config` file, this file must contain the correct entries for the .NET Framework 4.</span></span>
- <span data-ttu-id="61cac-300">Se você estiver usando o comando *aspnet\_compilador* para pré-compilar seu aplicativo (como em um ambiente de compilação), deverá usar a versão correta do comando do *compilador do ASPNET\_* para a estrutura de destino.</span><span class="sxs-lookup"><span data-stu-id="61cac-300">If you are using the *aspnet\_compiler* command to precompile your application (such as in a build environment), you must use the correct version of the *aspnet\_compiler* command for the target framework.</span></span> <span data-ttu-id="61cac-301">Use o compilador fornecido com o .NET Framework 2,0 (%WINDIR%\Microsoft.NET\Framework\v2.0.50727) para compilar para o .NET Framework 3,5 e versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="61cac-301">Use the compiler that shipped with the .NET Framework 2.0 (%WINDIR%\Microsoft.NET\Framework\v2.0.50727) to compile for the .NET Framework 3.5 and earlier versions.</span></span> <span data-ttu-id="61cac-302">Use o compilador fornecido com o .NET Framework 4 para compilar aplicativos criados usando essa estrutura ou usando versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="61cac-302">Use the compiler that ships with the .NET Framework 4 to compile applications created using that framework or using later versions.</span></span>
- <span data-ttu-id="61cac-303">Em tempo de execução, o compilador usa os assemblies de estrutura mais recentes que estão instalados no computador (e, portanto, no GAC).</span><span class="sxs-lookup"><span data-stu-id="61cac-303">At run time, the compiler uses the latest framework assemblies that are installed on the computer (and therefore in the GAC).</span></span> <span data-ttu-id="61cac-304">Se uma atualização for feita posteriormente na estrutura (por exemplo, uma versão hipotética 4,1 está instalada), você poderá usar os recursos na versão mais recente do Framework, embora o atributo *TargetFramework* tenha como alvo uma versão inferior (como 4,0).</span><span class="sxs-lookup"><span data-stu-id="61cac-304">If an update is made later to the framework (for example, a hypothetical version 4.1 is installed), you will be able to use features in the newer version of the framework even though the *targetFramework* attribute targets a lower version (such as 4.0).</span></span> <span data-ttu-id="61cac-305">(No entanto, em tempo de design no Visual Studio 2010 ou quando você usa o comando *aspnet\_Compiler* , usar os recursos mais recentes da estrutura causará erros de compilador).</span><span class="sxs-lookup"><span data-stu-id="61cac-305">(However, at design time in Visual Studio 2010 or when you use the *aspnet\_compiler* command, using newer features of the framework will cause compiler errors).</span></span>

<a id="0.2__Toc224729023"></a><a id="0.2__Toc253429250"></a><a id="0.2__Toc243304624"></a>

## <a name="ajax"></a><span data-ttu-id="61cac-306">Ajax</span><span class="sxs-lookup"><span data-stu-id="61cac-306">Ajax</span></span>

<a id="0.2__Toc253429251"></a><a id="0.2__Toc243304625"></a>

### <a name="jquery-included-with-web-forms-and-mvc"></a><span data-ttu-id="61cac-307">jQuery incluído com Web Forms e MVC</span><span class="sxs-lookup"><span data-stu-id="61cac-307">jQuery Included with Web Forms and MVC</span></span>

<span data-ttu-id="61cac-308">Os modelos do Visual Studio para o Web Forms e o MVC incluem a biblioteca jQuery de software livre.</span><span class="sxs-lookup"><span data-stu-id="61cac-308">The Visual Studio templates for both Web Forms and MVC include the open-source jQuery library.</span></span> <span data-ttu-id="61cac-309">Quando você cria um novo site ou projeto, uma pasta de scripts contendo os três arquivos a seguir é criada:</span><span class="sxs-lookup"><span data-stu-id="61cac-309">When you create a new website or project, a Scripts folder containing the following 3 files is created:</span></span>

- <span data-ttu-id="61cac-310">jQuery-1.4.1. js – a versão de unminified legível da biblioteca jQuery.</span><span class="sxs-lookup"><span data-stu-id="61cac-310">jQuery-1.4.1.js – The human-readable, unminified version of the jQuery library.</span></span>
- <span data-ttu-id="61cac-311">jQuery-14,1. min. js – a versão reduzidos da biblioteca jQuery.</span><span class="sxs-lookup"><span data-stu-id="61cac-311">jQuery-14.1.min.js – The minified version of the jQuery library.</span></span>
- <span data-ttu-id="61cac-312">jQuery-1.4.1-vsdoc. js – o arquivo de documentação do IntelliSense para a biblioteca jQuery.</span><span class="sxs-lookup"><span data-stu-id="61cac-312">jQuery-1.4.1-vsdoc.js – The Intellisense documentation file for the jQuery library.</span></span>

<span data-ttu-id="61cac-313">Inclua a versão unminified do jQuery ao desenvolver um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-313">Include the unminified version of jQuery while developing an application.</span></span> <span data-ttu-id="61cac-314">Inclua a versão reduzidos do jQuery para aplicativos de produção.</span><span class="sxs-lookup"><span data-stu-id="61cac-314">Include the minified version of jQuery for production applications.</span></span>

<span data-ttu-id="61cac-315">Por exemplo, a página Web Forms a seguir ilustra como você pode usar o jQuery para alterar a cor do plano de fundo dos controles de caixa de texto ASP.NET para amarelo quando eles têm foco.</span><span class="sxs-lookup"><span data-stu-id="61cac-315">For example, the following Web Forms page illustrates how you can use jQuery to change the background color of ASP.NET TextBox controls to yellow when they have focus.</span></span>

[!code-aspx[Main](overview/samples/sample18.aspx)]

<a id="0.2__Toc253429252"></a><a id="0.2__Toc243304626"></a>

### <a name="content-delivery-network-support"></a><span data-ttu-id="61cac-316">Suporte à rede de distribuição de conteúdo</span><span class="sxs-lookup"><span data-stu-id="61cac-316">Content Delivery Network Support</span></span>

<span data-ttu-id="61cac-317">A CDN (rede de distribuição de conteúdo) do Microsoft Ajax permite que você adicione facilmente scripts ASP.NET AJAX e jQuery aos seus aplicativos Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-317">The Microsoft Ajax Content Delivery Network (CDN) enables you to easily add ASP.NET Ajax and jQuery scripts to your Web applications.</span></span> <span data-ttu-id="61cac-318">Por exemplo, você pode começar a usar a biblioteca jQuery simplesmente adicionando uma marca `<script>` à sua página que aponta para Ajax.microsoft.com assim:</span><span class="sxs-lookup"><span data-stu-id="61cac-318">For example, you can start using the jQuery library simply by adding a `<script>` tag to your page that points to Ajax.microsoft.com like this:</span></span>

[!code-html[Main](overview/samples/sample19.html)]

<span data-ttu-id="61cac-319">Aproveitando a CDN do Microsoft Ajax, você pode melhorar significativamente o desempenho de seus aplicativos AJAX.</span><span class="sxs-lookup"><span data-stu-id="61cac-319">By taking advantage of the Microsoft Ajax CDN, you can significantly improve the performance of your Ajax applications.</span></span> <span data-ttu-id="61cac-320">O conteúdo da CDN do Microsoft AJAX é armazenado em cache em servidores localizados em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="61cac-320">The contents of the Microsoft Ajax CDN are cached on servers located around the world.</span></span> <span data-ttu-id="61cac-321">Além disso, a CDN do Microsoft Ajax permite que os navegadores reutilizem arquivos JavaScript em cache para sites que estão localizados em domínios diferentes.</span><span class="sxs-lookup"><span data-stu-id="61cac-321">In addition, the Microsoft Ajax CDN enables browsers to reuse cached JavaScript files for Web sites that are located in different domains.</span></span>

<span data-ttu-id="61cac-322">A rede de distribuição de conteúdo do Microsoft Ajax dá suporte a SSL (HTTPS) caso você precise fornecer uma página da Web usando o protocolo SSL.</span><span class="sxs-lookup"><span data-stu-id="61cac-322">The Microsoft Ajax Content Delivery Network supports SSL (HTTPS) in case you need to serve a web page using the Secure Sockets Layer.</span></span>

<span data-ttu-id="61cac-323">Implemente um fallback quando a CDN não estiver disponível.</span><span class="sxs-lookup"><span data-stu-id="61cac-323">Implement a fallback when the CDN is unavailable.</span></span> <span data-ttu-id="61cac-324">Teste o fallback.</span><span class="sxs-lookup"><span data-stu-id="61cac-324">Test the fallback.</span></span>

<span data-ttu-id="61cac-325">Para saber mais sobre a CDN do Microsoft Ajax, visite o seguinte site:</span><span class="sxs-lookup"><span data-stu-id="61cac-325">To learn more about the Microsoft Ajax CDN, visit the following website:</span></span>

[https://www.asp.net/ajaxlibrary/CDN.ashx](../../ajax/cdn/overview.md)

<span data-ttu-id="61cac-326">O ASP.NET ScriptManager dá suporte à CDN do Microsoft Ajax.</span><span class="sxs-lookup"><span data-stu-id="61cac-326">The ASP.NET ScriptManager supports the Microsoft Ajax CDN.</span></span> <span data-ttu-id="61cac-327">Simplesmente definindo uma propriedade, a propriedade EnableCdn, você pode recuperar todos os arquivos JavaScript do ASP.NET Framework da CDN:</span><span class="sxs-lookup"><span data-stu-id="61cac-327">Simply by setting one property, the EnableCdn property, you can retrieve all ASP.NET framework JavaScript files from the CDN:</span></span>

[!code-aspx[Main](overview/samples/sample20.aspx)]

<span data-ttu-id="61cac-328">Depois de definir a propriedade EnableCdn como o valor true, a estrutura ASP.NET recuperará todos os arquivos JavaScript do ASP.NET Framework da CDN, incluindo todos os arquivos JavaScript usados para validação e o UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="61cac-328">After you set the EnableCdn property to the value true, the ASP.NET framework will retrieve all ASP.NET framework JavaScript files from the CDN including all JavaScript files used for validation and the UpdatePanel.</span></span> <span data-ttu-id="61cac-329">Definir essa propriedade pode ter um impacto considerável sobre o desempenho do seu aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-329">Setting this one property can have a dramatic impact on the performance of your web application.</span></span>

<span data-ttu-id="61cac-330">Você pode definir o caminho CDN para seus próprios arquivos JavaScript usando o atributo WebResource.</span><span class="sxs-lookup"><span data-stu-id="61cac-330">You can set the CDN path for your own JavaScript files by using the WebResource attribute.</span></span> <span data-ttu-id="61cac-331">A nova Propriedade CdnPath especifica o caminho para a CDN usada quando você define a propriedade EnableCdn para o valor true:</span><span class="sxs-lookup"><span data-stu-id="61cac-331">The new CdnPath property specifies the path to the CDN used when you set the EnableCdn property to the value true:</span></span>

[!code-csharp[Main](overview/samples/sample21.cs)]

<a id="0.2__Toc253429253"></a><a id="0.2__Toc243304627"></a>

### <a name="scriptmanager-explicit-scripts"></a><span data-ttu-id="61cac-332">Scripts explícitos do ScriptManager</span><span class="sxs-lookup"><span data-stu-id="61cac-332">ScriptManager Explicit Scripts</span></span>

<span data-ttu-id="61cac-333">No passado, se você usava o ASP.NET ScriptManger, era necessário carregar toda a biblioteca monolítico do ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="61cac-333">In the past, if you used the ASP.NET ScriptManger then you were required to load the entire monolithic ASP.NET Ajax Library.</span></span> <span data-ttu-id="61cac-334">Aproveitando a nova Propriedade ScriptManager. AjaxFrameworkMode, você pode controlar exatamente quais componentes da biblioteca do ASP.NET AJAX são carregados e carregar apenas os componentes da biblioteca do ASP.NET AJAX de que você precisa.</span><span class="sxs-lookup"><span data-stu-id="61cac-334">By taking advantage of the new ScriptManager.AjaxFrameworkMode property, you can control exactly which components of the ASP.NET Ajax Library are loaded and load only the components of the ASP.NET Ajax Library that you need.</span></span>

<span data-ttu-id="61cac-335">A Propriedade ScriptManager. AjaxFrameworkMode pode ser definida com os seguintes valores:</span><span class="sxs-lookup"><span data-stu-id="61cac-335">The ScriptManager.AjaxFrameworkMode property can be set to the following values:</span></span>

- <span data-ttu-id="61cac-336">Enabled--especifica que o controle ScriptManager inclui automaticamente o arquivo de script MicrosoftAjax. js, que é um arquivo de script combinado de cada script de estrutura principal (comportamento herdado).</span><span class="sxs-lookup"><span data-stu-id="61cac-336">Enabled -- Specifies that the ScriptManager control automatically includes the MicrosoftAjax.js script file, which is a combined script file of every core framework script (legacy behavior).</span></span>
- <span data-ttu-id="61cac-337">Disabled--especifica que todos os recursos de script do Microsoft Ajax estão desabilitados e que o controle ScriptManager não faz referência a nenhum script automaticamente.</span><span class="sxs-lookup"><span data-stu-id="61cac-337">Disabled -- Specifies that all Microsoft Ajax script features are disabled and that the ScriptManager control does not reference any scripts automatically.</span></span>
- <span data-ttu-id="61cac-338">Explicit--especifica que você incluirá explicitamente referências de script ao arquivo de script de núcleo do Framework individual que sua página requer e que você incluirá referências às dependências que cada arquivo de script requer.</span><span class="sxs-lookup"><span data-stu-id="61cac-338">Explicit -- Specifies that you will explicitly include script references to individual framework core script file that your page requires, and that you will include references to the dependencies that each script file requires.</span></span>

<span data-ttu-id="61cac-339">Por exemplo, se você definir a propriedade AjaxFrameworkMode para o valor Explicit, poderá especificar os scripts de componente do ASP.NET AJAX específicos necessários:</span><span class="sxs-lookup"><span data-stu-id="61cac-339">For example, if you set the AjaxFrameworkMode property to the value Explicit then you can specify the particular ASP.NET Ajax component scripts that you need:</span></span>

[!code-aspx[Main](overview/samples/sample22.aspx)]

<a id="0.2__The_DataView_Control"></a><a id="0.2__The_DataContext_and"></a><a id="0.2__Refactoring_the_Microsoft"></a><a id="0.2__Toc224729032"></a><a id="0.2__Toc253429256"></a><a id="0.2__Toc243304630"></a>

## <a name="web-forms"></a><span data-ttu-id="61cac-340">Formulários da Web</span><span class="sxs-lookup"><span data-stu-id="61cac-340">Web Forms</span></span>

<span data-ttu-id="61cac-341">Web Forms tem sido um recurso fundamental no ASP.NET desde o lançamento do ASP.NET 1,0.</span><span class="sxs-lookup"><span data-stu-id="61cac-341">Web Forms has been a core feature in ASP.NET since the release of ASP.NET 1.0.</span></span> <span data-ttu-id="61cac-342">Muitos aprimoramentos estão nessa área para ASP.NET 4, incluindo o seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-342">Many enhancements have been in this area for ASP.NET 4, including the following:</span></span>

- <span data-ttu-id="61cac-343">A capacidade de definir marcas *meta* .</span><span class="sxs-lookup"><span data-stu-id="61cac-343">The ability to set *meta* tags.</span></span>
- <span data-ttu-id="61cac-344">Mais controle sobre o estado de exibição.</span><span class="sxs-lookup"><span data-stu-id="61cac-344">More control over view state.</span></span>
- <span data-ttu-id="61cac-345">Maneiras mais fáceis de trabalhar com recursos de navegador.</span><span class="sxs-lookup"><span data-stu-id="61cac-345">Easier ways to work with browser capabilities.</span></span>
- <span data-ttu-id="61cac-346">Suporte para o uso de roteamento ASP.NET com Web Forms.</span><span class="sxs-lookup"><span data-stu-id="61cac-346">Support for using ASP.NET routing with Web Forms.</span></span>
- <span data-ttu-id="61cac-347">Mais controle sobre as IDs geradas.</span><span class="sxs-lookup"><span data-stu-id="61cac-347">More control over generated IDs.</span></span>
- <span data-ttu-id="61cac-348">A capacidade de manter linhas selecionadas em controles de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-348">The ability to persist selected rows in data controls.</span></span>
- <span data-ttu-id="61cac-349">Mais controle sobre HTML renderizado nos controles *FormView* e *ListView* .</span><span class="sxs-lookup"><span data-stu-id="61cac-349">More control over rendered HTML in the *FormView* and *ListView* controls.</span></span>
- <span data-ttu-id="61cac-350">Suporte de filtragem para controles de fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-350">Filtering support for data source controls.</span></span>

<a id="0.2__Toc224729033"></a><a id="0.2__Toc253429257"></a><a id="0.2__Toc243304631"></a>

### <a name="setting-meta-tags-with-the-pagemetakeywords-and-pagemetadescription-properties"></a><span data-ttu-id="61cac-351">Definindo marcas meta com as propriedades Page. metapalavra-chave e Page. MetaDescription</span><span class="sxs-lookup"><span data-stu-id="61cac-351">Setting Meta Tags with the Page.MetaKeywords and Page.MetaDescription Properties</span></span>

<span data-ttu-id="61cac-352">ASP.NET 4 adiciona duas propriedades à classe de *página* , *metapalavra-chave* e *Metadescrição*.</span><span class="sxs-lookup"><span data-stu-id="61cac-352">ASP.NET 4 adds two properties to the *Page* class, *MetaKeywords* and *MetaDescription*.</span></span> <span data-ttu-id="61cac-353">Essas duas propriedades representam marcas *meta* correspondentes em sua página, conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-353">These two properties represent corresponding *meta* tags in your page, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample23.aspx)]

<span data-ttu-id="61cac-354">Essas duas propriedades funcionam da mesma forma que a propriedade *title* da página.</span><span class="sxs-lookup"><span data-stu-id="61cac-354">These two properties work the same way that the page's *Title* property does.</span></span> <span data-ttu-id="61cac-355">Eles seguem estas regras:</span><span class="sxs-lookup"><span data-stu-id="61cac-355">They follow these rules:</span></span>

1. <span data-ttu-id="61cac-356">Se não houver marcas *meta* no elemento *Head* que correspondam aos nomes de propriedade (ou seja, Name = "keywords" para *Page. metapalavra-chave* e Name = "Description" para *Page. MetaDescription*, o que significa que essas propriedades não foram definidas), as marcas *meta* serão adicionadas à página quando ela for renderizada.</span><span class="sxs-lookup"><span data-stu-id="61cac-356">If there are no *meta* tags in the *head* element that match the property names (that is, name="keywords" for *Page.MetaKeywords* and name="description" for *Page.MetaDescription*, meaning that these properties have not been set), the *meta* tags will be added to the page when it is rendered.</span></span>
2. <span data-ttu-id="61cac-357">Se já houver marcas *meta* com esses nomes, essas propriedades atuarão como métodos get e Set para o conteúdo das marcas existentes.</span><span class="sxs-lookup"><span data-stu-id="61cac-357">If there are already *meta* tags with these names, these properties act as get and set methods for the contents of the existing tags.</span></span>

<span data-ttu-id="61cac-358">Você pode definir essas propriedades em tempo de execução, o que permite obter o conteúdo de um banco de dados ou de outra fonte e que permite definir as marcas dinamicamente para descrever a finalidade de uma página específica.</span><span class="sxs-lookup"><span data-stu-id="61cac-358">You can set these properties at run time, which lets you get the content from a database or other source, and which lets you set the tags dynamically to describe what a particular page is for.</span></span>

<span data-ttu-id="61cac-359">Você também pode definir as propriedades de *palavras-chave* e *Descrição* na diretiva *@ Page* na parte superior da marcação de página Web Forms, como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-359">You can also set the *Keywords* and *Description* properties in the *@ Page* directive at the top of the Web Forms page markup, as in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample24.aspx)]

<span data-ttu-id="61cac-360">Isso substituirá o conteúdo da marca *meta* (se houver) já declarado na página.</span><span class="sxs-lookup"><span data-stu-id="61cac-360">This will override the *meta* tag contents (if any) already declared in the page.</span></span>

<span data-ttu-id="61cac-361">O conteúdo da marca *meta* de descrição é usado para melhorar as visualizações de listagem de pesquisa no Google.</span><span class="sxs-lookup"><span data-stu-id="61cac-361">The contents of the description *meta* tag are used for improving search listing previews in Google.</span></span> <span data-ttu-id="61cac-362">(Para obter detalhes, consulte [melhorar trechos de código com uma meta de Metadescrição](https://googlewebmastercentral.blogspot.com/2007/09/improve-snippets-with-meta-description.html) no blog do Google Webmaster Central.) O Google e o Windows Live Search não usam o conteúdo das palavras-chave para qualquer coisa, mas outros mecanismos de pesquisa podem.</span><span class="sxs-lookup"><span data-stu-id="61cac-362">(For details, see [Improve snippets with a meta description makeover](https://googlewebmastercentral.blogspot.com/2007/09/improve-snippets-with-meta-description.html) on the Google Webmaster Central blog.) Google and Windows Live Search do not use the contents of the keywords for anything, but other search engines might.</span></span> <span data-ttu-id="61cac-363">Para obter mais informações, consulte [dicas de palavras-chave de meta](http://www.searchengineguide.com/richard-ball/meta-keywords-a.php) no site do guia do mecanismo de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="61cac-363">For more information, see [Meta Keywords Advice](http://www.searchengineguide.com/richard-ball/meta-keywords-a.php) on the Search Engine Guide Web site.</span></span>

<span data-ttu-id="61cac-364">Essas novas propriedades são um recurso simples, mas elas o salvam da necessidade de adicioná-las manualmente ou de escrever seu próprio código para criar as marcas *meta* .</span><span class="sxs-lookup"><span data-stu-id="61cac-364">These new properties are a simple feature, but they save you from the requirement to add these manually or from writing your own code to create the *meta* tags.</span></span>

<a id="0.2__Toc224729034"></a><a id="0.2__Toc253429258"></a><a id="0.2__Toc243304632"></a>

### <a name="enabling-view-state-for-individual-controls"></a><span data-ttu-id="61cac-365">Habilitando o estado de exibição para controles individuais</span><span class="sxs-lookup"><span data-stu-id="61cac-365">Enabling View State for Individual Controls</span></span>

<span data-ttu-id="61cac-366">Por padrão, o estado de exibição é habilitado para a página, com o resultado de que cada controle na página potencialmente armazena o estado de exibição, mesmo que ele não seja necessário para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-366">By default, view state is enabled for the page, with the result that each control on the page potentially stores view state even if it is not required for the application.</span></span> <span data-ttu-id="61cac-367">Os dados de estado de exibição são incluídos na marcação que uma página gera e aumenta a quantidade de tempo que leva para enviar uma página ao cliente e lançá-la de volta.</span><span class="sxs-lookup"><span data-stu-id="61cac-367">View state data is included in the markup that a page generates and increases the amount of time it takes to send a page to the client and post it back.</span></span> <span data-ttu-id="61cac-368">Armazenar mais estado de exibição do que o necessário pode causar uma degradação significativa do desempenho.</span><span class="sxs-lookup"><span data-stu-id="61cac-368">Storing more view state than is necessary can cause significant performance degradation.</span></span> <span data-ttu-id="61cac-369">Em versões anteriores do ASP.NET, os desenvolvedores podiam desabilitar o estado de exibição de controles individuais para reduzir o tamanho da página, mas precisou fazê-lo explicitamente para controles individuais.</span><span class="sxs-lookup"><span data-stu-id="61cac-369">In earlier versions of ASP.NET, developers could disable view state for individual controls in order to reduce page size, but had to do so explicitly for individual controls.</span></span> <span data-ttu-id="61cac-370">No ASP.NET 4, os controles de servidor Web incluem uma propriedade *ViewStateMode* que permite desabilitar o estado de exibição por padrão e, em seguida, habilitá-lo somente para os controles que o exigem na página.</span><span class="sxs-lookup"><span data-stu-id="61cac-370">In ASP.NET 4, Web server controls include a *ViewStateMode* property that lets you disable view state by default and then enable it only for the controls that require it in the page.</span></span>

<span data-ttu-id="61cac-371">A propriedade *ViewStateMode* usa uma enumeração que tem três valores: *habilitado*, *desabilitado*e *herdado*.</span><span class="sxs-lookup"><span data-stu-id="61cac-371">The *ViewStateMode* property takes an enumeration that has three values: *Enabled*, *Disabled*, and *Inherit*.</span></span> <span data-ttu-id="61cac-372">*Habilitado* habilita o estado de exibição para esse controle e para todos os controles filho definidos como *Inherit* ou que não têm nada definido.</span><span class="sxs-lookup"><span data-stu-id="61cac-372">*Enabled* enables view state for that control and for any child controls that are set to *Inherit* or that have nothing set.</span></span> <span data-ttu-id="61cac-373">*Disabled desabilita* o estado de exibição e *Inherit* especifica que o controle usa a configuração *ViewStateMode* do controle pai.</span><span class="sxs-lookup"><span data-stu-id="61cac-373">*Disabled* disables view state, and *Inherit* specifies that the control uses the *ViewStateMode* setting from the parent control.</span></span>

<span data-ttu-id="61cac-374">O exemplo a seguir mostra como a propriedade *ViewStateMode* funciona.</span><span class="sxs-lookup"><span data-stu-id="61cac-374">The following example shows how the *ViewStateMode* property works.</span></span> <span data-ttu-id="61cac-375">A marcação e o código para os controles na página a seguir incluem valores para a propriedade *ViewStateMode* :</span><span class="sxs-lookup"><span data-stu-id="61cac-375">The markup and code for the controls in the following page includes values for the *ViewStateMode* property:</span></span>

[!code-aspx[Main](overview/samples/sample25.aspx)]

<span data-ttu-id="61cac-376">Como você pode ver, o código desabilita o estado de exibição para o controle PlaceHolder1.</span><span class="sxs-lookup"><span data-stu-id="61cac-376">As you can see, the code disables view state for the PlaceHolder1 control.</span></span> <span data-ttu-id="61cac-377">O controle Label1 filho herda esse valor de propriedade (*Inherit* é o valor padrão para *ViewStateMode* para Controls) e, portanto, não salva nenhum estado de exibição.</span><span class="sxs-lookup"><span data-stu-id="61cac-377">The child label1 control inherits this property value (*Inherit* is the default value for *ViewStateMode* for controls.) and therefore saves no view state.</span></span> <span data-ttu-id="61cac-378">No controle PlaceHolder2, *ViewStateMode* é definido como *Enabled*, portanto, Label2 herda essa propriedade e salva o estado de exibição.</span><span class="sxs-lookup"><span data-stu-id="61cac-378">In the PlaceHolder2 control, *ViewStateMode* is set to *Enabled*, so label2 inherits this property and saves view state.</span></span> <span data-ttu-id="61cac-379">Quando a página é carregada pela primeira vez, a propriedade *Text* de ambos os controles *Label* é definida como a cadeia de caracteres "[dynamicvalue]".</span><span class="sxs-lookup"><span data-stu-id="61cac-379">When the page is first loaded, the *Text* property of both *Label* controls is set to the string "[DynamicValue]".</span></span>

<span data-ttu-id="61cac-380">O efeito dessas configurações é que, quando a página é carregada pela primeira vez, a seguinte saída é exibida no navegador:</span><span class="sxs-lookup"><span data-stu-id="61cac-380">The effect of these settings is that when the page loads the first time, the following output is displayed in the browser:</span></span>

<span data-ttu-id="61cac-381">Desabilitado `: [DynamicValue]`</span><span class="sxs-lookup"><span data-stu-id="61cac-381">Disabled `: [DynamicValue]`</span></span>

<span data-ttu-id="61cac-382">Habilitado:`[DynamicValue]`</span><span class="sxs-lookup"><span data-stu-id="61cac-382">Enabled:`[DynamicValue]`</span></span>

<span data-ttu-id="61cac-383">Depois de um postback, no entanto, a seguinte saída é exibida:</span><span class="sxs-lookup"><span data-stu-id="61cac-383">After a postback, however, the following output is displayed:</span></span>

<span data-ttu-id="61cac-384">Desabilitado `: [DeclaredValue]`</span><span class="sxs-lookup"><span data-stu-id="61cac-384">Disabled `: [DeclaredValue]`</span></span>

<span data-ttu-id="61cac-385">Habilitado:`[DynamicValue]`</span><span class="sxs-lookup"><span data-stu-id="61cac-385">Enabled:`[DynamicValue]`</span></span>

<span data-ttu-id="61cac-386">O controle Label1 (cujo valor de *ViewStateMode* está definido como *desabilitado*) não preserva o valor definido como no código.</span><span class="sxs-lookup"><span data-stu-id="61cac-386">The label1 control (whose *ViewStateMode* value is set to *Disabled*) has not preserved the value that it was set to in code.</span></span> <span data-ttu-id="61cac-387">No entanto, o controle Label2 (cujo valor de *ViewStateMode* está definido como *habilitado*) preserva seu estado.</span><span class="sxs-lookup"><span data-stu-id="61cac-387">However, the label2 control (whose *ViewStateMode* value is set to *Enabled*) has preserved its state.</span></span>

<span data-ttu-id="61cac-388">Você também pode definir *ViewStateMode* na diretiva *@ Page* , como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-388">You can also set *ViewStateMode* in the *@ Page* directive, as in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample26.aspx)]

<span data-ttu-id="61cac-389">A classe de *página* é apenas outro controle; Ele atua como o controle pai para todos os outros controles na página.</span><span class="sxs-lookup"><span data-stu-id="61cac-389">The *Page* class is just another control; it acts as the parent control for all the other controls in the page.</span></span> <span data-ttu-id="61cac-390">O valor padrão de *ViewStateMode* é *habilitado* para instâncias da *página*.</span><span class="sxs-lookup"><span data-stu-id="61cac-390">The default value of *ViewStateMode* is *Enabled* for instances of *Page*.</span></span> <span data-ttu-id="61cac-391">Como os controles padrão são *herdados*, os controles herdarão o valor da propriedade *Enabled* , a menos que você defina *ViewStateMode* na página ou no nível de controle.</span><span class="sxs-lookup"><span data-stu-id="61cac-391">Because controls default to *Inherit*, controls will inherit the *Enabled* property value unless you set *ViewStateMode* at page or control level.</span></span>

<span data-ttu-id="61cac-392">O valor da propriedade *ViewStateMode* determina se o estado de exibição será mantido somente se a propriedade *EnableViewState* estiver definida como *true*.</span><span class="sxs-lookup"><span data-stu-id="61cac-392">The value of the *ViewStateMode* property determines if view state is maintained only if the *EnableViewState* property is set to *true*.</span></span> <span data-ttu-id="61cac-393">Se a propriedade *EnableViewState* for definida como *false*, o estado de exibição não será mantido mesmo se *ViewStateMode* estiver definido como *habilitado*.</span><span class="sxs-lookup"><span data-stu-id="61cac-393">If the *EnableViewState* property is set to *false*, view state will not be maintained even if *ViewStateMode* is set to *Enabled*.</span></span>

<span data-ttu-id="61cac-394">Um bom uso para esse recurso é com controles *ContentPlaceHolder* em páginas mestras, onde você pode definir *ViewStateMode* como *desabilitado* para a página mestra e, em seguida, habilitá-lo individualmente para controles *ContentPlaceHolder* que, por sua vez, contêm controles que exigem o estado de exibição.</span><span class="sxs-lookup"><span data-stu-id="61cac-394">A good use for this feature is with *ContentPlaceHolder* controls in master pages, where you can set *ViewStateMode* to *Disabled* for the master page and then enable it individually for *ContentPlaceHolder* controls that in turn contain controls that require view state.</span></span>

<a id="0.2__Toc224729035"></a><a id="0.2__Toc253429259"></a><a id="0.2__Toc243304633"></a>

### <a name="changes-to-browser-capabilities"></a><span data-ttu-id="61cac-395">Alterações nos recursos do navegador</span><span class="sxs-lookup"><span data-stu-id="61cac-395">Changes to Browser Capabilities</span></span>

<span data-ttu-id="61cac-396">ASP.NET determina os recursos do navegador que um usuário está usando para navegar pelo seu site usando um recurso chamado *recursos do navegador*.</span><span class="sxs-lookup"><span data-stu-id="61cac-396">ASP.NET determines the capabilities of the browser that a user is using to browse your site by using a feature called *browser capabilities*.</span></span> <span data-ttu-id="61cac-397">Os recursos do navegador são representados pelo objeto *HttpBrowserCapabilities* (exposto pela propriedade *Request. browser* ).</span><span class="sxs-lookup"><span data-stu-id="61cac-397">Browser capabilities are represented by the *HttpBrowserCapabilities* object (exposed by the *Request.Browser* property).</span></span> <span data-ttu-id="61cac-398">Por exemplo, você pode usar o objeto *HttpBrowserCapabilities* para determinar se o tipo e a versão do navegador atual dão suporte a uma versão específica do JavaScript.</span><span class="sxs-lookup"><span data-stu-id="61cac-398">For example, you can use the *HttpBrowserCapabilities* object to determine whether the type and version of the current browser supports a particular version of JavaScript.</span></span> <span data-ttu-id="61cac-399">Ou, você pode usar o objeto *HttpBrowserCapabilities* para determinar se a solicitação foi originada de um dispositivo móvel.</span><span class="sxs-lookup"><span data-stu-id="61cac-399">Or, you can use the *HttpBrowserCapabilities* object to determine whether the request originated from a mobile device.</span></span>

<span data-ttu-id="61cac-400">O objeto *HttpBrowserCapabilities* é controlado por um conjunto de arquivos de definição do navegador.</span><span class="sxs-lookup"><span data-stu-id="61cac-400">The *HttpBrowserCapabilities* object is driven by a set of browser definition files.</span></span> <span data-ttu-id="61cac-401">Esses arquivos contêm informações sobre os recursos de navegadores específicos.</span><span class="sxs-lookup"><span data-stu-id="61cac-401">These files contain information about the capabilities of particular browsers.</span></span> <span data-ttu-id="61cac-402">No ASP.NET 4, esses arquivos de definição de navegador foram atualizados para conter informações sobre os navegadores e dispositivos introduzidos recentemente, como o Google Chrome, a pesquisa em smartphones com o Motion BlackBerry e o iPhone da Apple.</span><span class="sxs-lookup"><span data-stu-id="61cac-402">In ASP.NET 4, these browser definition files have been updated to contain information about recently introduced browsers and devices such as Google Chrome, Research in Motion BlackBerry smartphones, and Apple iPhone.</span></span>

<span data-ttu-id="61cac-403">A lista a seguir mostra novos arquivos de definição de navegador:</span><span class="sxs-lookup"><span data-stu-id="61cac-403">The following list shows new browser definition files:</span></span>

- <span data-ttu-id="61cac-404">*Blackberry. browser*</span><span class="sxs-lookup"><span data-stu-id="61cac-404">*blackberry.browser*</span></span>
- <span data-ttu-id="61cac-405">*Chrome. browser*</span><span class="sxs-lookup"><span data-stu-id="61cac-405">*chrome.browser*</span></span>
- <span data-ttu-id="61cac-406">*Padrão. navegador*</span><span class="sxs-lookup"><span data-stu-id="61cac-406">*Default.browser*</span></span>
- <span data-ttu-id="61cac-407">*Firefox. browser*</span><span class="sxs-lookup"><span data-stu-id="61cac-407">*firefox.browser*</span></span>
- <span data-ttu-id="61cac-408">*Gateway. browser*</span><span class="sxs-lookup"><span data-stu-id="61cac-408">*gateway.browser*</span></span>
- <span data-ttu-id="61cac-409">*genérico. navegador*</span><span class="sxs-lookup"><span data-stu-id="61cac-409">*generic.browser*</span></span>
- <span data-ttu-id="61cac-410">*navegador da IE*</span><span class="sxs-lookup"><span data-stu-id="61cac-410">*ie.browser*</span></span>
- <span data-ttu-id="61cac-411">*Iemobile. browser*</span><span class="sxs-lookup"><span data-stu-id="61cac-411">*iemobile.browser*</span></span>
- <span data-ttu-id="61cac-412">*iPhone. browser*</span><span class="sxs-lookup"><span data-stu-id="61cac-412">*iphone.browser*</span></span>
- <span data-ttu-id="61cac-413">*Opera. browser*</span><span class="sxs-lookup"><span data-stu-id="61cac-413">*opera.browser*</span></span>
- <span data-ttu-id="61cac-414">*Safari. browser*</span><span class="sxs-lookup"><span data-stu-id="61cac-414">*safari.browser*</span></span>

#### <a name="using-browser-capabilities-providers"></a><span data-ttu-id="61cac-415">Usando provedores de recursos de navegador</span><span class="sxs-lookup"><span data-stu-id="61cac-415">Using Browser Capabilities Providers</span></span>

<span data-ttu-id="61cac-416">No ASP.NET versão 3,5 Service Pack 1, você pode definir os recursos que um navegador tem das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="61cac-416">In ASP.NET version 3.5 Service Pack 1, you can define the capabilities that a browser has in the following ways:</span></span>

- <span data-ttu-id="61cac-417">No nível do computador, você cria ou atualiza um arquivo XML `.browser` na seguinte pasta:</span><span class="sxs-lookup"><span data-stu-id="61cac-417">At the computer level, you create or update a `.browser` XML file in the following folder:</span></span>

- [!code-console[Main](overview/samples/sample27.cmd)]

- <span data-ttu-id="61cac-418">Depois de definir a capacidade do navegador, execute o seguinte comando no prompt de comando do Visual Studio para recriar o assembly de recursos do navegador e adicioná-lo ao GAC:</span><span class="sxs-lookup"><span data-stu-id="61cac-418">After you define the browser capability, you run the following command from the Visual Studio Command Prompt in order to rebuild the browser capabilities assembly and add it to the GAC:</span></span>

- [!code-console[Main](overview/samples/sample28.cmd)]

- <span data-ttu-id="61cac-419">Para um aplicativo individual, você cria um arquivo de `.browser` na pasta `App_Browsers` do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-419">For an individual application, you create a `.browser` file in the application's `App_Browsers` folder.</span></span>

<span data-ttu-id="61cac-420">Essas abordagens exigem que você altere arquivos XML e, para alterações no nível do computador, você deve reiniciar o aplicativo depois de executar o processo ASPNET\_regbrowsers. exe.</span><span class="sxs-lookup"><span data-stu-id="61cac-420">These approaches require you to change XML files, and for computer-level changes, you must restart the application after you run the aspnet\_regbrowsers.exe process.</span></span>

<span data-ttu-id="61cac-421">O ASP.NET 4 inclui um recurso chamado de *provedores de recursos de navegador*.</span><span class="sxs-lookup"><span data-stu-id="61cac-421">ASP.NET 4 includes a feature referred to as *browser capabilities providers*.</span></span> <span data-ttu-id="61cac-422">Como o nome sugere, isso permite que você crie um provedor que, por sua vez, permite que você use seu próprio código para determinar os recursos do navegador.</span><span class="sxs-lookup"><span data-stu-id="61cac-422">As the name suggests, this lets you build a provider that in turn lets you use your own code to determine browser capabilities.</span></span>

<span data-ttu-id="61cac-423">Na prática, os desenvolvedores geralmente não definem recursos de navegador personalizados.</span><span class="sxs-lookup"><span data-stu-id="61cac-423">In practice, developers often do not define custom browser capabilities.</span></span> <span data-ttu-id="61cac-424">Os arquivos de navegador são difíceis de atualizar, o processo para atualizá-los é razoavelmente complicado e a sintaxe XML para `.browser` arquivos pode ser complexa para usar e definir.</span><span class="sxs-lookup"><span data-stu-id="61cac-424">Browser files are hard to update, the process for updating them is fairly complicated, and the XML syntax for `.browser` files can be complex to use and define.</span></span> <span data-ttu-id="61cac-425">O que tornaria esse processo muito mais fácil é se houvesse uma sintaxe de definição de navegador comum ou um banco de dados que contivesse definições de navegador atualizadas ou até mesmo um serviço Web para tal banco de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-425">What would make this process much easier is if there were a common browser definition syntax, or a database that contained up-to-date browser definitions, or even a Web service for such a database.</span></span> <span data-ttu-id="61cac-426">O novo recurso de provedores de recursos de navegador torna esses cenários possíveis e práticos para desenvolvedores de terceiros.</span><span class="sxs-lookup"><span data-stu-id="61cac-426">The new browser capabilities providers feature makes these scenarios possible and practical for third-party developers.</span></span>

<span data-ttu-id="61cac-427">Há duas abordagens principais para usar o novo recurso de provedor de recursos de navegador do ASP.NET 4: estendendo a funcionalidade de definição de funcionalidades de navegador ASP.NET ou substituindo-a totalmente.</span><span class="sxs-lookup"><span data-stu-id="61cac-427">There are two main approaches for using the new ASP.NET 4 browser capabilities provider feature: extending the ASP.NET browser capabilities definition functionality, or totally replacing it.</span></span> <span data-ttu-id="61cac-428">As seções a seguir descrevem primeiro como substituir a funcionalidade e como estendê-la.</span><span class="sxs-lookup"><span data-stu-id="61cac-428">The following sections describe first how to replace the functionality, and then how to extend it.</span></span>

#### <a name="replacing-the-aspnet-browser-capabilities-functionality"></a><span data-ttu-id="61cac-429">Substituindo a funcionalidade de recursos do navegador ASP.NET</span><span class="sxs-lookup"><span data-stu-id="61cac-429">Replacing the ASP.NET Browser Capabilities Functionality</span></span>

<span data-ttu-id="61cac-430">Para substituir completamente a funcionalidade de definição de funcionalidades de navegador do ASP.NET, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="61cac-430">To replace the ASP.NET browser capabilities definition functionality completely, follow these steps:</span></span>

1. <span data-ttu-id="61cac-431">Crie uma classe de provedor que derive de *HttpCapabilitiesProvider* e que substitua o método *GetBrowserCapabilities* , como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-431">Create a provider class that derives from *HttpCapabilitiesProvider* and that overrides the *GetBrowserCapabilities* method, as in the following example:</span></span> 

    [!code-csharp[Main](overview/samples/sample29.cs)]

    <span data-ttu-id="61cac-432">O código neste exemplo cria um novo objeto *HttpBrowserCapabilities* , especificando apenas o recurso chamado browser e definindo essa funcionalidade como MyCustomBrowser.</span><span class="sxs-lookup"><span data-stu-id="61cac-432">The code in this example creates a new *HttpBrowserCapabilities* object, specifying only the capability named browser and setting that capability to MyCustomBrowser.</span></span>
2. <span data-ttu-id="61cac-433">Registre o provedor com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-433">Register the provider with the application.</span></span> 

    <span data-ttu-id="61cac-434">Para usar um provedor com um aplicativo, você deve adicionar o atributo do *provedor* à seção *browserCaps* no `Web.config` ou `Machine.config` arquivos.</span><span class="sxs-lookup"><span data-stu-id="61cac-434">In order to use a provider with an application, you must add the *provider* attribute to the *browserCaps* section in the `Web.config` or `Machine.config` files.</span></span> <span data-ttu-id="61cac-435">(Você também pode definir os atributos do provedor em um elemento *Location* para diretórios específicos no aplicativo, como em uma pasta para um dispositivo móvel específico.) O exemplo a seguir mostra como definir o atributo do *provedor* em um arquivo de configuração:</span><span class="sxs-lookup"><span data-stu-id="61cac-435">(You can also define the provider attributes in a *location* element for specific directories in application, such as in a folder for a specific mobile device.) The following example shows how to set the *provider* attribute in a configuration file:</span></span>

    [!code-xml[Main](overview/samples/sample30.xml)]

    <span data-ttu-id="61cac-436">Outra maneira de registrar a nova definição de funcionalidade do navegador é usar o código, conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-436">Another way to register the new browser capability definition is to use code, as shown in the following example:</span></span>

    [!code-csharp[Main](overview/samples/sample31.cs)]

    <span data-ttu-id="61cac-437">Esse código deve ser executado no *\_* evento de início do aplicativo do arquivo de `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="61cac-437">This code must run in the *Application\_Start* event of the `Global.asax` file.</span></span> <span data-ttu-id="61cac-438">Qualquer alteração na classe *BrowserCapabilitiesProvider* deve ocorrer antes que qualquer código no aplicativo seja executado, a fim de garantir que o cache permaneça em um estado válido para o objeto *HttpCapabilitiesBase* resolvido.</span><span class="sxs-lookup"><span data-stu-id="61cac-438">Any change to the *BrowserCapabilitiesProvider* class must occur before any code in the application executes, in order to make sure that the cache remains in a valid state for the resolved *HttpCapabilitiesBase* object.</span></span>

#### <a name="caching-the-httpbrowsercapabilities-object"></a><span data-ttu-id="61cac-439">Armazenando em cache o objeto HttpBrowserCapabilities</span><span class="sxs-lookup"><span data-stu-id="61cac-439">Caching the HttpBrowserCapabilities Object</span></span>

<span data-ttu-id="61cac-440">O exemplo anterior tem um problema, que é que o código seria executado cada vez que o provedor personalizado é invocado para obter o objeto *HttpBrowserCapabilities* .</span><span class="sxs-lookup"><span data-stu-id="61cac-440">The preceding example has one problem, which is that the code would run each time the custom provider is invoked in order to get the *HttpBrowserCapabilities* object.</span></span> <span data-ttu-id="61cac-441">Isso pode ocorrer várias vezes durante cada solicitação.</span><span class="sxs-lookup"><span data-stu-id="61cac-441">This can happen multiple times during each request.</span></span> <span data-ttu-id="61cac-442">No exemplo, o código para o provedor não faz muito.</span><span class="sxs-lookup"><span data-stu-id="61cac-442">In the example, the code for the provider does not do much.</span></span> <span data-ttu-id="61cac-443">No entanto, se o código em seu provedor personalizado executar um trabalho significativo para obter o objeto *HttpBrowserCapabilities* , isso poderá afetar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="61cac-443">However, if the code in your custom provider performs significant work in order to get the *HttpBrowserCapabilities* object, this can affect performance.</span></span> <span data-ttu-id="61cac-444">Para evitar que isso aconteça, você pode armazenar em cache o objeto *HttpBrowserCapabilities* .</span><span class="sxs-lookup"><span data-stu-id="61cac-444">To prevent this from happening, you can cache the *HttpBrowserCapabilities* object.</span></span> <span data-ttu-id="61cac-445">Siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="61cac-445">Follow these steps:</span></span>

1. <span data-ttu-id="61cac-446">Crie uma classe que derive de *HttpCapabilitiesProvider*, como a do exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-446">Create a class that derives from *HttpCapabilitiesProvider*, like the one in the following example:</span></span> 

    [!code-csharp[Main](overview/samples/sample32.cs)]

    <span data-ttu-id="61cac-447">No exemplo, o código gera uma chave de cache chamando um método BuildCacheKey personalizado e Obtém o tempo de cache chamando um método getcachetime personalizado.</span><span class="sxs-lookup"><span data-stu-id="61cac-447">In the example, the code generates a cache key by calling a custom BuildCacheKey method, and it gets the length of time to cache by calling a custom GetCacheTime method.</span></span> <span data-ttu-id="61cac-448">Em seguida, o código adiciona o objeto *HttpBrowserCapabilities* resolvido ao cache.</span><span class="sxs-lookup"><span data-stu-id="61cac-448">The code then adds the resolved *HttpBrowserCapabilities* object to the cache.</span></span> <span data-ttu-id="61cac-449">O objeto pode ser recuperado do cache e reutilizado em solicitações subsequentes que fazem uso do provedor personalizado.</span><span class="sxs-lookup"><span data-stu-id="61cac-449">The object can be retrieved from the cache and reused on subsequent requests that make use of the custom provider.</span></span>
2. <span data-ttu-id="61cac-450">Registre o provedor com o aplicativo, conforme descrito no procedimento anterior.</span><span class="sxs-lookup"><span data-stu-id="61cac-450">Register the provider with the application as described in the preceding procedure.</span></span>

#### <a name="extending-aspnet-browser-capabilities-functionality"></a><span data-ttu-id="61cac-451">Estendendo a funcionalidade de recursos do navegador ASP.NET</span><span class="sxs-lookup"><span data-stu-id="61cac-451">Extending ASP.NET Browser Capabilities Functionality</span></span>

<span data-ttu-id="61cac-452">A seção anterior descreveu como criar um novo objeto *HttpBrowserCapabilities* no ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="61cac-452">The previous section described how to create a new *HttpBrowserCapabilities* object in ASP.NET 4.</span></span> <span data-ttu-id="61cac-453">Você também pode estender a funcionalidade de recursos do navegador ASP.NET adicionando novas definições de recursos do navegador às que já estão no ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="61cac-453">You can also extend the ASP.NET browser capabilities functionality by adding new browser capabilities definitions to those that are already in ASP.NET.</span></span> <span data-ttu-id="61cac-454">Você pode fazer isso sem usar as definições do navegador XML.</span><span class="sxs-lookup"><span data-stu-id="61cac-454">You can do this without using the XML browser definitions.</span></span> <span data-ttu-id="61cac-455">O procedimento a seguir mostra como.</span><span class="sxs-lookup"><span data-stu-id="61cac-455">The following procedure shows how.</span></span>

1. <span data-ttu-id="61cac-456">Crie uma classe que derive de *HttpCapabilitiesEvaluator* e que substitua o método *GetBrowserCapabilities* , conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-456">Create a class that derives from *HttpCapabilitiesEvaluator* and that overrides the *GetBrowserCapabilities* method, as shown in the following example:</span></span> 

    [!code-csharp[Main](overview/samples/sample33.cs)]

    <span data-ttu-id="61cac-457">Esse código usa primeiro a funcionalidade de recursos do navegador ASP.NET para tentar identificar o navegador.</span><span class="sxs-lookup"><span data-stu-id="61cac-457">This code first uses the ASP.NET browser capabilities functionality to try to identify the browser.</span></span> <span data-ttu-id="61cac-458">No entanto, se nenhum navegador for identificado com base nas informações definidas na solicitação (ou seja, se a propriedade *browser* do objeto *HttpBrowserCapabilities* for a cadeia de caracteres "Unknown"), o código chamará o provedor personalizado (MyBrowserCapabilitiesEvaluator) para identificar o navegador.</span><span class="sxs-lookup"><span data-stu-id="61cac-458">However, if no browser is identified based on the information defined in the request (that is, if the *Browser* property of the *HttpBrowserCapabilities* object is the string "Unknown"), the code calls the custom provider (MyBrowserCapabilitiesEvaluator) to identify the browser.</span></span>
2. <span data-ttu-id="61cac-459">Registre o provedor com o aplicativo, conforme descrito no exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="61cac-459">Register the provider with the application as described in the previous example.</span></span>

#### <a name="extending-browser-capabilities-functionality-by-adding-new-capabilities-to-existing-capabilities-definitions"></a><span data-ttu-id="61cac-460">Estendendo a funcionalidade de recursos do navegador adicionando novos recursos às definições de recursos existentes</span><span class="sxs-lookup"><span data-stu-id="61cac-460">Extending Browser Capabilities Functionality by Adding New Capabilities to Existing Capabilities Definitions</span></span>

<span data-ttu-id="61cac-461">Além de criar um provedor de definição de navegador personalizado e criar dinamicamente novas definições de navegador, você pode estender definições de navegador existentes com recursos adicionais.</span><span class="sxs-lookup"><span data-stu-id="61cac-461">In addition to creating a custom browser definition provider and to dynamically creating new browser definitions, you can extend existing browser definitions with additional capabilities.</span></span> <span data-ttu-id="61cac-462">Isso permite que você use uma definição que esteja perto do que você deseja, mas que não tem apenas alguns recursos.</span><span class="sxs-lookup"><span data-stu-id="61cac-462">This lets you use a definition that is close to what you want but lacks only a few capabilities.</span></span> <span data-ttu-id="61cac-463">Para fazer isso, use as etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="61cac-463">To do this, use the following steps.</span></span>

1. <span data-ttu-id="61cac-464">Crie uma classe que derive de *HttpCapabilitiesEvaluator* e que substitua o método *GetBrowserCapabilities* , conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-464">Create a class that derives from *HttpCapabilitiesEvaluator* and that overrides the *GetBrowserCapabilities* method, as shown in the following example:</span></span> 

    [!code-csharp[Main](overview/samples/sample34.cs)]

    <span data-ttu-id="61cac-465">O código de exemplo estende a classe ASP.NET *HttpCapabilitiesEvaluator* existente e Obtém o objeto *HttpBrowserCapabilities* que corresponde à definição de solicitação atual usando o seguinte código:</span><span class="sxs-lookup"><span data-stu-id="61cac-465">The example code extends the existing ASP.NET *HttpCapabilitiesEvaluator* class and gets the *HttpBrowserCapabilities* object that matches the current request definition by using the following code:</span></span>

    [!code-csharp[Main](overview/samples/sample35.cs)]

    <span data-ttu-id="61cac-466">O código pode adicionar ou modificar um recurso para este navegador.</span><span class="sxs-lookup"><span data-stu-id="61cac-466">The code can then add or modify a capability for this browser.</span></span> <span data-ttu-id="61cac-467">Há duas maneiras de especificar um novo recurso de navegador:</span><span class="sxs-lookup"><span data-stu-id="61cac-467">There are two ways to specify a new browser capability:</span></span>

    - <span data-ttu-id="61cac-468">Adicione um par chave/valor ao objeto *IDictionary* que é exposto pela propriedade *Capabilities* do objeto *HttpCapabilitiesBase* .</span><span class="sxs-lookup"><span data-stu-id="61cac-468">Add a key/value pair to the *IDictionary* object that is exposed by the *Capabilities* property of the *HttpCapabilitiesBase* object.</span></span> <span data-ttu-id="61cac-469">No exemplo anterior, o código adiciona um recurso chamado multitoque com um valor de *true*.</span><span class="sxs-lookup"><span data-stu-id="61cac-469">In the previous example, the code adds a capability named MultiTouch with a value of *true*.</span></span>
    - <span data-ttu-id="61cac-470">Defina as propriedades existentes do objeto *HttpCapabilitiesBase* .</span><span class="sxs-lookup"><span data-stu-id="61cac-470">Set existing properties of the *HttpCapabilitiesBase* object.</span></span> <span data-ttu-id="61cac-471">No exemplo anterior, o código define a propriedade *frames* como *true*.</span><span class="sxs-lookup"><span data-stu-id="61cac-471">In the previous example, the code sets the *Frames* property to *true*.</span></span> <span data-ttu-id="61cac-472">Essa propriedade é simplesmente um acessador para o objeto *IDictionary* que é exposto pela propriedade *Capabilities* .</span><span class="sxs-lookup"><span data-stu-id="61cac-472">This property is simply an accessor for the *IDictionary* object that is exposed by the *Capabilities* property.</span></span> 

        > [!NOTE]
        > <span data-ttu-id="61cac-473">Observe que esse modelo se aplica a qualquer propriedade de *HttpBrowserCapabilities*, incluindo adaptadores de controle.</span><span class="sxs-lookup"><span data-stu-id="61cac-473">Note This model applies to any property of *HttpBrowserCapabilities*, including control adapters.</span></span>
2. <span data-ttu-id="61cac-474">Registre o provedor com o aplicativo, conforme descrito no procedimento anterior.</span><span class="sxs-lookup"><span data-stu-id="61cac-474">Register the provider with the application as described in the earlier procedure.</span></span>

<a id="0.2__Toc224729036"></a><a id="0.2__Toc253429260"></a><a id="0.2__Toc243304634"></a>

### <a name="routing-in-aspnet-4"></a><span data-ttu-id="61cac-475">Roteamento no ASP.NET 4</span><span class="sxs-lookup"><span data-stu-id="61cac-475">Routing in ASP.NET 4</span></span>

<span data-ttu-id="61cac-476">O ASP.NET 4 adiciona suporte interno ao uso de roteamento com Web Forms.</span><span class="sxs-lookup"><span data-stu-id="61cac-476">ASP.NET 4 adds built-in support for using routing with Web Forms.</span></span> <span data-ttu-id="61cac-477">O roteamento permite configurar um aplicativo para aceitar URLs de solicitação que não são mapeadas para arquivos físicos.</span><span class="sxs-lookup"><span data-stu-id="61cac-477">Routing lets you configure an application to accept request URLs that do not map to physical files.</span></span> <span data-ttu-id="61cac-478">Em vez disso, você pode usar o roteamento para definir URLs que são significativas para os usuários e que podem ajudar com a SEO (otimização do mecanismo de pesquisa) para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-478">Instead, you can use routing to define URLs that are meaningful to users and that can help with search-engine optimization (SEO) for your application.</span></span> <span data-ttu-id="61cac-479">Por exemplo, a URL de uma página que exibe categorias de produtos em um aplicativo existente pode ser semelhante ao exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-479">For example, the URL for a page that displays product categories in an existing application might look like the following example:</span></span>

[!code-console[Main](overview/samples/sample36.cmd)]

<span data-ttu-id="61cac-480">Usando o roteamento, você pode configurar o aplicativo para aceitar a seguinte URL para renderizar as mesmas informações:</span><span class="sxs-lookup"><span data-stu-id="61cac-480">By using routing, you can configure the application to accept the following URL to render the same information:</span></span>

[!code-console[Main](overview/samples/sample37.cmd)]

<span data-ttu-id="61cac-481">O roteamento foi disponibilizado a partir do ASP.NET 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="61cac-481">Routing has been available starting with ASP.NET 3.5 SP1.</span></span> <span data-ttu-id="61cac-482">(Para obter um exemplo de como usar o roteamento no ASP.NET 3,5 SP1, consulte a entrada [usando o roteamento com WebForms](http://haacked.com/archive/2008/03/11/using-routing-with-webforms.aspx "Título desta entrada.") no blog de Phil Haack.) No entanto, o ASP.NET 4 inclui alguns recursos que facilitam o uso do roteamento, incluindo o seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-482">(For an example of how to use routing in ASP.NET 3.5 SP1, see the entry [Using Routing With WebForms](http://haacked.com/archive/2008/03/11/using-routing-with-webforms.aspx "Title of this entry.") on Phil Haack's blog.) However, ASP.NET 4 includes some features that make it easier to use routing, including the following:</span></span>

- <span data-ttu-id="61cac-483">A classe *PageRouteHandler* , que é um manipulador http simples que você usa ao definir rotas.</span><span class="sxs-lookup"><span data-stu-id="61cac-483">The *PageRouteHandler* class, which is a simple HTTP handler that you use when you define routes.</span></span> <span data-ttu-id="61cac-484">A classe passa dados para a página para a qual a solicitação é roteada.</span><span class="sxs-lookup"><span data-stu-id="61cac-484">The class passes data to the page that the request is routed to.</span></span>
- <span data-ttu-id="61cac-485">As novas propriedades *HttpRequest. RequestContext* e *Page. RouteData* (que é um proxy para o objeto *HttpRequest. RequestContext. RouteData* ).</span><span class="sxs-lookup"><span data-stu-id="61cac-485">The new properties *HttpRequest.RequestContext* and *Page.RouteData* (which is a proxy for the *HttpRequest.RequestContext.RouteData* object).</span></span> <span data-ttu-id="61cac-486">Essas propriedades facilitam o acesso a informações passadas da rota.</span><span class="sxs-lookup"><span data-stu-id="61cac-486">These properties make it easier to access information that is passed from the route.</span></span>
- <span data-ttu-id="61cac-487">Os novos construtores de expressão a seguir, que são definidos em *System. Web. Compilation. RouteUrlExpressionBuilder* e *System. Web. Compilation. RouteValueExpressionBuilder*:</span><span class="sxs-lookup"><span data-stu-id="61cac-487">The following new expression builders, which are defined in *System.Web.Compilation.RouteUrlExpressionBuilder* and *System.Web.Compilation.RouteValueExpressionBuilder*:</span></span>
- <span data-ttu-id="61cac-488">*RouteUrl*, que fornece uma maneira simples de criar uma URL que corresponde a uma URL de rota dentro de um controle de servidor ASP.net.</span><span class="sxs-lookup"><span data-stu-id="61cac-488">*RouteUrl*, which provides a simple way to create a URL that corresponds to a route URL within an ASP.NET server control.</span></span>
- <span data-ttu-id="61cac-489">*RouteValue*, que fornece uma maneira simples de extrair informações do objeto *RouteContext* .</span><span class="sxs-lookup"><span data-stu-id="61cac-489">*RouteValue*, which provides a simple way to extract information from the *RouteContext* object.</span></span>
- <span data-ttu-id="61cac-490">A classe *RouteParameter* , que torna mais fácil passar os dados contidos em um objeto *RouteContext* para uma consulta de um controle da fonte de dados (semelhante a [*FormParameter*](https://msdn.microsoft.com/library/system.web.ui.webcontrols.formparameter.aspx)).</span><span class="sxs-lookup"><span data-stu-id="61cac-490">The *RouteParameter* class, which makes it easier to pass data contained in a *RouteContext* object to a query for a data source control (similar to [*FormParameter*](https://msdn.microsoft.com/library/system.web.ui.webcontrols.formparameter.aspx)).</span></span>

#### <a name="routing-for-web-forms-pages"></a><span data-ttu-id="61cac-491">Roteamento para páginas de Web Forms</span><span class="sxs-lookup"><span data-stu-id="61cac-491">Routing for Web Forms Pages</span></span>

<span data-ttu-id="61cac-492">O exemplo a seguir mostra como definir um Web Forms rota usando o novo método *MapPageRoute* da classe *Route* :</span><span class="sxs-lookup"><span data-stu-id="61cac-492">The following example shows how to define a Web Forms route by using the new *MapPageRoute* method of the *Route* class:</span></span>

[!code-csharp[Main](overview/samples/sample38.cs)]

<span data-ttu-id="61cac-493">ASP.NET 4 introduz o método *MapPageRoute* .</span><span class="sxs-lookup"><span data-stu-id="61cac-493">ASP.NET 4 introduces the *MapPageRoute* method.</span></span> <span data-ttu-id="61cac-494">O exemplo a seguir é equivalente à definição de SearchRoute mostrada no exemplo anterior, mas usa a classe *PageRouteHandler* .</span><span class="sxs-lookup"><span data-stu-id="61cac-494">The following example is equivalent to the SearchRoute definition shown in the previous example, but uses the *PageRouteHandler* class.</span></span>

[!code-csharp[Main](overview/samples/sample39.cs)]

<span data-ttu-id="61cac-495">O código no exemplo mapeia a rota para uma página física (na primeira rota, para `~/search.aspx`).</span><span class="sxs-lookup"><span data-stu-id="61cac-495">The code in the example maps the route to a physical page (in the first route, to `~/search.aspx`).</span></span> <span data-ttu-id="61cac-496">A primeira definição de rota também especifica que o parâmetro chamado SearchTerm deve ser extraído da URL e passado para a página.</span><span class="sxs-lookup"><span data-stu-id="61cac-496">The first route definition also specifies that the parameter named searchterm should be extracted from the URL and passed to the page.</span></span>

<span data-ttu-id="61cac-497">O método *MapPageRoute* dá suporte às sobrecargas de método a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-497">The *MapPageRoute* method supports the following method overloads:</span></span>

- <span data-ttu-id="61cac-498">*MapPageRoute (cadeia de caracteres RouteName, Cadeia de caracteres routeUrl, String physicalfile, bool checkPhysicalUrlAccess)*</span><span class="sxs-lookup"><span data-stu-id="61cac-498">*MapPageRoute(string routeName, string routeUrl, string physicalFile, bool checkPhysicalUrlAccess)*</span></span>
- <span data-ttu-id="61cac-499">*MapPageRoute (cadeia de caracteres RouteName, Cadeia de caracteres routeUrl, String physicalfile, bool checkPhysicalUrlAccess, padrões de RouteValueDictionary)*</span><span class="sxs-lookup"><span data-stu-id="61cac-499">*MapPageRoute(string routeName, string routeUrl, string physicalFile, bool checkPhysicalUrlAccess, RouteValueDictionary defaults)*</span></span>
- <span data-ttu-id="61cac-500">*MapPageRoute (cadeia de caracteres RouteName, Cadeia de caracteres routeUrl, Cadeia de caracteres physicalfile, bool checkPhysicalUrlAccess, padrões de RouteValueDictionary, restrições de RouteValueDictionary)*</span><span class="sxs-lookup"><span data-stu-id="61cac-500">*MapPageRoute(string routeName, string routeUrl, string physicalFile, bool checkPhysicalUrlAccess, RouteValueDictionary defaults, RouteValueDictionary constraints)*</span></span>

<span data-ttu-id="61cac-501">O parâmetro *checkPhysicalUrlAccess* especifica se a rota deve verificar as permissões de segurança para a página física que está sendo roteada (neste caso, Search. aspx) e as permissões na URL de entrada (nesse caso, Search/{SearchTerm}).</span><span class="sxs-lookup"><span data-stu-id="61cac-501">The *checkPhysicalUrlAccess* parameter specifies whether the route should check the security permissions for the physical page being routed to (in this case, search.aspx) and the permissions on the incoming URL (in this case, search/{searchterm}).</span></span> <span data-ttu-id="61cac-502">Se o valor de *checkPhysicalUrlAccess* for *false*, somente as permissões da URL de entrada serão verificadas.</span><span class="sxs-lookup"><span data-stu-id="61cac-502">If the value of *checkPhysicalUrlAccess* is *false*, only the permissions of the incoming URL will be checked.</span></span> <span data-ttu-id="61cac-503">Essas permissões são definidas no arquivo `Web.config` usando configurações como as seguintes:</span><span class="sxs-lookup"><span data-stu-id="61cac-503">These permissions are defined in the `Web.config` file using settings such as the following:</span></span>

[!code-xml[Main](overview/samples/sample40.xml)]

<span data-ttu-id="61cac-504">Na configuração de exemplo, o acesso é negado à página física `search.aspx` para todos os usuários, exceto aqueles que estão na função de administrador.</span><span class="sxs-lookup"><span data-stu-id="61cac-504">In the example configuration, access is denied to the physical page `search.aspx` for all users except those who are in the admin role.</span></span> <span data-ttu-id="61cac-505">Quando o parâmetro *checkPhysicalUrlAccess* é definido como *true* (que é seu valor padrão), somente usuários administradores têm permissão para acessar a URL/Search/{SearchTerm}, pois a página física Search. aspx é restrita aos usuários nessa função.</span><span class="sxs-lookup"><span data-stu-id="61cac-505">When the *checkPhysicalUrlAccess* parameter is set to *true* (which is its default value), only admin users are allowed to access the URL /search/{searchterm}, because the physical page search.aspx is restricted to users in that role.</span></span> <span data-ttu-id="61cac-506">Se *checkPhysicalUrlAccess* for definido como *false* e o site estiver configurado como mostrado no exemplo anterior, todos os usuários autenticados terão permissão para acessar a URL/Search/{SearchTerm}.</span><span class="sxs-lookup"><span data-stu-id="61cac-506">If *checkPhysicalUrlAccess* is set to *false* and the site is configured as shown in the previous example, all authenticated users are allowed to access the URL /search/{searchterm}.</span></span>

#### <a name="reading-routing-information-in-a-web-forms-page"></a><span data-ttu-id="61cac-507">Lendo informações de roteamento em uma página de Web Forms</span><span class="sxs-lookup"><span data-stu-id="61cac-507">Reading Routing Information in a Web Forms Page</span></span>

<span data-ttu-id="61cac-508">No código da página física Web Forms, você pode acessar as informações que o roteamento extraiu da URL (ou outras informações que outro objeto adicionou ao objeto *RouteData* ) usando duas novas propriedades: *HttpRequest. RequestContext* e *Page. RouteData*.</span><span class="sxs-lookup"><span data-stu-id="61cac-508">In the code of the Web Forms physical page, you can access the information that routing has extracted from the URL (or other information that another object has added to the *RouteData* object) by using two new properties: *HttpRequest.RequestContext* and *Page.RouteData*.</span></span> <span data-ttu-id="61cac-509">(*Page. RouteData* encapsula *HttpRequest. RequestContext. RouteData*.) O exemplo a seguir mostra como usar *Page. RouteData*.</span><span class="sxs-lookup"><span data-stu-id="61cac-509">(*Page.RouteData* wraps *HttpRequest.RequestContext.RouteData*.) The following example shows how to use *Page.RouteData*.</span></span>

[!code-csharp[Main](overview/samples/sample41.cs)]

<span data-ttu-id="61cac-510">O código extrai o valor que foi passado para o parâmetro SearchTerm, conforme definido na rota de exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="61cac-510">The code extracts the value that was passed for the searchterm parameter, as defined in the example route earlier.</span></span> <span data-ttu-id="61cac-511">Considere a seguinte URL de solicitação:</span><span class="sxs-lookup"><span data-stu-id="61cac-511">Consider the following request URL:</span></span>

[!code-console[Main](overview/samples/sample42.cmd)]

<span data-ttu-id="61cac-512">Quando essa solicitação é feita, a palavra "Scott" seria renderizada na página `search.aspx`.</span><span class="sxs-lookup"><span data-stu-id="61cac-512">When this request is made, the word "scott" would be rendered in the `search.aspx` page.</span></span>

#### <a name="accessing-routing-information-in-markup"></a><span data-ttu-id="61cac-513">Acessando informações de roteamento na marcação</span><span class="sxs-lookup"><span data-stu-id="61cac-513">Accessing Routing Information in Markup</span></span>

<span data-ttu-id="61cac-514">O método descrito na seção anterior mostra como obter dados de rota no código em uma página de Web Forms.</span><span class="sxs-lookup"><span data-stu-id="61cac-514">The method described in the previous section shows how to get route data in code in a Web Forms page.</span></span> <span data-ttu-id="61cac-515">Você também pode usar expressões em marcação que lhe dão acesso às mesmas informações.</span><span class="sxs-lookup"><span data-stu-id="61cac-515">You can also use expressions in markup that give you access to the same information.</span></span> <span data-ttu-id="61cac-516">Construtores de expressões são uma maneira avançada e elegante de trabalhar com código declarativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-516">Expression builders are a powerful and elegant way to work with declarative code.</span></span> <span data-ttu-id="61cac-517">(Para obter mais informações, consulte a entrada [Express você mesmo com construtores de expressão personalizados](http://haacked.com/archive/2006/11/29/Express_Yourself_With_Custom_Expression_Builders.aspx) no blog de Phil Haack.)</span><span class="sxs-lookup"><span data-stu-id="61cac-517">(For more information, see the entry [Express Yourself With Custom Expression Builders](http://haacked.com/archive/2006/11/29/Express_Yourself_With_Custom_Expression_Builders.aspx) on Phil Haack's blog.)</span></span>

<span data-ttu-id="61cac-518">O ASP.NET 4 inclui dois novos construtores de expressão para roteamento de Web Forms.</span><span class="sxs-lookup"><span data-stu-id="61cac-518">ASP.NET 4 includes two new expression builders for Web Forms routing.</span></span> <span data-ttu-id="61cac-519">O exemplo a seguir mostra como usá-los.</span><span class="sxs-lookup"><span data-stu-id="61cac-519">The following example shows how to use them.</span></span>

[!code-aspx[Main](overview/samples/sample43.aspx)]

<span data-ttu-id="61cac-520">No exemplo, a expressão *RouteUrl* é usada para definir uma URL baseada em um parâmetro de rota.</span><span class="sxs-lookup"><span data-stu-id="61cac-520">In the example, the *RouteUrl* expression is used to define a URL that is based on a route parameter.</span></span> <span data-ttu-id="61cac-521">Isso evita que você tenha que embutir em código a URL completa na marcação e permite alterar a estrutura da URL mais tarde, sem a necessidade de qualquer alteração nesse link.</span><span class="sxs-lookup"><span data-stu-id="61cac-521">This saves you from having to hard-code the complete URL into the markup, and lets you change the URL structure later without requiring any change to this link.</span></span>

<span data-ttu-id="61cac-522">Com base na rota definida anteriormente, essa marcação gera a seguinte URL:</span><span class="sxs-lookup"><span data-stu-id="61cac-522">Based on the route defined earlier, this markup generates the following URL:</span></span>

[!code-console[Main](overview/samples/sample44.cmd)]

<span data-ttu-id="61cac-523">O ASP.NET automaticamente funciona a rota correta (ou seja, gera a URL correta) com base nos parâmetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="61cac-523">ASP.NET automatically works out the correct route (that is, it generates the correct URL) based on the input parameters.</span></span> <span data-ttu-id="61cac-524">Você também pode incluir um nome de rota na expressão, que permite especificar uma rota a ser usada.</span><span class="sxs-lookup"><span data-stu-id="61cac-524">You can also include a route name in the expression, which lets you specify a route to use.</span></span>

<span data-ttu-id="61cac-525">O exemplo a seguir mostra como usar a expressão *RouteValue* .</span><span class="sxs-lookup"><span data-stu-id="61cac-525">The following example shows how to use the *RouteValue* expression.</span></span>

[!code-aspx[Main](overview/samples/sample45.aspx)]

<span data-ttu-id="61cac-526">Quando a página que contém esse controle é executada, o valor "Scott" é exibido no rótulo.</span><span class="sxs-lookup"><span data-stu-id="61cac-526">When the page that contains this control runs, the value "scott" is displayed in the label.</span></span>

<span data-ttu-id="61cac-527">A expressão *RouteValue* torna simples o uso de dados de rota na marcação e evita que você precise trabalhar com a sintaxe de página mais complexa. RouteData ["x"] na marcação.</span><span class="sxs-lookup"><span data-stu-id="61cac-527">The *RouteValue* expression makes it simple to use route data in markup, and it avoids having to work with the more complex Page.RouteData["x"] syntax in markup.</span></span>

#### <a name="using-route-data-for-data-source-control-parameters"></a><span data-ttu-id="61cac-528">Usando dados de rota para parâmetros de controle da fonte de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-528">Using Route Data for Data Source Control Parameters</span></span>

<span data-ttu-id="61cac-529">A classe *RouteParameter* permite especificar dados de rota como um valor de parâmetro para consultas em um controle de fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-529">The *RouteParameter* class lets you specify route data as a parameter value for queries in a data source control.</span></span> <span data-ttu-id="61cac-530">Ele [funciona de forma muito parecida com a](https://msdn.microsoft.com/library/system.web.ui.webcontrols.formparameter.aspx) classe, conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-530">It [works much like the](https://msdn.microsoft.com/library/system.web.ui.webcontrols.formparameter.aspx) class, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample46.aspx)]

<span data-ttu-id="61cac-531">Nesse caso, o valor do parâmetro de rota SearchTerm será usado para o parâmetro @companyname na instrução *Select* .</span><span class="sxs-lookup"><span data-stu-id="61cac-531">In this case, the value of the route parameter searchterm will be used for the @companyname parameter in the *Select* statement.</span></span>

<a id="0.2__Toc224729037"></a><a id="0.2__Toc253429261"></a><a id="0.2__Toc243304635"></a>

### <a name="setting-client-ids"></a><span data-ttu-id="61cac-532">Definindo IDs de cliente</span><span class="sxs-lookup"><span data-stu-id="61cac-532">Setting Client IDs</span></span>

<span data-ttu-id="61cac-533">A nova propriedade *ClientIDMode* aborda um problema de longa duração em ASP.net, ou seja, como os controles criam o atributo *ID* para os elementos que eles renderizam.</span><span class="sxs-lookup"><span data-stu-id="61cac-533">The new *ClientIDMode* property addresses a long-standing issue in ASP.NET, namely how controls create the *id* attribute for elements that they render.</span></span> <span data-ttu-id="61cac-534">Saber o atributo *ID* para elementos renderizados é importante se seu aplicativo incluir script de cliente que referencie esses elementos.</span><span class="sxs-lookup"><span data-stu-id="61cac-534">Knowing the *id* attribute for rendered elements is important if your application includes client script that references these elements.</span></span>

<span data-ttu-id="61cac-535">O atributo de *ID* em HTML que é renderizado para controles de servidor Web é gerado com base na propriedade *ClientID* do controle.</span><span class="sxs-lookup"><span data-stu-id="61cac-535">The *id* attribute in HTML that is rendered for Web server controls is generated based on the *ClientID* property of the control.</span></span> <span data-ttu-id="61cac-536">Até o ASP.NET 4, o algoritmo para gerar o atributo *ID* da propriedade *ClientID* foi concatenar o contêiner de nomenclatura (se houver) com a ID e, no caso de controles repetidos (como nos controles de dados), para adicionar um prefixo e um número sequencial.</span><span class="sxs-lookup"><span data-stu-id="61cac-536">Until ASP.NET 4, the algorithm for generating the *id* attribute from the *ClientID* property has been to concatenate the naming container (if any) with the ID, and in the case of repeated controls (as in data controls), to add a prefix and a sequential number.</span></span> <span data-ttu-id="61cac-537">Embora isso sempre tenha garantido que as IDs dos controles na página são exclusivas, o algoritmo resultou em IDs de controle que não eram previsíveis e, portanto, eram difíceis de fazer referência no script de cliente.</span><span class="sxs-lookup"><span data-stu-id="61cac-537">While this has always guaranteed that the IDs of controls in the page are unique, the algorithm has resulted in control IDs that were not predictable, and were therefore difficult to reference in client script.</span></span>

<span data-ttu-id="61cac-538">A nova propriedade *ClientIDMode* permite especificar mais precisamente como a ID do cliente é gerada para controles.</span><span class="sxs-lookup"><span data-stu-id="61cac-538">The new *ClientIDMode* property lets you specify more precisely how the client ID is generated for controls.</span></span> <span data-ttu-id="61cac-539">Você pode definir a propriedade *ClientIDMode* para qualquer controle, incluindo para a página.</span><span class="sxs-lookup"><span data-stu-id="61cac-539">You can set the *ClientIDMode* property for any control, including for the page.</span></span> <span data-ttu-id="61cac-540">As configurações possíveis são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="61cac-540">Possible settings are the following:</span></span>

- <span data-ttu-id="61cac-541">*AutoID* – isso é equivalente ao algoritmo para gerar valores de propriedade *ClientID* que foram usados em versões anteriores do ASP.net.</span><span class="sxs-lookup"><span data-stu-id="61cac-541">*AutoID* – This is equivalent to the algorithm for generating *ClientID* property values that was used in earlier versions of ASP.NET.</span></span>
- <span data-ttu-id="61cac-542">*Estático* – isso especifica que o valor *ClientID* será o mesmo que a ID sem concatenar as IDs dos contêineres de nomenclatura pai.</span><span class="sxs-lookup"><span data-stu-id="61cac-542">*Static* – This specifies that the *ClientID* value will be the same as the ID without concatenating the IDs of parent naming containers.</span></span> <span data-ttu-id="61cac-543">Isso pode ser útil em controles de usuário da Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-543">This can be useful in Web user controls.</span></span> <span data-ttu-id="61cac-544">Como um controle de usuário da Web pode ser localizado em páginas diferentes e em controles de contêiner diferentes, pode ser difícil escrever script de cliente para controles que usam o algoritmo *AutoID* , pois não é possível prever quais serão os valores de ID.</span><span class="sxs-lookup"><span data-stu-id="61cac-544">Because a Web user control can be located on different pages and in different container controls, it can be difficult to write client script for controls that use the *AutoID* algorithm because you cannot predict what the ID values will be.</span></span>
- <span data-ttu-id="61cac-545">*Previsível* – essa opção é usada principalmente em controles de dados que usam modelos repetitivos.</span><span class="sxs-lookup"><span data-stu-id="61cac-545">*Predictable* – This option is primarily for use in data controls that use repeating templates.</span></span> <span data-ttu-id="61cac-546">Ele concatena as propriedades de ID dos contêineres de nomenclatura do controle, mas os valores *ClientID* gerados não contêm cadeias de caracteres como "ctlxxx".</span><span class="sxs-lookup"><span data-stu-id="61cac-546">It concatenates the ID properties of the control's naming containers, but generated *ClientID* values do not contain strings like "ctlxxx".</span></span> <span data-ttu-id="61cac-547">Essa configuração funciona em conjunto com a propriedade *ClientIDRowSuffix* do controle.</span><span class="sxs-lookup"><span data-stu-id="61cac-547">This setting works in conjunction with the *ClientIDRowSuffix* property of the control.</span></span> <span data-ttu-id="61cac-548">Você define a propriedade *ClientIDRowSuffix* como o nome de um campo de dados e o valor desse campo é usado como o sufixo para o valor *ClientID* gerado.</span><span class="sxs-lookup"><span data-stu-id="61cac-548">You set the *ClientIDRowSuffix* property to the name of a data field, and the value of that field is used as the suffix for the generated *ClientID* value.</span></span> <span data-ttu-id="61cac-549">Normalmente, você usaria a chave primária de um registro de dados como o valor *ClientIDRowSuffix* .</span><span class="sxs-lookup"><span data-stu-id="61cac-549">Typically you would use the primary key of a data record as the *ClientIDRowSuffix* value.</span></span>
- <span data-ttu-id="61cac-550">*Inherit* – essa configuração é o comportamento padrão para controles; Ele especifica que a geração de ID de um controle é igual à do seu pai.</span><span class="sxs-lookup"><span data-stu-id="61cac-550">*Inherit* – This setting is the default behavior for controls; it specifies that a control's ID generation is the same as its parent.</span></span>

<span data-ttu-id="61cac-551">Você pode definir a propriedade *ClientIDMode* no nível da página.</span><span class="sxs-lookup"><span data-stu-id="61cac-551">You can set the *ClientIDMode* property at the page level.</span></span> <span data-ttu-id="61cac-552">Isso define o valor de *ClientIDMode* padrão para todos os controles na página atual.</span><span class="sxs-lookup"><span data-stu-id="61cac-552">This defines the default *ClientIDMode* value for all controls in the current page.</span></span>

<span data-ttu-id="61cac-553">O valor de *ClientIDMode* padrão no nível de página é *AutoID*, e o valor de *ClientIDMode* padrão no nível de controle é *Inherit*.</span><span class="sxs-lookup"><span data-stu-id="61cac-553">The default *ClientIDMode* value at the page level is *AutoID*, and the default *ClientIDMode* value at the control level is *Inherit*.</span></span> <span data-ttu-id="61cac-554">Como resultado, se você não definir essa propriedade em qualquer lugar no seu código, todos os controles serão padronizados para o algoritmo *AutoID* .</span><span class="sxs-lookup"><span data-stu-id="61cac-554">As a result, if you do not set this property anywhere in your code, all controls will default to the *AutoID* algorithm.</span></span>

<span data-ttu-id="61cac-555">Você define o valor de nível de página na diretiva *@ Page* , conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-555">You set the page-level value in the *@ Page* directive, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample47.aspx)]

<span data-ttu-id="61cac-556">Você também pode definir o valor *ClientIDMode* no arquivo de configuração, seja no nível do computador (máquina) ou no nível do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-556">You can also set the *ClientIDMode* value in the configuration file, either at the computer (machine) level or at the application level.</span></span> <span data-ttu-id="61cac-557">Isso define a configuração padrão *ClientIDMode* para todos os controles em todas as páginas no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-557">This defines the default *ClientIDMode* setting for all controls in all pages in the application.</span></span> <span data-ttu-id="61cac-558">Se você definir o valor no nível do computador, ele define a configuração padrão de *ClientIDMode* para todos os sites nesse computador.</span><span class="sxs-lookup"><span data-stu-id="61cac-558">If you set the value at the computer level, it defines the default *ClientIDMode* setting for all Web sites on that computer.</span></span> <span data-ttu-id="61cac-559">O exemplo a seguir mostra a configuração *ClientIDMode* no arquivo de configuração:</span><span class="sxs-lookup"><span data-stu-id="61cac-559">The following example shows the *ClientIDMode* setting in the configuration file:</span></span>

[!code-xml[Main](overview/samples/sample48.xml)]

<span data-ttu-id="61cac-560">Conforme observado anteriormente, o valor da propriedade *ClientID* é derivado do contêiner de nomenclatura para o pai de um controle.</span><span class="sxs-lookup"><span data-stu-id="61cac-560">As noted earlier, the value of the *ClientID* property is derived from the naming container for a control's parent.</span></span> <span data-ttu-id="61cac-561">Em alguns cenários, como quando você está usando páginas mestras, os controles podem terminar com IDs como as do seguinte HTML renderizado:</span><span class="sxs-lookup"><span data-stu-id="61cac-561">In some scenarios, such as when you are using master pages, controls can end up with IDs like those in the following rendered HTML:</span></span>

[!code-html[Main](overview/samples/sample49.html)]

<span data-ttu-id="61cac-562">Embora o elemento *Input* mostrado na marcação (de um controle *TextBox* ) seja apenas dois contêineres de nomenclatura em profundidade na página (os controles *ContentPlaceHolder* aninhados), devido à maneira como as páginas mestras são processadas, o resultado final é uma ID de controle como a seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-562">Even though the *input* element shown in the markup (from a *TextBox* control) is only two naming containers deep in the page (the nested *ContentPlaceholder* controls), because of the way master pages are processed, the end result is a control ID like the following:</span></span>

[!code-console[Main](overview/samples/sample50.cmd)]

<span data-ttu-id="61cac-563">Essa ID é garantida como exclusiva na página, mas é desnecessariamente longa para a maioria das finalidades.</span><span class="sxs-lookup"><span data-stu-id="61cac-563">This ID is guaranteed to be unique in the page, but is unnecessarily long for most purposes.</span></span> <span data-ttu-id="61cac-564">Imagine que você deseja reduzir o tamanho da ID renderizada e ter mais controle sobre como a ID é gerada.</span><span class="sxs-lookup"><span data-stu-id="61cac-564">Imagine that you want to reduce the length of the rendered ID, and to have more control over how the ID is generated.</span></span> <span data-ttu-id="61cac-565">(Por exemplo, você deseja eliminar prefixos "ctlxxx".) A maneira mais fácil de conseguir isso é definindo a propriedade *ClientIDMode* , conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-565">(For example, you want to eliminate "ctlxxx" prefixes.) The easiest way to achieve this is by setting the *ClientIDMode* property as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample51.aspx)]

<span data-ttu-id="61cac-566">Neste exemplo, a propriedade *ClientIDMode* é definida como *estática* para o elemento *NamingPanel* mais externo e é definida como *previsível* para o elemento *NamingControl* interno.</span><span class="sxs-lookup"><span data-stu-id="61cac-566">In this sample, the *ClientIDMode* property is set to *Static* for the outermost *NamingPanel* element, and set to *Predictable* for the inner *NamingControl* element.</span></span> <span data-ttu-id="61cac-567">Essas configurações resultam na seguinte marcação (o restante da página e a página mestra são considerados iguais ao exemplo anterior):</span><span class="sxs-lookup"><span data-stu-id="61cac-567">These settings result in the following markup (the rest of the page and the master page is assumed to be the same as in the previous example):</span></span>

[!code-html[Main](overview/samples/sample52.html)]

<span data-ttu-id="61cac-568">A configuração *estática* tem o efeito de redefinir a hierarquia de nomenclatura para todos os controles dentro do elemento *NamingPanel* mais externo e de eliminar as IDs *ContentPlaceHolder* e *MasterPage* da ID gerada.</span><span class="sxs-lookup"><span data-stu-id="61cac-568">The *Static* setting has the effect of resetting the naming hierarchy for any controls inside the outermost *NamingPanel* element, and of eliminating the *ContentPlaceHolder* and *MasterPage* IDs from the generated ID.</span></span> <span data-ttu-id="61cac-569">(O atributo *Name* dos elementos renderizados não é afetado, portanto a funcionalidade normal de ASP.net é mantida para eventos, estado de exibição e assim por diante.) Um efeito colateral da redefinição da hierarquia de nomenclatura é que, mesmo que você mova a marcação para os elementos *NamingPanel* para um controle *ContentPlaceHolder* diferente, as IDs de cliente renderizadas permanecem as mesmas.</span><span class="sxs-lookup"><span data-stu-id="61cac-569">(The *name* attribute of rendered elements is unaffected, so the normal ASP.NET functionality is retained for events, view state, and so on.) A side effect of resetting the naming hierarchy is that even if you move the markup for the *NamingPanel* elements to a different *ContentPlaceholder* control, the rendered client IDs remain the same.</span></span>

> [!NOTE]
> <span data-ttu-id="61cac-570">Observe que cabe a você certificar-se de que as IDs de controle renderizadas sejam exclusivas.</span><span class="sxs-lookup"><span data-stu-id="61cac-570">Note It is up to you to make sure that the rendered control IDs are unique.</span></span> <span data-ttu-id="61cac-571">Se não forem, ele poderá interromper qualquer funcionalidade que exija IDs exclusivas para elementos HTML individuais, como a função *Document. getElementById* do cliente.</span><span class="sxs-lookup"><span data-stu-id="61cac-571">If they are not, it can break any functionality that requires unique IDs for individual HTML elements, such as the client *document.getElementById* function.</span></span>

#### <a name="creating-predictable-client-ids-in-data-bound-controls"></a><span data-ttu-id="61cac-572">Criando IDs de cliente previsíveis em controles vinculados a dados</span><span class="sxs-lookup"><span data-stu-id="61cac-572">Creating Predictable Client IDs in Data-Bound Controls</span></span>

<span data-ttu-id="61cac-573">Os valores *ClientID* que são gerados para controles em um controle de lista associada a dados pelo algoritmo herdado podem ser longos e não são realmente previsíveis.</span><span class="sxs-lookup"><span data-stu-id="61cac-573">The *ClientID* values that are generated for controls in a data-bound list control by the legacy algorithm can be long and are not really predictable.</span></span> <span data-ttu-id="61cac-574">A funcionalidade *ClientIDMode* pode ajudá-lo a ter mais controle sobre como essas IDs são geradas.</span><span class="sxs-lookup"><span data-stu-id="61cac-574">The *ClientIDMode* functionality can help you have more control over how these IDs are generated.</span></span>

<span data-ttu-id="61cac-575">A marcação no exemplo a seguir inclui um controle *ListView* :</span><span class="sxs-lookup"><span data-stu-id="61cac-575">The markup in the following example includes a *ListView* control:</span></span>

[!code-aspx[Main](overview/samples/sample53.aspx)]

<span data-ttu-id="61cac-576">No exemplo anterior, as propriedades *ClientIDMode* e *RowClientIDRowSuffix* são definidas na marcação.</span><span class="sxs-lookup"><span data-stu-id="61cac-576">In the previous example, the *ClientIDMode* and *RowClientIDRowSuffix* properties are set in markup.</span></span> <span data-ttu-id="61cac-577">A propriedade *ClientIDRowSuffix* pode ser usada somente em controles vinculados a dados, e seu comportamento difere dependendo do controle que você está usando.</span><span class="sxs-lookup"><span data-stu-id="61cac-577">The *ClientIDRowSuffix* property can be used only in data-bound controls, and its behavior differs depending on which control you are using.</span></span> <span data-ttu-id="61cac-578">As diferenças são estas:</span><span class="sxs-lookup"><span data-stu-id="61cac-578">The differences are these:</span></span>

- <span data-ttu-id="61cac-579">Controle *GridView* — você pode especificar o nome de uma ou mais colunas na fonte de dados, que são combinadas em tempo de execução para criar as IDs de cliente.</span><span class="sxs-lookup"><span data-stu-id="61cac-579">*GridView* control — You can specify the name of one or more columns in the data source, which are combined at run time to create the client IDs.</span></span> <span data-ttu-id="61cac-580">Por exemplo, se você definir *RowClientIDRowSuffix* como "ProductName, ProductID", as IDs de controle para os elementos renderizados terão um formato semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-580">For example, if you set *RowClientIDRowSuffix* to "ProductName, ProductId", control IDs for rendered elements will have a format like the following:</span></span>

- [!code-console[Main](overview/samples/sample54.cmd)]

- <span data-ttu-id="61cac-581">Controle *ListView* — você pode especificar uma única coluna na fonte de dados que é anexada à ID do cliente.</span><span class="sxs-lookup"><span data-stu-id="61cac-581">*ListView* control — You can specify a single column in the data source that is appended to the client ID.</span></span> <span data-ttu-id="61cac-582">Por exemplo, se você definir *ClientIDRowSuffix* como "ProductName", as IDs de controle renderizadas terão um formato semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-582">For example, if you set *ClientIDRowSuffix* to "ProductName", the rendered control IDs will have a format like the following:</span></span>

- [!code-console[Main](overview/samples/sample55.cmd)]

- <span data-ttu-id="61cac-583">Nesse caso, a trilha 1 é derivada da ID do produto do item de dados atual.</span><span class="sxs-lookup"><span data-stu-id="61cac-583">In this case the trailing 1 is derived from the product ID of the current data item.</span></span>

- <span data-ttu-id="61cac-584">Controle *Repeater* — esse controle não oferece suporte à propriedade *ClientIDRowSuffix* .</span><span class="sxs-lookup"><span data-stu-id="61cac-584">*Repeater* control— This control does not support the *ClientIDRowSuffix* property.</span></span> <span data-ttu-id="61cac-585">Em um controle *Repeater* , o índice da linha atual é usado.</span><span class="sxs-lookup"><span data-stu-id="61cac-585">In a *Repeater* control, the index of the current row is used.</span></span> <span data-ttu-id="61cac-586">Quando você usa ClientIDmode = "previsível" com um controle *Repeater* , as IDs de cliente são geradas com o seguinte formato:</span><span class="sxs-lookup"><span data-stu-id="61cac-586">When you use ClientIDMode="Predictable" with a *Repeater* control, client IDs are generated that have the following format:</span></span>

- [!code-console[Main](overview/samples/sample56.cmd)]

- <span data-ttu-id="61cac-587">O 0 à direita é o índice da linha atual.</span><span class="sxs-lookup"><span data-stu-id="61cac-587">The trailing 0 is the index of the current row.</span></span>

<span data-ttu-id="61cac-588">Os controles *FormView* e *DetailsView* não exibem várias linhas, portanto, não dão suporte à propriedade *ClientIDRowSuffix* .</span><span class="sxs-lookup"><span data-stu-id="61cac-588">The *FormView* and *DetailsView* controls do not display multiple rows, so they do not support the *ClientIDRowSuffix* property.</span></span>

<a id="0.2__Toc224729038"></a><a id="0.2__Toc253429262"></a><a id="0.2__Toc243304636"></a>

### <a name="persisting-row-selection-in-data-controls"></a><span data-ttu-id="61cac-589">Persistência da seleção de linha em controles de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-589">Persisting Row Selection in Data Controls</span></span>

<span data-ttu-id="61cac-590">Os controles *GridView* e *ListView* podem permitir que os usuários selecionem uma linha.</span><span class="sxs-lookup"><span data-stu-id="61cac-590">The *GridView* and *ListView* controls can let users select a row.</span></span> <span data-ttu-id="61cac-591">Nas versões anteriores do ASP.NET, a seleção tem sido baseada no índice de linha na página.</span><span class="sxs-lookup"><span data-stu-id="61cac-591">In previous versions of ASP.NET, selection has been based on the row index on the page.</span></span> <span data-ttu-id="61cac-592">Por exemplo, se você selecionar o terceiro item na página 1 e, em seguida, mover para a página 2, o terceiro item dessa página será selecionado.</span><span class="sxs-lookup"><span data-stu-id="61cac-592">For example, if you select the third item on page 1 and then move to page 2, the third item on that page is selected.</span></span>

<span data-ttu-id="61cac-593">Inicialmente, há suporte para a seleção persistente apenas em projetos Dados Dinâmicos no .NET Framework 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="61cac-593">Persisted selection was initially supported only in Dynamic Data projects in the .NET Framework 3.5 SP1.</span></span> <span data-ttu-id="61cac-594">Quando esse recurso é habilitado, o item selecionado atual é baseado na chave de dados do item.</span><span class="sxs-lookup"><span data-stu-id="61cac-594">When this feature is enabled, the current selected item is based on the data key for the item.</span></span> <span data-ttu-id="61cac-595">Isso significa que, se você selecionar a terceira linha na página 1 e mover para a página 2, nada será selecionado na página 2.</span><span class="sxs-lookup"><span data-stu-id="61cac-595">This means that if you select the third row on page 1 and move to page 2, nothing is selected on page 2.</span></span> <span data-ttu-id="61cac-596">Quando você volta para a página 1, a terceira linha ainda é selecionada.</span><span class="sxs-lookup"><span data-stu-id="61cac-596">When you move back to page 1, the third row is still selected.</span></span> <span data-ttu-id="61cac-597">A seleção persistida agora tem suporte para os controles *GridView* e *ListView* em todos os projetos usando a propriedade *EnablePersistedSelection* , conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-597">Persisted selection is now supported for the *GridView* and *ListView* controls in all projects by using the *EnablePersistedSelection* property, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample57.aspx)]

<a id="0.2__Toc253429263"></a><a id="0.2__Toc243304637"></a>

### <a name="aspnet-chart-control"></a><span data-ttu-id="61cac-598">Controle de gráfico ASP.NET</span><span class="sxs-lookup"><span data-stu-id="61cac-598">ASP.NET Chart Control</span></span>

<span data-ttu-id="61cac-599">O controle de *gráfico* ASP.net expande as ofertas de visualização de dados no .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="61cac-599">The ASP.NET *Chart* control expands the data-visualization offerings in the .NET Framework.</span></span> <span data-ttu-id="61cac-600">Usando o controle de *gráfico* , você pode criar páginas ASP.NET que têm gráficos intuitivos e visualmente atraentes para análise estatística ou financeira complexa.</span><span class="sxs-lookup"><span data-stu-id="61cac-600">Using the *Chart* control, you can create ASP.NET pages that have intuitive and visually compelling charts for complex statistical or financial analysis.</span></span> <span data-ttu-id="61cac-601">O controle do *gráfico* ASP.net foi introduzido como um complemento para a versão .NET Framework SP1 do 3,5 e faz parte da versão .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="61cac-601">The ASP.NET *Chart* control was introduced as an add-on to the .NET Framework version 3.5 SP1 release and is part of the .NET Framework 4 release.</span></span>

<span data-ttu-id="61cac-602">O controle inclui os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="61cac-602">The control includes the following features:</span></span>

- <span data-ttu-id="61cac-603">35 tipos de gráfico distintos.</span><span class="sxs-lookup"><span data-stu-id="61cac-603">35 distinct chart types.</span></span>
- <span data-ttu-id="61cac-604">Um número ilimitado de áreas de gráfico, títulos, legendas e anotações.</span><span class="sxs-lookup"><span data-stu-id="61cac-604">An unlimited number of chart areas, titles, legends, and annotations.</span></span>
- <span data-ttu-id="61cac-605">Uma ampla variedade de configurações de aparência para todos os elementos do gráfico.</span><span class="sxs-lookup"><span data-stu-id="61cac-605">A wide variety of appearance settings for all chart elements.</span></span>
- <span data-ttu-id="61cac-606">suporte a 3-D para a maioria dos tipos de gráfico.</span><span class="sxs-lookup"><span data-stu-id="61cac-606">3-D support for most chart types.</span></span>
- <span data-ttu-id="61cac-607">Rótulos de dados inteligentes que podem se ajustar automaticamente aos pontos de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-607">Smart data labels that can automatically fit around data points.</span></span>
- <span data-ttu-id="61cac-608">Faixas, quebras de escala e dimensionamento logarítmica.</span><span class="sxs-lookup"><span data-stu-id="61cac-608">Strip lines, scale breaks, and logarithmic scaling.</span></span>
- <span data-ttu-id="61cac-609">Mais de 50 fórmulas financeiras e estatísticas para análise e transformação de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-609">More than 50 financial and statistical formulas for data analysis and transformation.</span></span>
- <span data-ttu-id="61cac-610">Vinculação simples e manipulação de dados do gráfico.</span><span class="sxs-lookup"><span data-stu-id="61cac-610">Simple binding and manipulation of chart data.</span></span>
- <span data-ttu-id="61cac-611">Suporte para formatos de dados comuns, como datas, horas e moedas.</span><span class="sxs-lookup"><span data-stu-id="61cac-611">Support for common data formats such as dates, times, and currency.</span></span>
- <span data-ttu-id="61cac-612">Suporte para interatividade e personalização orientada por evento, incluindo eventos de clique de cliente usando AJAX.</span><span class="sxs-lookup"><span data-stu-id="61cac-612">Support for interactivity and event-driven customization, including client click events using Ajax.</span></span>
- <span data-ttu-id="61cac-613">Gerenciamento de estado.</span><span class="sxs-lookup"><span data-stu-id="61cac-613">State management.</span></span>
- <span data-ttu-id="61cac-614">Streaming binário.</span><span class="sxs-lookup"><span data-stu-id="61cac-614">Binary streaming.</span></span>

<span data-ttu-id="61cac-615">As figuras a seguir mostram exemplos de gráficos financeiros produzidos pelo controle de gráfico ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="61cac-615">The following figures show examples of financial charts that are produced by the ASP.NET Chart control.</span></span>

<a id="0.2_graphic17"></a>![](overview/_static/image1.png)

<span data-ttu-id="61cac-616">Figura 2: exemplos de controle do gráfico ASP.NET</span><span class="sxs-lookup"><span data-stu-id="61cac-616">Figure 2: ASP.NET Chart control examples</span></span>

<span data-ttu-id="61cac-617">Para obter mais exemplos de como usar o controle de gráfico ASP.NET, baixe o código de exemplo na página de [exemplos do ambiente de modelo do Microsoft Chart](https://go.microsoft.com/fwlink/?LinkId=128300) no site do MSDN.</span><span class="sxs-lookup"><span data-stu-id="61cac-617">For more examples of how to use the ASP.NET Chart control, download the sample code on the [Samples Environment for Microsoft Chart Controls](https://go.microsoft.com/fwlink/?LinkId=128300) page on the MSDN Web site.</span></span> <span data-ttu-id="61cac-618">Você pode encontrar mais exemplos de conteúdo da Comunidade no [Fórum de controle do gráfico](https://go.microsoft.com/fwlink/?LinkId=128713).</span><span class="sxs-lookup"><span data-stu-id="61cac-618">You can find more samples of community content at the [Chart Control Forum](https://go.microsoft.com/fwlink/?LinkId=128713).</span></span>

#### <a name="adding-the-chart-control-to-an-aspnet-page"></a><span data-ttu-id="61cac-619">Adicionando o controle de gráfico a uma página do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="61cac-619">Adding the Chart Control to an ASP.NET Page</span></span>

<span data-ttu-id="61cac-620">O exemplo a seguir mostra como adicionar um controle de *gráfico* a uma página ASP.NET usando marcação.</span><span class="sxs-lookup"><span data-stu-id="61cac-620">The following example shows how to add a *Chart* control to an ASP.NET page by using markup.</span></span> <span data-ttu-id="61cac-621">No exemplo, o controle de *gráfico* produz um gráfico de colunas para pontos de dados estáticos.</span><span class="sxs-lookup"><span data-stu-id="61cac-621">In the example, the *Chart* control produces a column chart for static data points.</span></span>

[!code-aspx[Main](overview/samples/sample58.aspx)]

#### <a name="using-3-d-charts"></a><span data-ttu-id="61cac-622">Usando gráficos 3D</span><span class="sxs-lookup"><span data-stu-id="61cac-622">Using 3-D Charts</span></span>

<span data-ttu-id="61cac-623">O controle *gráfico* contém uma coleção *ChartAreas* , que pode conter objetos *ChartArea* que definem características de áreas de gráfico.</span><span class="sxs-lookup"><span data-stu-id="61cac-623">The *Chart* control contains a *ChartAreas* collection, which can contain *ChartArea* objects that define characteristics of chart areas.</span></span> <span data-ttu-id="61cac-624">Por exemplo, para usar 3-D para uma área de gráfico, use a propriedade *Area3DStyle* como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-624">For example, to use 3-D for a chart area, use the *Area3DStyle* property as in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample59.aspx)]

<span data-ttu-id="61cac-625">A figura a seguir mostra um gráfico 3D com quatro séries do tipo de gráfico de *barras* .</span><span class="sxs-lookup"><span data-stu-id="61cac-625">The figure below shows a 3-D chart with four series of the *Bar* chart type.</span></span>

<a id="0.2_graphic18"></a>![](overview/_static/image2.png)

<span data-ttu-id="61cac-626">Figura 3:3-gráfico de barras D</span><span class="sxs-lookup"><span data-stu-id="61cac-626">Figure 3: 3-D Bar Chart</span></span>

#### <a name="using-scale-breaks-and-logarithmic-scales"></a><span data-ttu-id="61cac-627">Usando quebras de escala e escalas logarítmicas</span><span class="sxs-lookup"><span data-stu-id="61cac-627">Using Scale Breaks and Logarithmic Scales</span></span>

<span data-ttu-id="61cac-628">As quebras de escala e as escalas logarítmicas são duas maneiras adicionais de adicionar sofisticação ao gráfico.</span><span class="sxs-lookup"><span data-stu-id="61cac-628">Scale breaks and logarithmic scales are two additional ways to add sophistication to the chart.</span></span> <span data-ttu-id="61cac-629">Esses recursos são específicos para cada eixo em uma área do gráfico.</span><span class="sxs-lookup"><span data-stu-id="61cac-629">These features are specific to each axis in a chart area.</span></span> <span data-ttu-id="61cac-630">Por exemplo, para usar esses recursos no eixo Y primário de uma área do gráfico, use as propriedades *axisal. islogarítmica* e *ScaleBreakStyle* em um objeto *ChartArea* .</span><span class="sxs-lookup"><span data-stu-id="61cac-630">For example, to use these features on the primary Y axis of a chart area, use the *AxisY.IsLogarithmic* and *ScaleBreakStyle* properties in a *ChartArea* object.</span></span> <span data-ttu-id="61cac-631">O trecho a seguir mostra como usar quebras de escala no eixo Y primário.</span><span class="sxs-lookup"><span data-stu-id="61cac-631">The following snippet shows how to use scale breaks on the primary Y axis.</span></span>

[!code-aspx[Main](overview/samples/sample60.aspx)]

<span data-ttu-id="61cac-632">A figura a seguir mostra o eixo Y com quebras de escala habilitadas.</span><span class="sxs-lookup"><span data-stu-id="61cac-632">The figure below shows the Y axis with scale breaks enabled.</span></span>

<a id="0.2_graphic19"></a>![](overview/_static/image3.png)

<span data-ttu-id="61cac-633">Figura 4: quebras de escala</span><span class="sxs-lookup"><span data-stu-id="61cac-633">Figure 4: Scale Breaks</span></span>

<a id="0.2__QueryExtender"></a><a id="0.2__Toc224729041"></a><a id="0.2__Toc253429264"></a><a id="0.2__Toc243304638"></a>

### <a name="filtering-data-with-the-queryextender-control"></a><span data-ttu-id="61cac-634">Filtrando dados com o controle QueryExtender</span><span class="sxs-lookup"><span data-stu-id="61cac-634">Filtering Data with the QueryExtender Control</span></span>

<span data-ttu-id="61cac-635">Uma tarefa muito comum para os desenvolvedores que criam páginas da Web controladas por dados é filtrar dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-635">A very common task for developers who create data-driven Web pages is to filter data.</span></span> <span data-ttu-id="61cac-636">Tradicionalmente, isso foi realizado com a criação de cláusulas *Where* em controles de fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-636">This traditionally has been performed by building *Where* clauses in data source controls.</span></span> <span data-ttu-id="61cac-637">Essa abordagem pode ser complicada e, em alguns casos, a sintaxe *Where* não permite que você aproveite a funcionalidade completa do banco de dados subjacente.</span><span class="sxs-lookup"><span data-stu-id="61cac-637">This approach can be complicated, and in some cases the *Where* syntax does not let you take advantage of the full functionality of the underlying database.</span></span>

<span data-ttu-id="61cac-638">Para facilitar a filtragem, um novo controle *QueryExtender* foi adicionado no ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="61cac-638">To make filtering easier, a new *QueryExtender* control has been added in ASP.NET 4.</span></span> <span data-ttu-id="61cac-639">Esse controle pode ser adicionado aos controles *EntityDataSource* ou *LinqDataSource* para filtrar os dados retornados por esses controles.</span><span class="sxs-lookup"><span data-stu-id="61cac-639">This control can be added to *EntityDataSource* or *LinqDataSource* controls in order to filter the data returned by these controls.</span></span> <span data-ttu-id="61cac-640">Como o controle *QueryExtender* depende do LINQ, o filtro é aplicado no servidor de banco de dados antes que os dados sejam enviados para a página, o que resulta em operações muito eficientes.</span><span class="sxs-lookup"><span data-stu-id="61cac-640">Because the *QueryExtender* control relies on LINQ, the filter is applied on the database server before the data is sent to the page, which results in very efficient operations.</span></span>

<span data-ttu-id="61cac-641">O controle *QueryExtender* dá suporte a uma variedade de opções de filtro.</span><span class="sxs-lookup"><span data-stu-id="61cac-641">The *QueryExtender* control supports a variety of filter options.</span></span> <span data-ttu-id="61cac-642">As seções a seguir descrevem essas opções e fornecem exemplos de como usá-las.</span><span class="sxs-lookup"><span data-stu-id="61cac-642">The following sections describe these options and provide examples of how to use them.</span></span>

#### <a name="search"></a><span data-ttu-id="61cac-643">Search</span><span class="sxs-lookup"><span data-stu-id="61cac-643">Search</span></span>

<span data-ttu-id="61cac-644">Para a opção de pesquisa, o controle *QueryExtender* executa uma pesquisa em campos especificados.</span><span class="sxs-lookup"><span data-stu-id="61cac-644">For the search option, the *QueryExtender* control performs a search in specified fields.</span></span> <span data-ttu-id="61cac-645">No exemplo a seguir, o controle usa o texto que é inserido no controle TextBoxSearch e procura seu conteúdo nas colunas `ProductName` e `Supplier.CompanyName` nos dados retornados do controle *LinqDataSource* .</span><span class="sxs-lookup"><span data-stu-id="61cac-645">In the following example, the control uses the text that is entered in the TextBoxSearch control and searches for its contents in the `ProductName` and `Supplier.CompanyName` columns in the data that is returned from the *LinqDataSource* control.</span></span>

[!code-aspx[Main](overview/samples/sample61.aspx)]

#### <a name="range"></a><span data-ttu-id="61cac-646">Intervalo</span><span class="sxs-lookup"><span data-stu-id="61cac-646">Range</span></span>

<span data-ttu-id="61cac-647">A opção de intervalo é semelhante à opção de pesquisa, mas especifica um par de valores para definir o intervalo.</span><span class="sxs-lookup"><span data-stu-id="61cac-647">The range option is similar to the search option, but specifies a pair of values to define the range.</span></span> <span data-ttu-id="61cac-648">No exemplo a seguir, o controle *QueryExtender* pesquisa a coluna `UnitPrice` nos dados retornados do controle *LinqDataSource* .</span><span class="sxs-lookup"><span data-stu-id="61cac-648">In the following example, the *QueryExtender* control searches the `UnitPrice` column in the data returned from the *LinqDataSource* control.</span></span> <span data-ttu-id="61cac-649">O intervalo é lido nos controles TextBoxFrom e TextBoxto na página.</span><span class="sxs-lookup"><span data-stu-id="61cac-649">The range is read from the TextBoxFrom and TextBoxTo controls on the page.</span></span>

[!code-aspx[Main](overview/samples/sample62.aspx)]

#### <a name="propertyexpression"></a><span data-ttu-id="61cac-650">PropertyExpression</span><span class="sxs-lookup"><span data-stu-id="61cac-650">PropertyExpression</span></span>

<span data-ttu-id="61cac-651">A opção expressão de propriedade permite definir uma comparação com um valor de propriedade.</span><span class="sxs-lookup"><span data-stu-id="61cac-651">The property expression option lets you define a comparison to a property value.</span></span> <span data-ttu-id="61cac-652">Se a expressão for avaliada como *true*, os dados que estão sendo examinados serão retornados.</span><span class="sxs-lookup"><span data-stu-id="61cac-652">If the expression evaluates to *true*, the data that is being examined is returned.</span></span> <span data-ttu-id="61cac-653">No exemplo a seguir, o controle *QueryExtender* filtra os dados comparando os dados na coluna `Discontinued` para o valor do controle CheckBoxDiscontinued na página.</span><span class="sxs-lookup"><span data-stu-id="61cac-653">In the following example, the *QueryExtender* control filters data by comparing the data in the `Discontinued` column to the value from the CheckBoxDiscontinued control on the page.</span></span>

[!code-aspx[Main](overview/samples/sample63.aspx)]

#### <a name="customexpression"></a><span data-ttu-id="61cac-654">Personalizador</span><span class="sxs-lookup"><span data-stu-id="61cac-654">CustomExpression</span></span>

<span data-ttu-id="61cac-655">Por fim, você pode especificar uma expressão personalizada a ser usada com o controle *QueryExtender* .</span><span class="sxs-lookup"><span data-stu-id="61cac-655">Finally, you can specify a custom expression to use with the *QueryExtender* control.</span></span> <span data-ttu-id="61cac-656">Essa opção permite chamar uma função na página que define a lógica do filtro personalizado.</span><span class="sxs-lookup"><span data-stu-id="61cac-656">This option lets you call a function in the page that defines custom filter logic.</span></span> <span data-ttu-id="61cac-657">O exemplo a seguir mostra como especificar declarativamente uma expressão personalizada no controle *QueryExtender* .</span><span class="sxs-lookup"><span data-stu-id="61cac-657">The following example shows how to declaratively specify a custom expression in the *QueryExtender* control.</span></span>

[!code-aspx[Main](overview/samples/sample64.aspx)]

<span data-ttu-id="61cac-658">O exemplo a seguir mostra a função personalizada que é invocada pelo controle *QueryExtender* .</span><span class="sxs-lookup"><span data-stu-id="61cac-658">The following example shows the custom function that is invoked by the *QueryExtender* control.</span></span> <span data-ttu-id="61cac-659">Nesse caso, em vez de usar uma consulta de banco de dados que inclui uma cláusula *Where* , o código usa uma consulta LINQ para filtrar os dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-659">In this case, instead of using a database query that includes a *Where* clause, the code uses a LINQ query to filter the data.</span></span>

[!code-csharp[Main](overview/samples/sample65.cs)]

<span data-ttu-id="61cac-660">Esses exemplos mostram apenas uma expressão que está sendo usada no controle *QueryExtender* de cada vez.</span><span class="sxs-lookup"><span data-stu-id="61cac-660">These examples show only one expression being used in the *QueryExtender* control at a time.</span></span> <span data-ttu-id="61cac-661">No entanto, você pode incluir várias expressões dentro do controle *QueryExtender* .</span><span class="sxs-lookup"><span data-stu-id="61cac-661">However, you can include multiple expressions inside the *QueryExtender* control.</span></span>

<a id="0.2__Toc253429265"></a><a id="0.2__Toc243304639"></a>

### <a name="html-encoded-code-expressions"></a><span data-ttu-id="61cac-662">Expressões de código codificadas em HTML</span><span class="sxs-lookup"><span data-stu-id="61cac-662">Html Encoded Code Expressions</span></span>

<span data-ttu-id="61cac-663">Alguns sites ASP.NET (especialmente com o ASP.NET MVC) dependem muito do uso de `<%`= `expression %>` sintaxe (geralmente chamada de "código Nuggets") para gravar texto na resposta.</span><span class="sxs-lookup"><span data-stu-id="61cac-663">Some ASP.NET sites (especially with ASP.NET MVC) rely heavily on using `<%`= `expression %>` syntax (often called "code nuggets") to write some text to the response.</span></span> <span data-ttu-id="61cac-664">Quando você usa expressões de código, é fácil esquecer de codificar o texto em HTML, se o texto vier da entrada do usuário, ele poderá deixar as páginas abertas para um ataque XSS (script entre sites).</span><span class="sxs-lookup"><span data-stu-id="61cac-664">When you use code expressions, it is easy to forget to HTML-encode the text, If the text comes from user input, it can leave pages open to an XSS (Cross Site Scripting) attack.</span></span>

<span data-ttu-id="61cac-665">O ASP.NET 4 apresenta a seguinte nova sintaxe para expressões de código:</span><span class="sxs-lookup"><span data-stu-id="61cac-665">ASP.NET 4 introduces the following new syntax for code expressions:</span></span>

[!code-aspx[Main](overview/samples/sample66.aspx)]

<span data-ttu-id="61cac-666">Essa sintaxe usa a codificação HTML por padrão ao gravar na resposta.</span><span class="sxs-lookup"><span data-stu-id="61cac-666">This syntax uses HTML encoding by default when writing to the response.</span></span> <span data-ttu-id="61cac-667">Essa nova expressão é efetivamente convertida para o seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-667">This new expression effectively translates to the following:</span></span>

[!code-aspx[Main](overview/samples/sample67.aspx)]

<span data-ttu-id="61cac-668">Por exemplo, &lt;%: solicitação ["userinput"]%&gt; executa codificação HTML no valor da *solicitação ["userinput"]* .</span><span class="sxs-lookup"><span data-stu-id="61cac-668">For example, &lt;%: Request["UserInput"] %&gt; performs HTML encoding on the value of *Request["UserInput"]*.</span></span>

<span data-ttu-id="61cac-669">O objetivo desse recurso é tornar possível substituir todas as instâncias da sintaxe antiga pela nova sintaxe, de modo que você não seja forçado a decidir em cada etapa qual delas usar.</span><span class="sxs-lookup"><span data-stu-id="61cac-669">The goal of this feature is to make it possible to replace all instances of the old syntax with the new syntax so that you are not forced to decide at every step which one to use.</span></span> <span data-ttu-id="61cac-670">No entanto, há casos em que o texto que está sendo impresso é destinado a ser HTML ou já está codificado; nesse caso, isso pode levar a uma codificação dupla.</span><span class="sxs-lookup"><span data-stu-id="61cac-670">However, there are cases in which the text being output is meant to be HTML or is already encoded, in which case this could lead to double encoding.</span></span>

<span data-ttu-id="61cac-671">Nesses casos, o ASP.NET 4 introduz uma nova interface, *IHtmlString*, juntamente com uma implementação concreta, *HtmlString*.</span><span class="sxs-lookup"><span data-stu-id="61cac-671">For those cases, ASP.NET 4 introduces a new interface, *IHtmlString*, along with a concrete implementation, *HtmlString*.</span></span> <span data-ttu-id="61cac-672">As instâncias desses tipos permitem que você indique que o valor de retorno já está codificado corretamente (ou examinado de outra forma) para exibição como HTML e que, portanto, o valor não deve ser codificado em HTML novamente.</span><span class="sxs-lookup"><span data-stu-id="61cac-672">Instances of these types let you indicate that the return value is already properly encoded (or otherwise examined) for displaying as HTML, and that therefore the value should not be HTML-encoded again.</span></span> <span data-ttu-id="61cac-673">Por exemplo, o seguinte não deve ser (e não) codificado em HTML:</span><span class="sxs-lookup"><span data-stu-id="61cac-673">For example, the following should not be (and is not) HTML encoded:</span></span>

[!code-aspx[Main](overview/samples/sample68.aspx)]

<span data-ttu-id="61cac-674">Os métodos auxiliares do ASP.NET MVC 2 foram atualizados para funcionar com essa nova sintaxe, de forma que elas não sejam codificadas duas vezes, mas somente quando você estiver executando o ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="61cac-674">ASP.NET MVC 2 helper methods have been updated to work with this new syntax so that they are not double encoded, but only when you are running ASP.NET 4.</span></span> <span data-ttu-id="61cac-675">Essa nova sintaxe não funciona quando você executa um aplicativo usando o ASP.NET 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="61cac-675">This new syntax does not work when you run an application using ASP.NET 3.5 SP1.</span></span>

<span data-ttu-id="61cac-676">Tenha em mente que isso não garante a proteção contra ataques de XSS.</span><span class="sxs-lookup"><span data-stu-id="61cac-676">Keep in mind that this does not guarantee protection from XSS attacks.</span></span> <span data-ttu-id="61cac-677">Por exemplo, HTML que usa valores de atributo que não estão entre aspas pode conter entrada do usuário que ainda é suscetível.</span><span class="sxs-lookup"><span data-stu-id="61cac-677">For example, HTML that uses attribute values that are not in quotation marks can contain user input that is still susceptible.</span></span> <span data-ttu-id="61cac-678">Observe que a saída dos controles ASP.NET e dos auxiliares do MVC ASP.NET sempre inclui valores de atributo entre aspas, que é a abordagem recomendada.</span><span class="sxs-lookup"><span data-stu-id="61cac-678">Note that the output of ASP.NET controls and ASP.NET MVC helpers always includes attribute values in quotation marks, which is the recommended approach.</span></span>

<span data-ttu-id="61cac-679">Da mesma forma, essa sintaxe não executa a codificação JavaScript, como quando você cria uma cadeia de caracteres JavaScript com base na entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="61cac-679">Likewise, this syntax does not perform JavaScript encoding, such as when you create a JavaScript string based on user input.</span></span>

<a id="0.2__Toc253429266"></a><a id="0.2__Toc243304640"></a>

### <a name="project-template-changes"></a><span data-ttu-id="61cac-680">Alterações de modelo de projeto</span><span class="sxs-lookup"><span data-stu-id="61cac-680">Project Template Changes</span></span>

<span data-ttu-id="61cac-681">Em versões anteriores do ASP.NET, quando você usa o Visual Studio para criar um novo projeto de site da Web ou projeto de aplicativo Web, os projetos resultantes contêm apenas uma página default. aspx, um arquivo de `Web.config` padrão e a pasta `App_Data`, conforme mostrado na ilustração a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-681">In earlier versions of ASP.NET, when you use Visual Studio to create a new Web Site project or Web Application project, the resulting projects contain only a Default.aspx page, a default `Web.config` file, and the `App_Data` folder, as shown in the following illustration:</span></span>

<a id="0.2_graphic1A"></a>![](overview/_static/image4.png)

<span data-ttu-id="61cac-682">O Visual Studio também dá suporte a um tipo de projeto de site vazio, que não contém nenhum arquivo, conforme mostrado na figura a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-682">Visual Studio also supports an Empty Web Site project type, which contains no files at all, as shown in the following figure:</span></span>

<a id="0.2_graphic1B"></a>![](overview/_static/image5.png)

<span data-ttu-id="61cac-683">O resultado é que, para o iniciante, há uma pequena orientação sobre como criar um aplicativo Web de produção.</span><span class="sxs-lookup"><span data-stu-id="61cac-683">The result is that for the beginner, there is very little guidance on how to build a production Web application.</span></span> <span data-ttu-id="61cac-684">Portanto, o ASP.NET 4 introduz três novos modelos, um para um projeto de aplicativo Web vazio e um para um aplicativo Web e um projeto de site.</span><span class="sxs-lookup"><span data-stu-id="61cac-684">Therefore, ASP.NET 4 introduces three new templates, one for an empty Web application project, and one each for a Web Application and Web Site project.</span></span>

#### <a name="empty-web-application-template"></a><span data-ttu-id="61cac-685">Modelo de aplicativo Web vazio</span><span class="sxs-lookup"><span data-stu-id="61cac-685">Empty Web Application Template</span></span>

<span data-ttu-id="61cac-686">Como o nome sugere, o modelo de aplicativo Web vazio é um projeto de aplicativo Web removido.</span><span class="sxs-lookup"><span data-stu-id="61cac-686">As the name suggests, the Empty Web Application template is a stripped-down Web Application project.</span></span> <span data-ttu-id="61cac-687">Você seleciona esse modelo de projeto na caixa de diálogo novo projeto do Visual Studio, conforme mostrado na figura a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-687">You select this project template from the Visual Studio New Project dialog box, as shown in the following figure:</span></span>

[![](overview/_static/image7.png)](overview/_static/image6.png)

<span data-ttu-id="61cac-688">([Clique para exibir a imagem em tamanho normal](overview/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="61cac-688">([Click to view full-size image](overview/_static/image8.png))</span></span>

<span data-ttu-id="61cac-689">Quando você cria um aplicativo Web ASP.NET vazio, o Visual Studio cria o seguinte layout de pasta:</span><span class="sxs-lookup"><span data-stu-id="61cac-689">When you create an Empty ASP.NET Web Application, Visual Studio creates the following folder layout:</span></span>

<a id="0.2_graphic1D"></a>![](overview/_static/image9.png)

<span data-ttu-id="61cac-690">Isso é semelhante ao layout do site da Web vazio de versões anteriores do ASP.NET, com uma exceção.</span><span class="sxs-lookup"><span data-stu-id="61cac-690">This is similar to the Empty Web Site layout from earlier versions of ASP.NET, with one exception.</span></span> <span data-ttu-id="61cac-691">No Visual Studio 2010, os projetos de aplicativo Web vazio e de site vazio contêm o seguinte arquivo mínimo de `Web.config` que contém informações usadas pelo Visual Studio para identificar a estrutura de destino do projeto:</span><span class="sxs-lookup"><span data-stu-id="61cac-691">In Visual Studio 2010, Empty Web Application and Empty Web Site projects contain the following minimal `Web.config` file that contains information used by Visual Studio to identify the framework that the project is targeting:</span></span>

<a id="0.2_graphic1E"></a>![](overview/_static/image10.png)

<span data-ttu-id="61cac-692">Sem essa propriedade *TargetFramework* , o Visual Studio assume como padrão o direcionamento do .NET Framework 2,0 para preservar a compatibilidade ao abrir aplicativos mais antigos.</span><span class="sxs-lookup"><span data-stu-id="61cac-692">Without this *targetFramework* property, Visual Studio defaults to targeting the .NET Framework 2.0 in order to preserve compatibility when opening older applications.</span></span>

#### <a name="web-application-and-web-site-project-templates"></a><span data-ttu-id="61cac-693">Modelos de projeto de aplicativo Web e de site</span><span class="sxs-lookup"><span data-stu-id="61cac-693">Web Application and Web Site Project Templates</span></span>

<span data-ttu-id="61cac-694">Os outros dois novos modelos de projeto que são fornecidos com o Visual Studio 2010 contêm alterações importantes.</span><span class="sxs-lookup"><span data-stu-id="61cac-694">The other two new project templates that are shipped with Visual Studio 2010 contain major changes.</span></span> <span data-ttu-id="61cac-695">A figura a seguir mostra o layout do projeto que é criado quando você cria um novo projeto de aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-695">The following figure shows the project layout that is created when you create a new Web Application project.</span></span> <span data-ttu-id="61cac-696">(O layout de um projeto de site é praticamente idêntico.)</span><span class="sxs-lookup"><span data-stu-id="61cac-696">(The layout for a Web Site project is virtually identical.)</span></span>

- <a id="0.2_graphic1F"></a>![](overview/_static/image11.png)

<span data-ttu-id="61cac-697">O projeto inclui vários arquivos que não foram criados em versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="61cac-697">The project includes a number of files that were not created in earlier versions.</span></span> <span data-ttu-id="61cac-698">Além disso, o novo projeto de aplicativo Web é configurado com a funcionalidade de associação básica, que permite que você comece rapidamente a proteger o acesso ao novo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-698">In addition, the new Web Application project is configured with basic membership functionality, which lets you quickly get started in securing access to the new application.</span></span> <span data-ttu-id="61cac-699">Devido a essa inclusão, o arquivo de `Web.config` para o novo projeto inclui entradas que são usadas para configurar associação, funções e perfis.</span><span class="sxs-lookup"><span data-stu-id="61cac-699">Because of this inclusion, the `Web.config` file for the new project includes entries that are used to configure membership, roles, and profiles.</span></span> <span data-ttu-id="61cac-700">O exemplo a seguir mostra o arquivo `Web.config` para um novo projeto de aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-700">The following example shows the `Web.config` file for a new Web Application project.</span></span> <span data-ttu-id="61cac-701">(Nesse caso, *roleManager* está desabilitado.)</span><span class="sxs-lookup"><span data-stu-id="61cac-701">(In this case, *roleManager* is disabled.)</span></span>

[![](overview/_static/image13.png)](overview/_static/image12.png)

<span data-ttu-id="61cac-702">([Clique para exibir a imagem em tamanho normal](overview/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="61cac-702">([Click to view full-size image](overview/_static/image14.png))</span></span>

<span data-ttu-id="61cac-703">O projeto também contém um segundo arquivo de `Web.config` no diretório `Account`.</span><span class="sxs-lookup"><span data-stu-id="61cac-703">The project also contains a second `Web.config` file in the `Account` directory.</span></span> <span data-ttu-id="61cac-704">O segundo arquivo de configuração fornece uma maneira de proteger o acesso à página ChangePassword. aspx para usuários não registrados.</span><span class="sxs-lookup"><span data-stu-id="61cac-704">The second configuration file provides a way to secure access to the ChangePassword.aspx page for non-logged in users.</span></span> <span data-ttu-id="61cac-705">O exemplo a seguir mostra o conteúdo do segundo arquivo de `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="61cac-705">The following example shows the contents of the second `Web.config` file.</span></span>

![](overview/_static/image15.png)

<span data-ttu-id="61cac-706">As páginas criadas por padrão nos novos modelos de projeto também contêm mais conteúdo do que nas versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="61cac-706">The pages created by default in the new project templates also contain more content than in previous versions.</span></span> <span data-ttu-id="61cac-707">O projeto contém uma página mestra padrão e um arquivo CSS, e a página padrão (default. aspx) é configurada para usar a página mestra por padrão.</span><span class="sxs-lookup"><span data-stu-id="61cac-707">The project contains a default master page and CSS file, and the default page (Default.aspx) is configured to use the master page by default.</span></span> <span data-ttu-id="61cac-708">O resultado é que quando você executa o aplicativo Web ou o site pela primeira vez, a página padrão (Home) já está funcional.</span><span class="sxs-lookup"><span data-stu-id="61cac-708">The result is that when you run the Web application or Web site for the first time, the default (home) page is already functional.</span></span> <span data-ttu-id="61cac-709">Na verdade, é semelhante à página padrão que você vê quando inicia um novo aplicativo MVC.</span><span class="sxs-lookup"><span data-stu-id="61cac-709">In fact, it is similar to the default page you see when you start up a new MVC application.</span></span>

[![](overview/_static/image17.png)](overview/_static/image16.png)

<span data-ttu-id="61cac-710">([Clique para exibir a imagem em tamanho normal](overview/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="61cac-710">([Click to view full-size image](overview/_static/image18.png))</span></span>

<span data-ttu-id="61cac-711">A intenção dessas alterações nos modelos de projeto é fornecer orientações sobre como começar a criar um novo aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-711">The intention of these changes to the project templates is to provide guidance on how to start building a new Web application.</span></span> <span data-ttu-id="61cac-712">Com a marcação semanticamente correta, em conformidade com o XHTML 1,0 e com o layout especificado usando o CSS, as páginas nos modelos representam as práticas recomendadas para a criação de aplicativos Web ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="61cac-712">With semantically correct, strict XHTML 1.0-compliant markup and with layout that is specified using CSS, the pages in the templates represent best practices for building ASP.NET 4 Web applications.</span></span> <span data-ttu-id="61cac-713">As páginas padrão também têm um layout de duas colunas que você pode personalizar facilmente.</span><span class="sxs-lookup"><span data-stu-id="61cac-713">The default pages also have a two-column layout that you can easily customize.</span></span>

<span data-ttu-id="61cac-714">Por exemplo, imagine que, para um novo aplicativo Web, você queira alterar algumas das cores e inserir o logotipo da empresa no lugar do logotipo do meu aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="61cac-714">For example, imagine that for a new Web Application you want to change some of the colors and insert your company logo in place of the My ASP.NET Application logo.</span></span> <span data-ttu-id="61cac-715">Para fazer isso, você cria um novo diretório em `Content` para armazenar a imagem do logotipo:</span><span class="sxs-lookup"><span data-stu-id="61cac-715">To do this, you create a new directory under `Content` to store your logo image:</span></span>

<a id="0.2_graphic23"></a>![](overview/_static/image19.png)

<span data-ttu-id="61cac-716">Para adicionar a imagem à página, abra o arquivo de `Site.Master`, localize onde o texto do aplicativo meu ASP.NET está definido e substitua-o por um elemento *Image* cujo atributo *src* esteja definido como a nova imagem do logotipo, como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-716">To add the image to the page, you then open the `Site.Master` file, find where the My ASP.NET Application text is defined, and replace it with an *image* element whose *src* attribute is set to the new logo image, as in the following example:</span></span>

[![](overview/_static/image21.png)](overview/_static/image20.png)

<span data-ttu-id="61cac-717">([Clique para exibir a imagem em tamanho normal](overview/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="61cac-717">([Click to view full-size image](overview/_static/image22.png))</span></span>

<span data-ttu-id="61cac-718">Em seguida, você pode ir para o arquivo site. css e modificar as definições de classe CSS para alterar a cor do plano de fundo da página, bem como a do cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="61cac-718">You can then go into the Site.css file and modify CSS class definitions to change the background color of the page as well as that of the header.</span></span>

<span data-ttu-id="61cac-719">O resultado dessas alterações é que você pode exibir um home page personalizado com muito pouco esforço:</span><span class="sxs-lookup"><span data-stu-id="61cac-719">The result of these changes is that you can display a customized home page with very little effort:</span></span>

[![](overview/_static/image24.png)](overview/_static/image23.png)

<span data-ttu-id="61cac-720">([Clique para exibir a imagem em tamanho normal](overview/_static/image25.png))</span><span class="sxs-lookup"><span data-stu-id="61cac-720">([Click to view full-size image](overview/_static/image25.png))</span></span>

<a id="0.2__Toc253429267"></a><a id="0.2__Toc243304641"></a>

### <a name="css-improvements"></a><span data-ttu-id="61cac-721">Aprimoramentos de CSS</span><span class="sxs-lookup"><span data-stu-id="61cac-721">CSS Improvements</span></span>

<span data-ttu-id="61cac-722">Uma das principais áreas de trabalho no ASP.NET 4 tem sido para ajudar a renderizar HTML em conformidade com os padrões de HTML mais recentes.</span><span class="sxs-lookup"><span data-stu-id="61cac-722">One of the major areas of work in ASP.NET 4 has been to help render HTML that is compliant with the latest HTML standards.</span></span> <span data-ttu-id="61cac-723">Isso inclui alterações de como os controles de servidor Web ASP.NET usam estilos CSS.</span><span class="sxs-lookup"><span data-stu-id="61cac-723">This includes changes to how ASP.NET Web server controls use CSS styles.</span></span>

#### <a name="compatibility-setting-for-rendering"></a><span data-ttu-id="61cac-724">Configuração de compatibilidade para renderização</span><span class="sxs-lookup"><span data-stu-id="61cac-724">Compatibility Setting for Rendering</span></span>

<span data-ttu-id="61cac-725">Por padrão, quando um aplicativo ou site da Web tem como alvo o .NET Framework 4, o atributo *controlRenderingCompatibilityVersion* do elemento *pages* é definido como "4,0".</span><span class="sxs-lookup"><span data-stu-id="61cac-725">By default, when a Web application or Web site targets the .NET Framework 4, the *controlRenderingCompatibilityVersion* attribute of the *pages* element is set to "4.0".</span></span> <span data-ttu-id="61cac-726">Esse elemento é definido no arquivo de `Web.config` no nível da máquina e, por padrão, se aplica a todos os aplicativos do ASP.NET 4:</span><span class="sxs-lookup"><span data-stu-id="61cac-726">This element is defined in the machine-level `Web.config` file and by default applies to all ASP.NET 4 applications:</span></span>

[!code-xml[Main](overview/samples/sample69.xml)]

<span data-ttu-id="61cac-727">O valor de *controlRenderingCompatibility* é uma cadeia de caracteres, que permite novas definições de versão em potencial em versões futuras.</span><span class="sxs-lookup"><span data-stu-id="61cac-727">The value for *controlRenderingCompatibility* is a string, which allows potential new version definitions in future releases.</span></span> <span data-ttu-id="61cac-728">Na versão atual, os seguintes valores têm suporte para essa propriedade:</span><span class="sxs-lookup"><span data-stu-id="61cac-728">In the current release, the following values are supported for this property:</span></span>

- <span data-ttu-id="61cac-729">"3.5".</span><span class="sxs-lookup"><span data-stu-id="61cac-729">"3.5".</span></span> <span data-ttu-id="61cac-730">Essa configuração indica renderização e marcação herdadas.</span><span class="sxs-lookup"><span data-stu-id="61cac-730">This setting indicates legacy rendering and markup.</span></span> <span data-ttu-id="61cac-731">A marcação renderizada por controles é de 100% compatível com versões anteriores e a configuração da propriedade *xhtmlConformance* é respeitada.</span><span class="sxs-lookup"><span data-stu-id="61cac-731">Markup rendered by controls is 100% backward compatible, and the setting of the *xhtmlConformance* property is honored.</span></span>
- <span data-ttu-id="61cac-732">"4.0".</span><span class="sxs-lookup"><span data-stu-id="61cac-732">"4.0".</span></span> <span data-ttu-id="61cac-733">Se a propriedade tiver essa configuração, os controles de servidor Web ASP.NET farão o seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-733">If the property has this setting, ASP.NET Web server controls do the following:</span></span>
- <span data-ttu-id="61cac-734">A propriedade *xhtmlConformance* é sempre tratada como "estrita".</span><span class="sxs-lookup"><span data-stu-id="61cac-734">The *xhtmlConformance* property is always treated as "Strict".</span></span> <span data-ttu-id="61cac-735">Como resultado, os controles renderizam a marcação de XHTML 1,0 estrita.</span><span class="sxs-lookup"><span data-stu-id="61cac-735">As a result, controls render XHTML 1.0 Strict markup.</span></span>
- <span data-ttu-id="61cac-736">A desabilitação de controles que não são de entrada não renderiza mais estilos inválidos.</span><span class="sxs-lookup"><span data-stu-id="61cac-736">Disabling non-input controls no longer renders invalid styles.</span></span>
- <span data-ttu-id="61cac-737">os elementos da *div* sobre os campos ocultos agora são estilizados para que não interfiram nas regras de CSS criadas pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="61cac-737">*div* elements around hidden fields are now styled so they do not interfere with user-created CSS rules.</span></span>
- <span data-ttu-id="61cac-738">Os controles de menu renderizam a marcação que é semanticamente correta e em conformidade com as diretrizes de acessibilidade.</span><span class="sxs-lookup"><span data-stu-id="61cac-738">Menu controls render markup that is semantically correct and compliant with accessibility guidelines.</span></span>
- <span data-ttu-id="61cac-739">Os controles de validação não processam estilos embutidos.</span><span class="sxs-lookup"><span data-stu-id="61cac-739">Validation controls do not render inline styles.</span></span>
- <span data-ttu-id="61cac-740">Controles que anteriormente renderizavam border = "0" (controles que derivam do controle de *tabela* ASP.net e o controle de *imagem* ASP.net) não renderizam mais esse atributo.</span><span class="sxs-lookup"><span data-stu-id="61cac-740">Controls that previously rendered border="0" (controls that derive from the ASP.NET *Table* control, and the ASP.NET *Image* control) no longer render this attribute.</span></span>

#### <a name="disabling-controls"></a><span data-ttu-id="61cac-741">Desabilitando controles</span><span class="sxs-lookup"><span data-stu-id="61cac-741">Disabling Controls</span></span>

<span data-ttu-id="61cac-742">No ASP.NET 3,5 SP1 e versões anteriores, a estrutura renderiza o atributo *Disabled* na marcação HTML para qualquer controle cuja propriedade *habilitada* esteja definida como *false*.</span><span class="sxs-lookup"><span data-stu-id="61cac-742">In ASP.NET 3.5 SP1 and earlier versions, the framework renders the *disabled* attribute in the HTML markup for any control whose *Enabled* property set to *false*.</span></span> <span data-ttu-id="61cac-743">No entanto, de acordo com a especificação HTML 4, 1, somente os elementos de *entrada* devem ter esse atributo.</span><span class="sxs-lookup"><span data-stu-id="61cac-743">However, according to the HTML 4.01 specification, only *input* elements should have this attribute.</span></span>

<span data-ttu-id="61cac-744">No ASP.NET 4, você pode definir a propriedade *controlRenderingCompatibilityVersion* como "3,5", como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-744">In ASP.NET 4, you can set the *controlRenderingCompatibilityVersion* property to "3.5", as in the following example:</span></span>

[!code-xml[Main](overview/samples/sample70.xml)]

<span data-ttu-id="61cac-745">Você pode criar marcação para um controle *rótulo* como o seguinte, que desabilita o controle:</span><span class="sxs-lookup"><span data-stu-id="61cac-745">You might create markup for a *Label* control like the following, which disables the control:</span></span>

[!code-aspx[Main](overview/samples/sample71.aspx)]

<span data-ttu-id="61cac-746">O controle *rótulo* renderizaria o seguinte HTML:</span><span class="sxs-lookup"><span data-stu-id="61cac-746">The *Label* control would render the following HTML:</span></span>

[!code-html[Main](overview/samples/sample72.html)]

<span data-ttu-id="61cac-747">No ASP.NET 4, você pode definir o *controlRenderingCompatibilityVersion* como "4,0".</span><span class="sxs-lookup"><span data-stu-id="61cac-747">In ASP.NET 4, you can set the *controlRenderingCompatibilityVersion* to "4.0".</span></span> <span data-ttu-id="61cac-748">Nesse caso, somente os controles que renderizam elementos de *entrada* renderizarão um atributo *desabilitado* quando a propriedade *habilitada* do controle for definida como *false*.</span><span class="sxs-lookup"><span data-stu-id="61cac-748">In that case, only controls that render *input* elements will render a *disabled* attribute when the control's *Enabled* property is set to *false*.</span></span> <span data-ttu-id="61cac-749">Controles que não processam elementos de *entrada* HTML, em vez disso, processam um atributo de *classe* que faz referência a uma classe CSS que você pode usar para definir uma aparência desabilitada para o controle.</span><span class="sxs-lookup"><span data-stu-id="61cac-749">Controls that do not render HTML *input* elements instead render a *class* attribute that references a CSS class that you can use to define a disabled look for the control.</span></span> <span data-ttu-id="61cac-750">Por exemplo, o controle *rótulo* mostrado no exemplo anterior geraria a seguinte marcação:</span><span class="sxs-lookup"><span data-stu-id="61cac-750">For example, the *Label* control shown in the earlier example would generate the following markup:</span></span>

[!code-html[Main](overview/samples/sample73.html)]

<span data-ttu-id="61cac-751">O valor padrão para a classe especificada para esse controle é "aspNetDisabled".</span><span class="sxs-lookup"><span data-stu-id="61cac-751">The default value for the class that specified for this control is "aspNetDisabled".</span></span> <span data-ttu-id="61cac-752">No entanto, você pode alterar esse valor padrão definindo a propriedade estática *DisabledCssClass* static da classe *WebControl* .</span><span class="sxs-lookup"><span data-stu-id="61cac-752">However, you can change this default value by setting the static *DisabledCssClass* static property of the *WebControl* class.</span></span> <span data-ttu-id="61cac-753">Para desenvolvedores de controle, o comportamento a ser usado para um controle específico também pode ser definido usando a propriedade *SupportsDisabledAttribute* .</span><span class="sxs-lookup"><span data-stu-id="61cac-753">For control developers, the behavior to use for a specific control can also be defined using the *SupportsDisabledAttribute* property.</span></span>

<a id="0.2__Toc253429268"></a><a id="0.2__Toc243304642"></a>

### <a name="hiding-div-elements-around-hidden-fields"></a><span data-ttu-id="61cac-754">Ocultando elementos div em campos ocultos</span><span class="sxs-lookup"><span data-stu-id="61cac-754">Hiding div Elements Around Hidden Fields</span></span>

<span data-ttu-id="61cac-755">O ASP.NET 2,0 e versões posteriores renderizam campos ocultos específicos do sistema (como o elemento *oculto* usado para armazenar informações de estado de exibição) dentro do elemento *div* a fim de obedecer ao padrão XHTML.</span><span class="sxs-lookup"><span data-stu-id="61cac-755">ASP.NET 2.0 and later versions render system-specific hidden fields (such as the *hidden* element used to store view state information) inside *div* element in order to comply with the XHTML standard.</span></span> <span data-ttu-id="61cac-756">No entanto, isso pode causar um problema quando uma regra CSS afeta elementos *div* em uma página.</span><span class="sxs-lookup"><span data-stu-id="61cac-756">However, this can cause a problem when a CSS rule affects *div* elements on a page.</span></span> <span data-ttu-id="61cac-757">Por exemplo, isso pode resultar na exibição de uma linha de um pixel na página ao torno de elementos de *div* ocultos.</span><span class="sxs-lookup"><span data-stu-id="61cac-757">For example, it can result in a one-pixel line appearing in the page around hidden *div* elements.</span></span> <span data-ttu-id="61cac-758">No ASP.NET 4, os elementos *div* que contêm os campos ocultos gerados por ASP.NET adicionam uma referência de classe CSS como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-758">In ASP.NET 4, *div* elements that enclose the hidden fields generated by ASP.NET add a CSS class reference as in the following example:</span></span>

[!code-html[Main](overview/samples/sample74.html)]

<span data-ttu-id="61cac-759">Em seguida, você pode definir uma classe CSS que se aplica somente aos elementos *ocultos* que são gerados por ASP.net, como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-759">You can then define a CSS class that applies only to the *hidden* elements that are generated by ASP.NET, as in the following example:</span></span>

[!code-css[Main](overview/samples/sample75.css)]

<a id="0.2__Toc253429269"></a><a id="0.2__Toc243304643"></a>

### <a name="rendering-an-outer-table-for-templated-controls"></a><span data-ttu-id="61cac-760">Renderizando uma tabela externa para controles de modelo</span><span class="sxs-lookup"><span data-stu-id="61cac-760">Rendering an Outer Table for Templated Controls</span></span>

<span data-ttu-id="61cac-761">Por padrão, os seguintes controles de servidor Web ASP.NET que dão suporte a modelos são automaticamente encapsulados em uma tabela externa que é usada para aplicar estilos embutidos:</span><span class="sxs-lookup"><span data-stu-id="61cac-761">By default, the following ASP.NET Web server controls that support templates are automatically wrapped in an outer table that is used to apply inline styles:</span></span>

- <span data-ttu-id="61cac-762">*FormView*</span><span class="sxs-lookup"><span data-stu-id="61cac-762">*FormView*</span></span>
- <span data-ttu-id="61cac-763">*Logon*</span><span class="sxs-lookup"><span data-stu-id="61cac-763">*Login*</span></span>
- <span data-ttu-id="61cac-764">*PasswordRecovery*</span><span class="sxs-lookup"><span data-stu-id="61cac-764">*PasswordRecovery*</span></span>
- <span data-ttu-id="61cac-765">*ChangePassword*</span><span class="sxs-lookup"><span data-stu-id="61cac-765">*ChangePassword*</span></span>
- <span data-ttu-id="61cac-766">*Assistente*</span><span class="sxs-lookup"><span data-stu-id="61cac-766">*Wizard*</span></span>
- <span data-ttu-id="61cac-767">*CreateUserWizard*</span><span class="sxs-lookup"><span data-stu-id="61cac-767">*CreateUserWizard*</span></span>

<span data-ttu-id="61cac-768">Uma nova propriedade chamada *RenderOuterTable* foi adicionada a esses controles que permite que a tabela externa seja removida da marcação.</span><span class="sxs-lookup"><span data-stu-id="61cac-768">A new property named *RenderOuterTable* has been added to these controls that allows the outer table to be removed from the markup.</span></span> <span data-ttu-id="61cac-769">Por exemplo, considere o seguinte exemplo de um controle *FormView* :</span><span class="sxs-lookup"><span data-stu-id="61cac-769">For example, consider the following example of a *FormView* control:</span></span>

[!code-aspx[Main](overview/samples/sample76.aspx)]

<span data-ttu-id="61cac-770">Essa marcação renderiza a saída a seguir para a página, que inclui uma tabela HTML:</span><span class="sxs-lookup"><span data-stu-id="61cac-770">This markup renders the following output to the page, which includes an HTML table:</span></span>

[!code-html[Main](overview/samples/sample77.html)]

<span data-ttu-id="61cac-771">Para impedir que a tabela seja renderizada, você pode definir a propriedade *RenderOuterTable* do controle *FormView* , como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-771">To prevent the table from being rendered, you can set the *FormView* control's *RenderOuterTable* property, as in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample78.aspx)]

<span data-ttu-id="61cac-772">O exemplo anterior renderiza a saída a seguir, sem os elementos *Table*, *TR*e *td* :</span><span class="sxs-lookup"><span data-stu-id="61cac-772">The previous example renders the following output, without the *table*, *tr*, and *td* elements:</span></span>

> <span data-ttu-id="61cac-773">Conteúdo</span><span class="sxs-lookup"><span data-stu-id="61cac-773">Content</span></span>

<span data-ttu-id="61cac-774">Esse aprimoramento pode facilitar o estilo do conteúdo do controle com CSS, pois nenhuma marca inesperada é renderizada pelo controle.</span><span class="sxs-lookup"><span data-stu-id="61cac-774">This enhancement can make it easier to style the content of the control with CSS, because no unexpected tags are rendered by the control.</span></span>

> [!NOTE]
> <span data-ttu-id="61cac-775">Observe que essa alteração desabilita o suporte para a função de formato automático no designer do Visual Studio 2010, porque não há mais um elemento *Table* que possa hospedar atributos de estilo que são gerados pela opção de formato automático.</span><span class="sxs-lookup"><span data-stu-id="61cac-775">Note This change disables support for the auto-format function in the Visual Studio 2010 designer, because there is no longer a *table* element that can host style attributes that are generated by the auto-format option.</span></span>

<a id="0.2__Toc253429270"></a><a id="0.2__Toc243304644"></a>

### <a name="listview-control-enhancements"></a><span data-ttu-id="61cac-776">Aprimoramentos de controle ListView</span><span class="sxs-lookup"><span data-stu-id="61cac-776">ListView Control Enhancements</span></span>

<span data-ttu-id="61cac-777">O controle *ListView* tornou-se mais fácil de usar no ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="61cac-777">The *ListView* control has been made easier to use in ASP.NET 4.</span></span> <span data-ttu-id="61cac-778">A versão anterior do controle exigia que você especifique um modelo de layout que continha um controle de servidor com uma ID conhecida.</span><span class="sxs-lookup"><span data-stu-id="61cac-778">The earlier version of the control required that you specify a layout template that contained a server control with a known ID.</span></span> <span data-ttu-id="61cac-779">A marcação a seguir mostra um exemplo típico de como usar o controle *ListView* no ASP.net 3,5.</span><span class="sxs-lookup"><span data-stu-id="61cac-779">The following markup shows a typical example of how to use the *ListView* control in ASP.NET 3.5.</span></span>

[!code-aspx[Main](overview/samples/sample79.aspx)]

<span data-ttu-id="61cac-780">No ASP.NET 4, o controle *ListView* não requer um modelo de layout.</span><span class="sxs-lookup"><span data-stu-id="61cac-780">In ASP.NET 4, the *ListView* control does not require a layout template.</span></span> <span data-ttu-id="61cac-781">A marcação mostrada no exemplo anterior pode ser substituída pela seguinte marcação:</span><span class="sxs-lookup"><span data-stu-id="61cac-781">The markup shown in the previous example can be replaced with the following markup:</span></span>

[!code-aspx[Main](overview/samples/sample80.aspx)]

<a id="0.2__Toc253429271"></a><a id="0.2__Toc243304645"></a>

### <a name="checkboxlist-and-radiobuttonlist-control-enhancements"></a><span data-ttu-id="61cac-782">Aprimoramentos no controle CheckBoxList e RadioButtonList</span><span class="sxs-lookup"><span data-stu-id="61cac-782">CheckBoxList and RadioButtonList Control Enhancements</span></span>

<span data-ttu-id="61cac-783">No ASP.NET 3,5, você pode especificar o layout para o *CheckBoxList* e o *RadioButtonList* usando as duas configurações a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-783">In ASP.NET 3.5, you can specify layout for the *CheckBoxList* and *RadioButtonList* using the following two settings:</span></span>

- <span data-ttu-id="61cac-784">*Flow*.</span><span class="sxs-lookup"><span data-stu-id="61cac-784">*Flow*.</span></span> <span data-ttu-id="61cac-785">O controle renderiza os elementos de *span* para conter seu conteúdo.</span><span class="sxs-lookup"><span data-stu-id="61cac-785">The control renders *span* elements to contain its content.</span></span>
- <span data-ttu-id="61cac-786">*Tabela*.</span><span class="sxs-lookup"><span data-stu-id="61cac-786">*Table*.</span></span> <span data-ttu-id="61cac-787">O controle renderiza um elemento *Table* para conter seu conteúdo.</span><span class="sxs-lookup"><span data-stu-id="61cac-787">The control renders a *table* element to contain its content.</span></span>

<span data-ttu-id="61cac-788">O exemplo a seguir mostra a marcação para cada um desses controles.</span><span class="sxs-lookup"><span data-stu-id="61cac-788">The following example shows markup for each of these controls.</span></span>

[!code-aspx[Main](overview/samples/sample81.aspx)]

<span data-ttu-id="61cac-789">Por padrão, os controles renderizam HTML semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-789">By default, the controls render HTML similar to the following:</span></span>

[!code-html[Main](overview/samples/sample82.html)]

<span data-ttu-id="61cac-790">Como esses controles contêm listas de itens, para renderizar o HTML semanticamente correto, eles devem renderizar seu conteúdo usando elementos de lista de HTML (*li*).</span><span class="sxs-lookup"><span data-stu-id="61cac-790">Because these controls contain lists of items, to render semantically correct HTML, they should render their contents using HTML list (*li*) elements.</span></span> <span data-ttu-id="61cac-791">Isso facilita para os usuários que lêem páginas da Web usando tecnologia assistencial e facilitam o estilo de controles usando o CSS.</span><span class="sxs-lookup"><span data-stu-id="61cac-791">This makes it easier for users who read Web pages using assistive technology, and makes the controls easier to style using CSS.</span></span>

<span data-ttu-id="61cac-792">No ASP.NET 4, os controles *CheckBoxList* e *RadioButtonList* dão suporte aos seguintes novos valores para a propriedade *RepeatLayout* :</span><span class="sxs-lookup"><span data-stu-id="61cac-792">In ASP.NET 4, the *CheckBoxList* and *RadioButtonList* controls support the following new values for the *RepeatLayout* property:</span></span>

- <span data-ttu-id="61cac-793">*Ordenadalist* – o conteúdo é renderizado como elementos *li* dentro de um elemento *ol* .</span><span class="sxs-lookup"><span data-stu-id="61cac-793">*OrderedList* – The content is rendered as *li* elements within an *ol* element.</span></span>
- <span data-ttu-id="61cac-794">*UnorderedList* – o conteúdo é renderizado como elementos *li* em um elemento *UL* .</span><span class="sxs-lookup"><span data-stu-id="61cac-794">*UnorderedList* – The content is rendered as *li* elements within a *ul* element.</span></span>

<span data-ttu-id="61cac-795">O exemplo a seguir mostra como usar esses novos valores.</span><span class="sxs-lookup"><span data-stu-id="61cac-795">The following example shows how to use these new values.</span></span>

[!code-aspx[Main](overview/samples/sample83.aspx)]

<span data-ttu-id="61cac-796">A marcação anterior gera o seguinte HTML:</span><span class="sxs-lookup"><span data-stu-id="61cac-796">The preceding markup generates the following HTML:</span></span>

[!code-html[Main](overview/samples/sample84.html)]

> [!NOTE]
> <span data-ttu-id="61cac-797">Observação Se você definir *RepeatLayout* como *ordenadalist* ou *UnorderedList*, a propriedade *RepeatDirection* não poderá mais ser usada e gerará uma exceção em tempo de execução se a propriedade tiver sido definida dentro de sua marcação ou código.</span><span class="sxs-lookup"><span data-stu-id="61cac-797">Note If you set *RepeatLayout* to *OrderedList* or *UnorderedList*, the *RepeatDirection* property can no longer be used and will throw an exception at run time if the property has been set within your markup or code.</span></span> <span data-ttu-id="61cac-798">A propriedade não teria nenhum valor porque o layout visual desses controles é definido usando CSS em vez disso.</span><span class="sxs-lookup"><span data-stu-id="61cac-798">The property would have no value because the visual layout of these controls is defined using CSS instead.</span></span>

<a id="0.2__Toc253429272"></a><a id="0.2__Toc243304646"></a>

### <a name="menu-control-improvements"></a><span data-ttu-id="61cac-799">Aprimoramentos de controle de menu</span><span class="sxs-lookup"><span data-stu-id="61cac-799">Menu Control Improvements</span></span>

<span data-ttu-id="61cac-800">Antes de ASP.NET 4, o controle de *menu* renderizou uma série de tabelas HTML.</span><span class="sxs-lookup"><span data-stu-id="61cac-800">Before ASP.NET 4, the *Menu* control rendered a series of HTML tables.</span></span> <span data-ttu-id="61cac-801">Isso dificultou a aplicação de estilos CSS fora da configuração de propriedades embutidas e também não está em conformidade com os padrões de acessibilidade.</span><span class="sxs-lookup"><span data-stu-id="61cac-801">This made it more difficult to apply CSS styles outside of setting inline properties and was also not compliant with accessibility standards.</span></span>

<span data-ttu-id="61cac-802">No ASP.NET 4, o controle agora renderiza HTML usando marcação semântica que consiste em uma lista não ordenada e elementos de lista.</span><span class="sxs-lookup"><span data-stu-id="61cac-802">In ASP.NET 4, the control now renders HTML using semantic markup that consists of an unordered list and list elements.</span></span> <span data-ttu-id="61cac-803">O exemplo a seguir mostra a marcação em uma página ASP.NET para o controle *menu* .</span><span class="sxs-lookup"><span data-stu-id="61cac-803">The following example shows markup in an ASP.NET page for the *Menu* control.</span></span>

[!code-aspx[Main](overview/samples/sample85.aspx)]

<span data-ttu-id="61cac-804">Quando a página é renderizada, o controle produz o seguinte HTML (o código *onclick* foi omitido para maior clareza):</span><span class="sxs-lookup"><span data-stu-id="61cac-804">When the page renders, the control produces the following HTML (the *onclick* code has been omitted for clarity):</span></span>

[!code-html[Main](overview/samples/sample86.html)]

<span data-ttu-id="61cac-805">Além dos aprimoramentos de renderização, a navegação por teclado do menu foi aprimorada usando o gerenciamento de foco.</span><span class="sxs-lookup"><span data-stu-id="61cac-805">In addition to rendering improvements, keyboard navigation of the menu has been improved using focus management.</span></span> <span data-ttu-id="61cac-806">Quando o controle de *menu* Obtém foco, você pode usar as teclas de direção para navegar pelos elementos.</span><span class="sxs-lookup"><span data-stu-id="61cac-806">When the *Menu* control gets focus, you can use the arrow keys to navigate elements.</span></span> <span data-ttu-id="61cac-807">O controle *menu* agora também anexa funções e atributos de Aria (aplicativos avançados de Internet) acessíveis e seg[o para uma](http://www.w3.org/TR/wai-aria-practices/#menu "Menu diretrizes do ARIA")acessibilidade aprimorada.</span><span class="sxs-lookup"><span data-stu-id="61cac-807">The *Menu* control also now attaches accessible rich internet applications (ARIA) roles and attributes follo[wing the](http://www.w3.org/TR/wai-aria-practices/#menu "Menu ARIA guidelines")for improved accessibility.</span></span>

<span data-ttu-id="61cac-808">Os estilos para o controle de menu são renderizados em um bloco style na parte superior da página, em vez de alinhar com os elementos HTML renderizados.</span><span class="sxs-lookup"><span data-stu-id="61cac-808">Styles for the menu control are rendered in a style block at the top of the page, rather than in line with the rendered HTML elements.</span></span> <span data-ttu-id="61cac-809">Se você quiser assumir controle total sobre o estilo do controle, poderá definir a nova propriedade *IncludeStyleBlock* como *false*; nesse caso, o bloco de estilo não é emitido.</span><span class="sxs-lookup"><span data-stu-id="61cac-809">If you want to take full control over the styling for the control, you can set the new *IncludeStyleBlock* property to *false*, in which case the style block is not emitted.</span></span> <span data-ttu-id="61cac-810">Uma maneira de usar essa propriedade é usar o recurso de formatação automática no designer do Visual Studio para definir a aparência do menu.</span><span class="sxs-lookup"><span data-stu-id="61cac-810">One way to use this property is to use the auto-format feature in the Visual Studio designer to set the appearance of the menu.</span></span> <span data-ttu-id="61cac-811">Em seguida, você pode executar a página, abrir a fonte da página e, em seguida, copiar o bloco de estilo processado para um arquivo CSS externo.</span><span class="sxs-lookup"><span data-stu-id="61cac-811">You can then run the page, open the page source, and then copy the rendered style block to an external CSS file.</span></span> <span data-ttu-id="61cac-812">No Visual Studio, desfaça o estilo e defina *IncludeStyleBlock* como *false*.</span><span class="sxs-lookup"><span data-stu-id="61cac-812">In Visual Studio, undo the styling and set *IncludeStyleBlock* to *false*.</span></span> <span data-ttu-id="61cac-813">O resultado é que a aparência do menu é definida usando estilos em uma folha de estilos externa.</span><span class="sxs-lookup"><span data-stu-id="61cac-813">The result is that the menu appearance is defined using styles in an external style sheet.</span></span>

<a id="0.2__Toc253429273"></a><a id="0.2__Toc243304647"></a>

### <a name="wizard-and-createuserwizard-controls"></a><span data-ttu-id="61cac-814">Assistente e controles CreateUserWizard</span><span class="sxs-lookup"><span data-stu-id="61cac-814">Wizard and CreateUserWizard Controls</span></span>

<span data-ttu-id="61cac-815">O *Assistente* de ASP.net e os controles *CreateUserWizard* dão suporte a modelos que permitem definir o HTML que eles renderizam.</span><span class="sxs-lookup"><span data-stu-id="61cac-815">The ASP.NET *Wizard* and *CreateUserWizard* controls support templates that let you define the HTML that they render.</span></span> <span data-ttu-id="61cac-816">(*CreateUserWizard* deriva do *Assistente*.) O exemplo a seguir mostra a marcação para um controle *CreateUserWizard* totalmente modelado:</span><span class="sxs-lookup"><span data-stu-id="61cac-816">(*CreateUserWizard* derives from *Wizard*.) The following example shows the markup for a fully templated *CreateUserWizard* control:</span></span>

[!code-aspx[Main](overview/samples/sample87.aspx)]

<span data-ttu-id="61cac-817">O controle renderiza HTML semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-817">The control renders HTML similar to the following:</span></span>

[!code-html[Main](overview/samples/sample88.html)]

<span data-ttu-id="61cac-818">No ASP.NET 3,5 SP1, embora você possa alterar o conteúdo do modelo, ainda tem controle limitado sobre a saída do controle *Wizard* .</span><span class="sxs-lookup"><span data-stu-id="61cac-818">In ASP.NET 3.5 SP1, although you can change the template contents, you still have limited control over the output of the *Wizard* control.</span></span> <span data-ttu-id="61cac-819">No ASP.NET 4, você pode criar um modelo *LayoutTemplate* e inserir controles de *espaço reservado* (usando nomes reservados) para especificar como deseja que o *controle do assistente* seja renderizado.</span><span class="sxs-lookup"><span data-stu-id="61cac-819">In ASP.NET 4, you can create a *LayoutTemplate* template and insert *PlaceHolder* controls (using reserved names) to specify how you want the *Wizard control* to render.</span></span> <span data-ttu-id="61cac-820">O exemplo a seguir mostra isso:</span><span class="sxs-lookup"><span data-stu-id="61cac-820">The following example shows this:</span></span>

[!code-aspx[Main](overview/samples/sample89.aspx)]

<span data-ttu-id="61cac-821">O exemplo contém os seguintes espaços reservados nomeados no elemento *LayoutTemplate* :</span><span class="sxs-lookup"><span data-stu-id="61cac-821">The example contains the following named placeholders in the *LayoutTemplate* element:</span></span>

- <span data-ttu-id="61cac-822">*headerPlaceholder* – em tempo de execução, isso é substituído pelo conteúdo do elemento *HeaderTemplate* .</span><span class="sxs-lookup"><span data-stu-id="61cac-822">*headerPlaceholder* – At run time, this is replaced by the contents of the *HeaderTemplate* element.</span></span>
- <span data-ttu-id="61cac-823">*sideBarPlaceholder* – em tempo de execução, isso é substituído pelo conteúdo do elemento *SideBarTemplate* .</span><span class="sxs-lookup"><span data-stu-id="61cac-823">*sideBarPlaceholder* – At run time, this is replaced by the contents of the *SideBarTemplate* element.</span></span>
- <span data-ttu-id="61cac-824">*wizardStepPlaceHolder* – em tempo de execução, isso é substituído pelo conteúdo do elemento *wizardsteptemplate* .</span><span class="sxs-lookup"><span data-stu-id="61cac-824">*wizardStepPlaceHolder* – At run time, this is replaced by the contents of the *WizardStepTemplate* element.</span></span>
- <span data-ttu-id="61cac-825">*navigationPlaceholder* – em tempo de execução, isso é substituído por todos os modelos de navegação que você definiu.</span><span class="sxs-lookup"><span data-stu-id="61cac-825">*navigationPlaceholder* – At run time, this is replaced by any navigation templates that you have defined.</span></span>

<span data-ttu-id="61cac-826">A marcação no exemplo que usa espaços reservados renderiza o HTML a seguir (sem o conteúdo realmente definido nos modelos):</span><span class="sxs-lookup"><span data-stu-id="61cac-826">The markup in the example that uses placeholders renders the following HTML (without the content actually defined in the templates):</span></span>

[!code-html[Main](overview/samples/sample90.html)]

<span data-ttu-id="61cac-827">O único HTML que agora não é definido pelo usuário é um elemento *span* .</span><span class="sxs-lookup"><span data-stu-id="61cac-827">The only HTML that is now not user-defined is a *span* element.</span></span> <span data-ttu-id="61cac-828">(Prevemos isso em versões futuras, até mesmo o elemento *span* não será renderizado.) Isso agora lhe dá controle total sobre praticamente todo o conteúdo que é gerado pelo controle *Wizard* .</span><span class="sxs-lookup"><span data-stu-id="61cac-828">(We anticipate that in future releases, even the *span* element will not be rendered.) This now gives you full control over virtually all the content that is generated by the *Wizard* control.</span></span>

<a id="0.2_dyndata"></a><a id="0.2__Toc253429274"></a><a id="0.2__Toc243304648"></a><a id="0.2__Toc224729042"></a>

## <a name="aspnet-mvc"></a><span data-ttu-id="61cac-829">ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="61cac-829">ASP.NET MVC</span></span>

<span data-ttu-id="61cac-830">O ASP.NET MVC foi introduzido como uma estrutura complementar para o ASP.NET 3,5 SP1 em março de 2009.</span><span class="sxs-lookup"><span data-stu-id="61cac-830">ASP.NET MVC was introduced as an add-on framework to ASP.NET 3.5 SP1 in March 2009.</span></span> <span data-ttu-id="61cac-831">O Visual Studio 2010 inclui o ASP.NET MVC 2, que inclui novos recursos e funcionalidades.</span><span class="sxs-lookup"><span data-stu-id="61cac-831">Visual Studio 2010 includes ASP.NET MVC 2, which includes new features and capabilities.</span></span>

<a id="0.2__Toc253429275"></a>

### <a name="areas-support"></a><span data-ttu-id="61cac-832">Suporte a áreas</span><span class="sxs-lookup"><span data-stu-id="61cac-832">Areas Support</span></span>

<span data-ttu-id="61cac-833">As áreas permitem agrupar controladores e exibições em seções de um aplicativo grande em isolamento relativo de outras seções.</span><span class="sxs-lookup"><span data-stu-id="61cac-833">Areas let you group controllers and views into sections of a large application in relative isolation from other sections.</span></span> <span data-ttu-id="61cac-834">Cada área pode ser implementada como um projeto ASP.NET MVC separado que pode ser referenciado pelo aplicativo principal.</span><span class="sxs-lookup"><span data-stu-id="61cac-834">Each area can be implemented as a separate ASP.NET MVC project that can then be referenced by the main application.</span></span> <span data-ttu-id="61cac-835">Isso ajuda a gerenciar a complexidade quando você cria um aplicativo grande e torna mais fácil para várias equipes trabalharem em conjunto em um único aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-835">This helps manage complexity when you build a large application and makes it easier for multiple teams to work together on a single application.</span></span>

<a id="0.2__Toc253429276"></a>

### <a name="data-annotation-attribute-validation-support"></a><span data-ttu-id="61cac-836">Suporte à validação de atributo de anotação de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-836">Data-Annotation Attribute Validation Support</span></span>

<span data-ttu-id="61cac-837">Os atributos *Annotations* permitem anexar lógica de validação a um modelo usando atributos de metadados.</span><span class="sxs-lookup"><span data-stu-id="61cac-837">*DataAnnotations* attributes let you attach validation logic to a model by using metadata attributes.</span></span> <span data-ttu-id="61cac-838">Os atributos *Annotations* foram introduzidos no ASP.net dados dinâmicos no ASP.net 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="61cac-838">*DataAnnotations* attributes were introduced in ASP.NET Dynamic Data in ASP.NET 3.5 SP1.</span></span> <span data-ttu-id="61cac-839">Esses atributos foram integrados ao associador de modelo padrão e fornecem um meio controlado por metadados para validar a entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="61cac-839">These attributes have been integrated into the default model binder and provide a metadata-driven means to validate user input.</span></span>

<a id="0.2__Toc253429277"></a>

### <a name="templated-helpers"></a><span data-ttu-id="61cac-840">Auxiliares modelados</span><span class="sxs-lookup"><span data-stu-id="61cac-840">Templated Helpers</span></span>

<span data-ttu-id="61cac-841">Os auxiliares com modelo permitem associar automaticamente modelos de edição e exibição com tipos de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-841">Templated helpers let you automatically associate edit and display templates with data types.</span></span> <span data-ttu-id="61cac-842">Por exemplo, você pode usar um auxiliar de modelo para especificar que um elemento de interface do usuário de seletor de data seja automaticamente renderizado para um valor *System. DateTime* .</span><span class="sxs-lookup"><span data-stu-id="61cac-842">For example, you can use a template helper to specify that a date-picker UI element is automatically rendered for a *System.DateTime* value.</span></span> <span data-ttu-id="61cac-843">Isso é semelhante aos modelos de campo no ASP.NET Dados Dinâmicos.</span><span class="sxs-lookup"><span data-stu-id="61cac-843">This is similar to field templates in ASP.NET Dynamic Data.</span></span>

<span data-ttu-id="61cac-844">Os métodos auxiliares *HTML. EditorFor* e *HTML. DisplayFor* têm suporte interno para a renderização de tipos de dados padrão, bem como objetos complexos com várias propriedades.</span><span class="sxs-lookup"><span data-stu-id="61cac-844">The *Html.EditorFor* and *Html.DisplayFor* helper methods have built-in support for rendering standard data types as well as complex objects with multiple properties.</span></span> <span data-ttu-id="61cac-845">Eles também personalizam a renderização, permitindo que você aplique atributos de anotação de dados como *DisplayName* e *ScaffoldColumn* ao objeto *ViewModel* .</span><span class="sxs-lookup"><span data-stu-id="61cac-845">They also customize rendering by letting you apply data-annotation attributes like *DisplayName* and *ScaffoldColumn* to the *ViewModel* object.</span></span>

<span data-ttu-id="61cac-846">Geralmente, você deseja personalizar a saída de auxiliares de interface do usuário ainda mais e ter controle total sobre o que é gerado.</span><span class="sxs-lookup"><span data-stu-id="61cac-846">Often you want to customize the output from UI helpers even further and have complete control over what is generated.</span></span> <span data-ttu-id="61cac-847">Os métodos auxiliares *HTML. EditorFor* e *HTML. DisplayFor* dão suporte a isso usando um mecanismo de modelagem que permite que você defina modelos externos que podem substituir e controlar a saída renderizada.</span><span class="sxs-lookup"><span data-stu-id="61cac-847">The *Html.EditorFor* and *Html.DisplayFor* helper methods support this using a templating mechanism that lets you define external templates that can override and control the output rendered.</span></span> <span data-ttu-id="61cac-848">Os modelos podem ser renderizados individualmente para uma classe.</span><span class="sxs-lookup"><span data-stu-id="61cac-848">The templates can be rendered individually for a class.</span></span>

<a id="0.2__Toc253429278"></a><a id="0.2__Toc243304649"></a>

## <a name="dynamic-data"></a><span data-ttu-id="61cac-849">Dados Dinâmicos</span><span class="sxs-lookup"><span data-stu-id="61cac-849">Dynamic Data</span></span>

<span data-ttu-id="61cac-850">Dados Dinâmicos foi introduzido na versão .NET Framework 3,5 SP1 em meados de 2008.</span><span class="sxs-lookup"><span data-stu-id="61cac-850">Dynamic Data was introduced in the .NET Framework 3.5 SP1 release in mid-2008.</span></span> <span data-ttu-id="61cac-851">Esse recurso fornece vários aprimoramentos para a criação de aplicativos controlados por dados, incluindo o seguinte:</span><span class="sxs-lookup"><span data-stu-id="61cac-851">This feature provides many enhancements for creating data-driven applications, including the following:</span></span>

- <span data-ttu-id="61cac-852">Uma experiência de RAD para criar rapidamente um site orientado a dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-852">A RAD experience for quickly building a data-driven Web site.</span></span>
- <span data-ttu-id="61cac-853">Validação automática baseada em restrições definidas no modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-853">Automatic validation that is based on constraints defined in the data model.</span></span>
- <span data-ttu-id="61cac-854">A capacidade de alterar facilmente a marcação que é gerada para campos nos controles *GridView* e *DetailsView* usando modelos de campo que fazem parte de seu projeto de dados dinâmicos.</span><span class="sxs-lookup"><span data-stu-id="61cac-854">The ability to easily change the markup that is generated for fields in the *GridView* and *DetailsView* controls by using field templates that are part of your Dynamic Data project.</span></span>

> [!NOTE]
> <span data-ttu-id="61cac-855">Observação para obter mais informações, consulte a [documentação dados dinâmicos](https://msdn.microsoft.com/library/cc488545.aspx) na biblioteca MSDN.</span><span class="sxs-lookup"><span data-stu-id="61cac-855">Note For more information, see the [Dynamic Data documentation](https://msdn.microsoft.com/library/cc488545.aspx) in the MSDN Library.</span></span>

<span data-ttu-id="61cac-856">Para o ASP.NET 4, a Dados Dinâmicos foi aprimorada para dar aos desenvolvedores ainda mais poder para a criação rápida de sites orientados a dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-856">For ASP.NET 4, Dynamic Data has been enhanced to give developers even more power for quickly building data-driven Web sites.</span></span>

<a id="0.2__Toc253429279"></a><a id="0.2__Toc243304650"></a>

### <a name="enabling-dynamic-data-for-existing-projects"></a><span data-ttu-id="61cac-857">Habilitando Dados Dinâmicos para projetos existentes</span><span class="sxs-lookup"><span data-stu-id="61cac-857">Enabling Dynamic Data for Existing Projects</span></span>

<span data-ttu-id="61cac-858">Dados Dinâmicos recursos fornecidos no .NET Framework 3,5 SP1 trouxe novos recursos, como os seguintes:</span><span class="sxs-lookup"><span data-stu-id="61cac-858">Dynamic Data features that shipped in the .NET Framework 3.5 SP1 brought new features such as the following:</span></span>

- <span data-ttu-id="61cac-859">Modelos de campo – fornecem modelos baseados em tipos de dados para controles vinculados a dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-859">Field templates – These provide data-type-based templates for data-bound controls.</span></span> <span data-ttu-id="61cac-860">Os modelos de campo fornecem uma maneira mais simples de personalizar a aparência dos controles de dados do que usar campos de modelo para cada campo.</span><span class="sxs-lookup"><span data-stu-id="61cac-860">Field templates provide a simpler way to customize the look of data controls than using template fields for each field.</span></span>
- <span data-ttu-id="61cac-861">Validação – Dados Dinâmicos permite que você use atributos em classes de dados para especificar a validação para cenários comuns, como campos obrigatórios, verificação de intervalo, verificação de tipo, correspondência de padrões usando expressões regulares e validação personalizada.</span><span class="sxs-lookup"><span data-stu-id="61cac-861">Validation – Dynamic Data lets you use attributes on data classes to specify validation for common scenarios like required fields, range checking, type checking, pattern matching using regular expressions, and custom validation.</span></span> <span data-ttu-id="61cac-862">A validação é imposta pelos controles de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-862">Validation is enforced by the data controls.</span></span>

<span data-ttu-id="61cac-863">No entanto, esses recursos tinham os seguintes requisitos:</span><span class="sxs-lookup"><span data-stu-id="61cac-863">However, these features had the following requirements:</span></span>

- <span data-ttu-id="61cac-864">A camada de acesso a dados tinha que ser baseada em Entity Framework ou LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="61cac-864">The data-access layer had to be based on Entity Framework or LINQ to SQL.</span></span>
- <span data-ttu-id="61cac-865">Os únicos controles de fonte de dados com suporte para esses recursos eram os controles *EntityDataSource* ou *LinqDataSource* .</span><span class="sxs-lookup"><span data-stu-id="61cac-865">The only data source controls supported for these features were the *EntityDataSource* or *LinqDataSource* controls.</span></span>
- <span data-ttu-id="61cac-866">Os recursos exigiram um projeto Web que foi criado usando o Dados Dinâmicos ou Dados Dinâmicos modelos de entidades para ter todos os arquivos necessários para dar suporte ao recurso.</span><span class="sxs-lookup"><span data-stu-id="61cac-866">The features required a Web project that had been created using the Dynamic Data or Dynamic Data Entities templates in order to have all the files that were required to support the feature.</span></span>

<span data-ttu-id="61cac-867">Um grande objetivo do suporte Dados Dinâmicos no ASP.NET 4 é habilitar a nova funcionalidade de Dados Dinâmicos para qualquer aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="61cac-867">A major goal of Dynamic Data support in ASP.NET 4 is to enable the new functionality of Dynamic Data for any ASP.NET application.</span></span> <span data-ttu-id="61cac-868">O exemplo a seguir mostra a marcação para controles que podem aproveitar Dados Dinâmicos funcionalidade em uma página existente.</span><span class="sxs-lookup"><span data-stu-id="61cac-868">The following example shows markup for controls that can take advantage of Dynamic Data functionality in an existing page.</span></span>

[!code-aspx[Main](overview/samples/sample91.aspx)]

<span data-ttu-id="61cac-869">No código da página, o código a seguir deve ser adicionado para habilitar Dados Dinâmicos suporte para esses controles:</span><span class="sxs-lookup"><span data-stu-id="61cac-869">In the code for the page, the following code must be added in order to enable Dynamic Data support for these controls:</span></span>

[!code-csharp[Main](overview/samples/sample92.cs)]

<span data-ttu-id="61cac-870">Quando o controle *GridView* está no modo de edição, dados dinâmicos valida automaticamente que os dados inseridos estão no formato correto.</span><span class="sxs-lookup"><span data-stu-id="61cac-870">When the *GridView* control is in edit mode, Dynamic Data automatically validates that the data entered is in the proper format.</span></span> <span data-ttu-id="61cac-871">Se não for, será exibida uma mensagem de erro.</span><span class="sxs-lookup"><span data-stu-id="61cac-871">If it is not, an error message is displayed.</span></span>

<span data-ttu-id="61cac-872">Essa funcionalidade também fornece outros benefícios, como a possibilidade de especificar valores padrão para o modo de inserção.</span><span class="sxs-lookup"><span data-stu-id="61cac-872">This functionality also provides other benefits, such as being able to specify default values for insert mode.</span></span> <span data-ttu-id="61cac-873">Sem Dados Dinâmicos, para implementar um valor padrão para um campo, você deve anexar a um evento, localizar o controle (usando *FindControl*) e definir seu valor.</span><span class="sxs-lookup"><span data-stu-id="61cac-873">Without Dynamic Data, to implement a default value for a field, you must attach to an event, locate the control (using *FindControl*), and set its value.</span></span> <span data-ttu-id="61cac-874">No ASP.NET 4, a chamada *EnableDynamicData* dá suporte a um segundo parâmetro que permite que você passe valores padrão para qualquer campo no objeto, conforme mostrado neste exemplo:</span><span class="sxs-lookup"><span data-stu-id="61cac-874">In ASP.NET 4, the *EnableDynamicData* call supports a second parameter that lets you pass default values for any field on the object, as shown in this example:</span></span>

[!code-csharp[Main](overview/samples/sample93.cs)]

<a id="0.2__Toc224729043"></a><a id="0.2__Toc253429280"></a><a id="0.2__Toc243304651"></a>

### <a name="declarative-dynamicdatamanager-control-syntax"></a><span data-ttu-id="61cac-875">Sintaxe de controle declarativo DynamicDataManager</span><span class="sxs-lookup"><span data-stu-id="61cac-875">Declarative DynamicDataManager Control Syntax</span></span>

<span data-ttu-id="61cac-876">O controle *DynamicDataManager* foi aprimorado para que você possa configurá-lo de forma declarativa, assim como acontece com a maioria dos controles em ASP.net, em vez de apenas no código.</span><span class="sxs-lookup"><span data-stu-id="61cac-876">The *DynamicDataManager* control has been enhanced so that you can configure it declaratively, as with most controls in ASP.NET, instead of only in code.</span></span> <span data-ttu-id="61cac-877">A marcação para o controle *DynamicDataManager* é semelhante ao exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="61cac-877">The markup for the *DynamicDataManager* control looks like the following example:</span></span>

[!code-aspx[Main](overview/samples/sample94.aspx)]

<span data-ttu-id="61cac-878">Essa marcação habilita o comportamento de Dados Dinâmicos para o controle GridView1 que é referenciado na seção *DataControls* do controle *DynamicDataManager* .</span><span class="sxs-lookup"><span data-stu-id="61cac-878">This markup enables Dynamic Data behavior for the GridView1 control that is referenced in the *DataControls* section of the *DynamicDataManager* control.</span></span>

<a id="0.2__Toc224729044"></a><a id="0.2__Toc253429281"></a><a id="0.2__Toc243304652"></a>

### <a name="entity-templates"></a><span data-ttu-id="61cac-879">Modelos de entidade</span><span class="sxs-lookup"><span data-stu-id="61cac-879">Entity Templates</span></span>

<span data-ttu-id="61cac-880">Os modelos de entidade oferecem uma nova maneira de personalizar o layout dos dados sem exigir que você crie uma página personalizada.</span><span class="sxs-lookup"><span data-stu-id="61cac-880">Entity templates offer a new way to customize the layout of data without requiring you to create a custom page.</span></span> <span data-ttu-id="61cac-881">Os modelos de página usam o controle *FormView* (em vez do controle *DetailsView* , conforme usado em modelos de página em versões anteriores do dados dinâmicos) e o controle *DynamicEntity* para renderizar modelos de entidade.</span><span class="sxs-lookup"><span data-stu-id="61cac-881">Page templates use the *FormView* control (instead of the *DetailsView* control, as used in page templates in earlier versions of Dynamic Data) and the *DynamicEntity* control to render Entity templates.</span></span> <span data-ttu-id="61cac-882">Isso lhe dá mais controle sobre a marcação que é renderizada pelo Dados Dinâmicos.</span><span class="sxs-lookup"><span data-stu-id="61cac-882">This gives you more control over the markup that is rendered by Dynamic Data.</span></span>

<span data-ttu-id="61cac-883">A lista a seguir mostra o novo layout do diretório do projeto que contém modelos de entidade:</span><span class="sxs-lookup"><span data-stu-id="61cac-883">The following list shows the new project directory layout that contains entity templates:</span></span>

[!code-console[Main](overview/samples/sample95.cmd)]

<span data-ttu-id="61cac-884">O diretório `EntityTemplate` contém modelos de como exibir objetos de modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-884">The `EntityTemplate` directory contains templates for how to display data model objects.</span></span> <span data-ttu-id="61cac-885">Por padrão, os objetos são renderizados usando o modelo `Default.ascx`, que fornece marcação parecida com a marcação criada pelo controle *DetailsView* usado pelo Dados Dinâmicos no ASP.net 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="61cac-885">By default, objects are rendered by using the `Default.ascx` template, which provides markup that looks just like the markup created by the *DetailsView* control used by Dynamic Data in ASP.NET 3.5 SP1.</span></span> <span data-ttu-id="61cac-886">O exemplo a seguir mostra a marcação para o controle de `Default.ascx`:</span><span class="sxs-lookup"><span data-stu-id="61cac-886">The following example shows the markup for the `Default.ascx` control:</span></span>

[!code-aspx[Main](overview/samples/sample96.aspx)]

<span data-ttu-id="61cac-887">Os modelos padrão podem ser editados para alterar a aparência do site inteiro.</span><span class="sxs-lookup"><span data-stu-id="61cac-887">The default templates can be edited to change the look and feel for the entire site.</span></span> <span data-ttu-id="61cac-888">Há modelos para operações de exibição, edição e inserção.</span><span class="sxs-lookup"><span data-stu-id="61cac-888">There are templates for display, edit, and insert operations.</span></span> <span data-ttu-id="61cac-889">Novos modelos podem ser adicionados com base no nome do objeto de dados para alterar a aparência de apenas um tipo de objeto.</span><span class="sxs-lookup"><span data-stu-id="61cac-889">New templates can be added based on the name of the data object in order to change the look and feel of just one type of object.</span></span> <span data-ttu-id="61cac-890">Por exemplo, você pode adicionar o seguinte modelo:</span><span class="sxs-lookup"><span data-stu-id="61cac-890">For example, you can add the following template:</span></span>

[!code-console[Main](overview/samples/sample97.cmd)]

<span data-ttu-id="61cac-891">O modelo pode conter a seguinte marcação:</span><span class="sxs-lookup"><span data-stu-id="61cac-891">The template might contain the following markup:</span></span>

[!code-aspx[Main](overview/samples/sample98.aspx)]

<span data-ttu-id="61cac-892">Os novos modelos de entidade são exibidos em uma página usando o novo controle *DynamicEntity* .</span><span class="sxs-lookup"><span data-stu-id="61cac-892">The new entity templates are displayed on a page by using the new *DynamicEntity* control.</span></span> <span data-ttu-id="61cac-893">Em tempo de execução, esse controle é substituído pelo conteúdo do modelo de entidade.</span><span class="sxs-lookup"><span data-stu-id="61cac-893">At run time, this control is replaced with the contents of the entity template.</span></span> <span data-ttu-id="61cac-894">A marcação a seguir mostra o controle *FormView* no modelo de página `Detail.aspx` que usa o modelo de entidade.</span><span class="sxs-lookup"><span data-stu-id="61cac-894">The following markup shows the *FormView* control in the `Detail.aspx` page template that uses the entity template.</span></span> <span data-ttu-id="61cac-895">Observe o elemento *DynamicEntity* na marcação.</span><span class="sxs-lookup"><span data-stu-id="61cac-895">Notice the *DynamicEntity* element in the markup.</span></span>

[!code-aspx[Main](overview/samples/sample99.aspx)]

<a id="0.2__Toc224729045"></a><a id="0.2__Toc253429282"></a><a id="0.2__Toc243304653"></a>

### <a name="new-field-templates-for-urls-and-email-addresses"></a><span data-ttu-id="61cac-896">Novos modelos de campo para URLs e endereços de email</span><span class="sxs-lookup"><span data-stu-id="61cac-896">New Field Templates for URLs and Email Addresses</span></span>

<span data-ttu-id="61cac-897">O ASP.NET 4 introduz dois novos modelos de campo internos, `EmailAddress.ascx` e `Url.ascx`.</span><span class="sxs-lookup"><span data-stu-id="61cac-897">ASP.NET 4 introduces two new built-in field templates, `EmailAddress.ascx` and `Url.ascx`.</span></span> <span data-ttu-id="61cac-898">Esses modelos são usados para campos marcados como *EmailAddress* ou *URL* com o atributo *DataType* .</span><span class="sxs-lookup"><span data-stu-id="61cac-898">These templates are used for fields that are marked as *EmailAddress* or *Url* with the *DataType* attribute.</span></span> <span data-ttu-id="61cac-899">Para objetos *EmailAddress* , o campo é exibido como um hiperlink que é criado usando o protocolo *mailto:* .</span><span class="sxs-lookup"><span data-stu-id="61cac-899">For *EmailAddress* objects, the field is displayed as a hyperlink that is created by using the *mailto:* protocol.</span></span> <span data-ttu-id="61cac-900">Quando os usuários clicam no link, ele abre o cliente de email do usuário e cria uma mensagem de esqueleto.</span><span class="sxs-lookup"><span data-stu-id="61cac-900">When users click the link, it opens the user's email client and creates a skeleton message.</span></span> <span data-ttu-id="61cac-901">Os objetos digitados como *URL* são exibidos como hiperlinks comuns.</span><span class="sxs-lookup"><span data-stu-id="61cac-901">Objects typed as *Url* are displayed as ordinary hyperlinks.</span></span>

<span data-ttu-id="61cac-902">O exemplo a seguir mostra como os campos seriam marcados.</span><span class="sxs-lookup"><span data-stu-id="61cac-902">The following example shows how fields would be marked.</span></span>

[!code-csharp[Main](overview/samples/sample100.cs)]

<a id="0.2__Toc224729046"></a><a id="0.2__Toc253429283"></a><a id="0.2__Toc243304654"></a>

### <a name="creating-links-with-the-dynamichyperlink-control"></a><span data-ttu-id="61cac-903">Criando links com o controle DynamicHyperLink</span><span class="sxs-lookup"><span data-stu-id="61cac-903">Creating Links with the DynamicHyperLink Control</span></span>

<span data-ttu-id="61cac-904">Dados Dinâmicos usa o novo recurso de roteamento que foi adicionado no .NET Framework 3,5 SP1 para controlar as URLs que os usuários finais veem quando acessam o site da Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-904">Dynamic Data uses the new routing feature that was added in the .NET Framework 3.5 SP1 to control the URLs that end users see when they access the Web site.</span></span> <span data-ttu-id="61cac-905">O novo controle *DynamicHyperLink* torna mais fácil criar links para páginas em um dados dinâmicos site.</span><span class="sxs-lookup"><span data-stu-id="61cac-905">The new *DynamicHyperLink* control makes it easy to build links to pages in a Dynamic Data site.</span></span> <span data-ttu-id="61cac-906">O exemplo a seguir mostra como usar o controle *DynamicHyperLink* :</span><span class="sxs-lookup"><span data-stu-id="61cac-906">The following example shows how to use the *DynamicHyperLink* control:</span></span>

[!code-aspx[Main](overview/samples/sample101.aspx)]

<span data-ttu-id="61cac-907">Essa marcação cria um link que aponta para a página de lista da tabela de `Products` com base em rotas que são definidas no arquivo `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="61cac-907">This markup creates a link that points to the List page for the `Products` table based on routes that are defined in the `Global.asax` file.</span></span> <span data-ttu-id="61cac-908">O controle usa automaticamente o nome de tabela padrão no qual a página de Dados Dinâmicos se baseia.</span><span class="sxs-lookup"><span data-stu-id="61cac-908">The control automatically uses the default table name that the Dynamic Data page is based on.</span></span>

<a id="0.2__Toc224729047"></a><a id="0.2__Toc253429284"></a><a id="0.2__Toc243304655"></a>

### <a name="support-for-inheritance-in-the-data-model"></a><span data-ttu-id="61cac-909">Suporte para herança no modelo de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-909">Support for Inheritance in the Data Model</span></span>

<span data-ttu-id="61cac-910">O Entity Framework e o LINQ to SQL dão suporte à herança em seus modelos de dados.</span><span class="sxs-lookup"><span data-stu-id="61cac-910">Both the Entity Framework and LINQ to SQL support inheritance in their data models.</span></span> <span data-ttu-id="61cac-911">Um exemplo disso pode ser um banco de dados que tem uma tabela `InsurancePolicy`.</span><span class="sxs-lookup"><span data-stu-id="61cac-911">An example of this might be a database that has an `InsurancePolicy` table.</span></span> <span data-ttu-id="61cac-912">Ele também pode conter `CarPolicy` e `HousePolicy` tabelas que têm os mesmos campos que `InsurancePolicy` e, em seguida, adicionar mais campos.</span><span class="sxs-lookup"><span data-stu-id="61cac-912">It might also contain `CarPolicy` and `HousePolicy` tables that have the same fields as `InsurancePolicy` and then add more fields.</span></span> <span data-ttu-id="61cac-913">Dados Dinâmicos foi modificado para entender objetos herdados no modelo de dados e para dar suporte a scaffolding para as tabelas herdadas.</span><span class="sxs-lookup"><span data-stu-id="61cac-913">Dynamic Data has been modified to understand inherited objects in the data model and to support scaffolding for the inherited tables.</span></span>

<a id="0.2__Toc224729048"></a><a id="0.2__Toc253429285"></a><a id="0.2__Toc243304656"></a>

### <a name="support-for-many-to-many-relationships-entity-framework-only"></a><span data-ttu-id="61cac-914">Suporte para relações muitos para muitos (somente Entity Framework)</span><span class="sxs-lookup"><span data-stu-id="61cac-914">Support for Many-to-Many Relationships (Entity Framework Only)</span></span>

<span data-ttu-id="61cac-915">O Entity Framework tem suporte avançado para relações muitos para muitos entre tabelas, que é implementada expondo a relação como uma coleção em um objeto de *entidade* .</span><span class="sxs-lookup"><span data-stu-id="61cac-915">The Entity Framework has rich support for many-to-many relationships between tables, which is implemented by exposing the relationship as a collection on an *Entity* object.</span></span> <span data-ttu-id="61cac-916">Novos modelos de campo de `ManyToMany.ascx` e `ManyToMany_Edit.ascx` foram adicionados para fornecer suporte para exibir e editar dados que estão envolvidos em relações muitos para muitos.</span><span class="sxs-lookup"><span data-stu-id="61cac-916">New `ManyToMany.ascx` and `ManyToMany_Edit.ascx` field templates have been added to provide support for displaying and editing data that is involved in many-to-many relationships.</span></span>

<a id="0.2__Toc224729049"></a><a id="0.2__Toc253429286"></a><a id="0.2__Toc243304657"></a>

### <a name="new-attributes-to-control-display-and-support-enumerations"></a><span data-ttu-id="61cac-917">Novos atributos para controlar as enumerações de exibição e suporte</span><span class="sxs-lookup"><span data-stu-id="61cac-917">New Attributes to Control Display and Support Enumerations</span></span>

<span data-ttu-id="61cac-918">O *DisplayAttribute* foi adicionado para dar a você controle adicional sobre como os campos são exibidos.</span><span class="sxs-lookup"><span data-stu-id="61cac-918">The *DisplayAttribute* has been added to give you additional control over how fields are displayed.</span></span> <span data-ttu-id="61cac-919">O atributo *DisplayName* em versões anteriores do dados dinâmicos permitia que você alterasse o nome usado como uma legenda para um campo.</span><span class="sxs-lookup"><span data-stu-id="61cac-919">The *DisplayName* attribute in earlier versions of Dynamic Data allowed you to change the name that is used as a caption for a field.</span></span> <span data-ttu-id="61cac-920">A nova classe *DisplayAttribute* permite que você especifique mais opções para exibir um campo, como a ordem na qual um campo é exibido e se um campo será usado como um filtro.</span><span class="sxs-lookup"><span data-stu-id="61cac-920">The new *DisplayAttribute* class lets you specify more options for displaying a field, such as the order in which a field is displayed and whether a field will be used as a filter.</span></span> <span data-ttu-id="61cac-921">O atributo também fornece controle independente do nome usado para os rótulos em um controle *GridView* , o nome usado em um controle *DetailsView* , o texto de ajuda para o campo e a marca-d ' água usada para o campo (se o campo aceitar entrada de texto).</span><span class="sxs-lookup"><span data-stu-id="61cac-921">The attribute also provides independent control of the name used for the labels in a *GridView* control, the name used in a *DetailsView* control, the help text for the field, and the watermark used for the field (if the field accepts text input).</span></span>

<span data-ttu-id="61cac-922">A classe *EnumDataTypeAttribute* foi adicionada para permitir que você mapeie campos para enumerações.</span><span class="sxs-lookup"><span data-stu-id="61cac-922">The *EnumDataTypeAttribute* class has been added to let you map fields to enumerations.</span></span> <span data-ttu-id="61cac-923">Ao aplicar esse atributo a um campo, você especifica um tipo de enumeração.</span><span class="sxs-lookup"><span data-stu-id="61cac-923">When you apply this attribute to a field, you specify an enumeration type.</span></span> <span data-ttu-id="61cac-924">Dados Dinâmicos usa o novo modelo de campo de `Enumeration.ascx` para criar a interface do usuário para exibir e editar valores de enumeração.</span><span class="sxs-lookup"><span data-stu-id="61cac-924">Dynamic Data uses the new `Enumeration.ascx` field template to create UI for displaying and editing enumeration values.</span></span> <span data-ttu-id="61cac-925">O modelo mapeia os valores do banco de dados para os nomes na enumeração.</span><span class="sxs-lookup"><span data-stu-id="61cac-925">The template maps the values from the database to the names in the enumeration.</span></span>

<a id="0.2__Toc224729050"></a><a id="0.2__Toc253429287"></a><a id="0.2__Toc243304658"></a>

### <a name="enhanced-support-for-filters"></a><span data-ttu-id="61cac-926">Suporte aprimorado para filtros</span><span class="sxs-lookup"><span data-stu-id="61cac-926">Enhanced Support for Filters</span></span>

<span data-ttu-id="61cac-927">Dados Dinâmicos 1,0 fornecido com filtros internos para colunas booleanas e colunas de chave estrangeira.</span><span class="sxs-lookup"><span data-stu-id="61cac-927">Dynamic Data 1.0 shipped with built-in filters for Boolean columns and foreign-key columns.</span></span> <span data-ttu-id="61cac-928">Os filtros não permitiram que você especifique se eles foram exibidos ou em qual ordem eles foram exibidos.</span><span class="sxs-lookup"><span data-stu-id="61cac-928">The filters did not allow you to specify whether they were displayed or in what order they were displayed.</span></span> <span data-ttu-id="61cac-929">O novo atributo *DisplayAttribute* aborda esses dois problemas fornecendo a você o controle sobre se uma coluna é exibida como um filtro e em qual ordem ela será exibida.</span><span class="sxs-lookup"><span data-stu-id="61cac-929">The new *DisplayAttribute* attribute addresses both of these issues by giving you control over whether a column is displayed as a filter and in what order it will be displayed.</span></span>

<span data-ttu-id="61cac-930">Um aprimoramento adicional é que o suporte à filtragem foi[escrito novamente para usar o novo](#0.2__QueryExtender "_QueryExtender") recurso do Web Forms.</span><span class="sxs-lookup"><span data-stu-id="61cac-930">An additional enhancement is that filtering support has been re[written to use the new](#0.2__QueryExtender "_QueryExtender") feature of Web Forms.</span></span> <span data-ttu-id="61cac-931">Isso permite que você crie filtros sem a necessidade de conhecimento do controle da fonte de dados com o qual os filtros serão usados.</span><span class="sxs-lookup"><span data-stu-id="61cac-931">This lets you create filters without requiring knowledge of the data source control that the filters will be used with.</span></span> <span data-ttu-id="61cac-932">Juntamente com essas extensões, os filtros também foram transformados em controles de modelo, o que permite que você adicione novos.</span><span class="sxs-lookup"><span data-stu-id="61cac-932">Along with these extensions, filters have also been turned into template controls, which allows you to add new ones.</span></span> <span data-ttu-id="61cac-933">Por fim, a classe *DisplayAttribute* mencionada anteriormente permite que o filtro padrão seja substituído, da mesma forma que *UIHint* permite que o modelo de campo padrão para uma coluna seja substituída.</span><span class="sxs-lookup"><span data-stu-id="61cac-933">Finally, the *DisplayAttribute* class mentioned earlier allows the default filter to be overridden, in the same way that *UIHint* allows the default field template for a column to be overridden.</span></span>

<a id="0.2__Toc224729051"></a><a id="0.2__Toc253429288"></a><a id="0.2__Toc243304659"></a>

## <a name="visual-studio-2010-web-development-improvements"></a><span data-ttu-id="61cac-934">Aprimoramentos no desenvolvimento para a Web do Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="61cac-934">Visual Studio 2010 Web Development Improvements</span></span>

<span data-ttu-id="61cac-935">O desenvolvimento para a Web no Visual Studio 2010 foi aprimorado para maior compatibilidade com CSS, maior produtividade por meio de trechos de marcação HTML e ASP.NET e novos JavaScript do IntelliSense dinâmico.</span><span class="sxs-lookup"><span data-stu-id="61cac-935">Web development in Visual Studio 2010 has been enhanced for greater CSS compatibility, increased productivity through HTML and ASP.NET markup snippets and new dynamic IntelliSense JavaScript.</span></span>

<a id="0.2__Toc224729052"></a><a id="0.2__Toc253429289"></a><a id="0.2__Toc243304660"></a>

### <a name="improved-css-compatibility"></a><span data-ttu-id="61cac-936">Compatibilidade com CSS aprimorada</span><span class="sxs-lookup"><span data-stu-id="61cac-936">Improved CSS Compatibility</span></span>

<span data-ttu-id="61cac-937">O designer do Visual Web Developer no Visual Studio 2010 foi atualizado para melhorar a conformidade com os padrões CSS 2,1.</span><span class="sxs-lookup"><span data-stu-id="61cac-937">The Visual Web Developer designer in Visual Studio 2010 has been updated to improve CSS 2.1 standards compliance.</span></span> <span data-ttu-id="61cac-938">O designer preserva melhor a integridade da origem HTML e é mais robusto do que nas versões anteriores do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="61cac-938">The designer better preserves integrity of the HTML source and is more robust than in previous versions of Visual Studio.</span></span> <span data-ttu-id="61cac-939">Nos bastidores, também foram feitas melhorias na arquitetura que permitirão aprimoramentos futuros na renderização, no layout e na manutenção.</span><span class="sxs-lookup"><span data-stu-id="61cac-939">Under the hood, architectural improvements have also been made that will better enable future enhancements in rendering, layout, and serviceability.</span></span>

<a id="0.2__Toc224729053"></a><a id="0.2__Toc253429290"></a><a id="0.2__Toc243304661"></a>

### <a name="html-and-javascript-snippets"></a><span data-ttu-id="61cac-940">Trechos de código HTML e JavaScript</span><span class="sxs-lookup"><span data-stu-id="61cac-940">HTML and JavaScript Snippets</span></span>

<span data-ttu-id="61cac-941">No editor de HTML, o IntelliSense conclui automaticamente nomes de marca.</span><span class="sxs-lookup"><span data-stu-id="61cac-941">In the HTML editor, IntelliSense auto-completes tag names.</span></span> <span data-ttu-id="61cac-942">O recurso de trechos de código do IntelliSense conclui automaticamente as marcas inteiras e muito mais.</span><span class="sxs-lookup"><span data-stu-id="61cac-942">The IntelliSense Snippets feature auto-completes entire tags and more.</span></span> <span data-ttu-id="61cac-943">No Visual Studio 2010, os trechos do IntelliSense têm suporte para JavaScript C# , juntamente com e Visual Basic, que eram compatíveis com versões anteriores do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="61cac-943">In Visual Studio 2010, IntelliSense snippets are supported for JavaScript, alongside C# and Visual Basic, which were supported in earlier versions of Visual Studio.</span></span>

<span data-ttu-id="61cac-944">O Visual Studio 2010 inclui mais de 200 trechos de código que ajudam você a completar automaticamente marcas ASP.NET e HTML comuns, incluindo atributos necessários (como runat = "Server") e atributos comuns específicos de uma marca (como *ID*, *DataSourceID*, *ControlToValidate*e *Text*).</span><span class="sxs-lookup"><span data-stu-id="61cac-944">Visual Studio 2010 includes over 200 snippets that help you auto-complete common ASP.NET and HTML tags, including required attributes (such as runat="server") and common attributes specific to a tag (such as *ID*, *DataSourceID*, *ControlToValidate*, and *Text*).</span></span>

<span data-ttu-id="61cac-945">Você pode baixar trechos de código adicionais ou pode escrever seus próprios trechos de código que encapsulam os blocos de marcação que você ou sua equipe usam para tarefas comuns.</span><span class="sxs-lookup"><span data-stu-id="61cac-945">You can download additional snippets, or you can write your own snippets that encapsulate the blocks of markup that you or your team use for common tasks.</span></span>

<a id="0.2__Toc224729054"></a><a id="0.2__Toc253429291"></a><a id="0.2__Toc243304662"></a>

### <a name="javascript-intellisense-enhancements"></a><span data-ttu-id="61cac-946">Aprimoramentos de IntelliSense do JavaScript</span><span class="sxs-lookup"><span data-stu-id="61cac-946">JavaScript IntelliSense Enhancements</span></span>

<span data-ttu-id="61cac-947">No Visual 2010, o JavaScript IntelliSense foi reprojetado para fornecer uma experiência de edição ainda mais rica.</span><span class="sxs-lookup"><span data-stu-id="61cac-947">In Visual 2010, JavaScript IntelliSense has been redesigned to provide an even richer editing experience.</span></span> <span data-ttu-id="61cac-948">O IntelliSense agora reconhece objetos que foram gerados dinamicamente por métodos como *registerNamespace* e por técnicas semelhantes usadas por outras estruturas do JavaScript.</span><span class="sxs-lookup"><span data-stu-id="61cac-948">IntelliSense now recognizes objects that have been dynamically generated by methods such as *registerNamespace* and by similar techniques used by other JavaScript frameworks.</span></span> <span data-ttu-id="61cac-949">O desempenho foi aprimorado para analisar grandes bibliotecas de script e para exibir o IntelliSense com pouco ou nenhum atraso de processamento.</span><span class="sxs-lookup"><span data-stu-id="61cac-949">Performance has been improved to analyze large libraries of script and to display IntelliSense with little or no processing delay.</span></span> <span data-ttu-id="61cac-950">A compatibilidade foi drasticamente aumentada para dar suporte a quase todas as bibliotecas de terceiros e para dar suporte a diversos estilos de codificação.</span><span class="sxs-lookup"><span data-stu-id="61cac-950">Compatibility has been dramatically increased to support nearly all third-party libraries and to support diverse coding styles.</span></span> <span data-ttu-id="61cac-951">Os comentários da documentação agora são analisados conforme você digita e são aproveitados imediatamente pelo IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="61cac-951">Documentation comments are now parsed as you type and are immediately leveraged by IntelliSense.</span></span>

<a id="0.2__Toc224729055"></a><a id="0.2__Toc253429292"></a><a id="0.2__Toc243304663"></a>

## <a name="web-application-deployment-with-visual-studio-2010"></a><span data-ttu-id="61cac-952">Implantação de aplicativo Web com o Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="61cac-952">Web Application Deployment with Visual Studio 2010</span></span>

<span data-ttu-id="61cac-953">Quando os desenvolvedores de ASP.NET implantam um aplicativo Web, eles geralmente consideram que eles encontram problemas como os seguintes:</span><span class="sxs-lookup"><span data-stu-id="61cac-953">When ASP.NET developers deploy a Web application, they often find that they encounter issues such as the following:</span></span>

- <span data-ttu-id="61cac-954">A implantação em um site de hospedagem compartilhado requer tecnologias como FTP, o que pode ser lento.</span><span class="sxs-lookup"><span data-stu-id="61cac-954">Deploying to a shared hosting site requires technologies such as FTP, which can be slow.</span></span> <span data-ttu-id="61cac-955">Além disso, você deve executar tarefas manualmente, como a execução de scripts SQL para configurar um banco de dados e deve alterar as configurações do IIS, como a configuração de uma pasta de diretório virtual como um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="61cac-955">In addition, you must manually perform tasks such as running SQL scripts to configure a database and you must change IIS settings, such as configuring a virtual directory folder as an application.</span></span>
- <span data-ttu-id="61cac-956">Em um ambiente corporativo, além de implantar os arquivos do aplicativo Web, os administradores frequentemente devem modificar os arquivos de configuração do ASP.NET e as configurações do IIS.</span><span class="sxs-lookup"><span data-stu-id="61cac-956">In an enterprise environment, in addition to deploying the Web application files, administrators frequently must modify ASP.NET configuration files and IIS settings.</span></span> <span data-ttu-id="61cac-957">Os administradores de banco de dados devem executar uma série de scripts SQL para colocar o banco de dados de aplicativo em execução.</span><span class="sxs-lookup"><span data-stu-id="61cac-957">Database administrators must run a series of SQL scripts to get the application database running.</span></span> <span data-ttu-id="61cac-958">Essas instalações são intensas, muitas vezes levam horas para serem concluídas e devem ser documentadas com cuidado.</span><span class="sxs-lookup"><span data-stu-id="61cac-958">Such installations are labor intensive, often take hours to complete, and must be carefully documented.</span></span>

<span data-ttu-id="61cac-959">O Visual Studio 2010 inclui tecnologias que resolvem esses problemas e permitem que você implante aplicativos Web diretamente.</span><span class="sxs-lookup"><span data-stu-id="61cac-959">Visual Studio 2010 includes technologies that address these issues and that let you seamlessly deploy Web applications.</span></span> <span data-ttu-id="61cac-960">Uma dessas tecnologias é a ferramenta de implantação da Web do IIS (MsDeploy. exe).</span><span class="sxs-lookup"><span data-stu-id="61cac-960">One of these technologies is the IIS Web Deployment Tool (MsDeploy.exe).</span></span>

<span data-ttu-id="61cac-961">Os recursos de implantação na Web do Visual Studio 2010 incluem as seguintes áreas principais:</span><span class="sxs-lookup"><span data-stu-id="61cac-961">Web deployment features in Visual Studio 2010 include the following major areas:</span></span>

- <span data-ttu-id="61cac-962">Empacotamento da Web</span><span class="sxs-lookup"><span data-stu-id="61cac-962">Web packaging</span></span>
- <span data-ttu-id="61cac-963">Transformação de Web. config</span><span class="sxs-lookup"><span data-stu-id="61cac-963">Web.config transformation</span></span>
- <span data-ttu-id="61cac-964">Implantação de banco de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-964">Database deployment</span></span>
- <span data-ttu-id="61cac-965">Publicação com um clique para aplicativos Web</span><span class="sxs-lookup"><span data-stu-id="61cac-965">One-click publish for Web applications</span></span>

<span data-ttu-id="61cac-966">As seções a seguir fornecem detalhes sobre esses recursos.</span><span class="sxs-lookup"><span data-stu-id="61cac-966">The following sections provide details about these features.</span></span>

<a id="0.2__Toc224729056"></a><a id="0.2__Toc253429293"></a><a id="0.2__Toc243304664"></a>

### <a name="web-packaging"></a><span data-ttu-id="61cac-967">Empacotamento da Web</span><span class="sxs-lookup"><span data-stu-id="61cac-967">Web Packaging</span></span>

<span data-ttu-id="61cac-968">O Visual Studio 2010 usa a ferramenta MSDeploy para criar um arquivo compactado (. zip) para seu aplicativo, que é conhecido como um *pacote da Web*.</span><span class="sxs-lookup"><span data-stu-id="61cac-968">Visual Studio 2010 uses the MSDeploy tool to create a compressed (.zip) file for your application, which is referred to as a *Web package*.</span></span> <span data-ttu-id="61cac-969">O arquivo de pacote contém metadados sobre seu aplicativo, além do seguinte conteúdo:</span><span class="sxs-lookup"><span data-stu-id="61cac-969">The package file contains metadata about your application plus the following content:</span></span>

- <span data-ttu-id="61cac-970">Configurações do IIS, que incluem configurações de pool de aplicativos, configurações de página de erro e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="61cac-970">IIS settings, which includes application pool settings, error page settings, and so on.</span></span>
- <span data-ttu-id="61cac-971">O conteúdo da Web real, que inclui páginas da Web, controles de usuário, conteúdo estático (imagens e arquivos HTML) e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="61cac-971">The actual Web content, which includes Web pages, user controls, static content (images and HTML files), and so on.</span></span>
- <span data-ttu-id="61cac-972">SQL Server dados e esquemas de banco de dado.</span><span class="sxs-lookup"><span data-stu-id="61cac-972">SQL Server database schemas and data.</span></span>
- <span data-ttu-id="61cac-973">Certificados de segurança, componentes para instalar no GAC, configurações do registro e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="61cac-973">Security certificates, components to install in the GAC, registry settings, and so on.</span></span>

<span data-ttu-id="61cac-974">Um pacote da Web pode ser copiado para qualquer servidor e instalado manualmente usando o Gerenciador do IIS.</span><span class="sxs-lookup"><span data-stu-id="61cac-974">A Web package can be copied to any server and then installed manually by using IIS Manager.</span></span> <span data-ttu-id="61cac-975">Como alternativa, para a implantação automatizada, o pacote pode ser instalado usando comandos de linha de comando ou usando APIs de implantação.</span><span class="sxs-lookup"><span data-stu-id="61cac-975">Alternatively, for automated deployment, the package can be installed by using command-line commands or by using deployment APIs.</span></span>

<span data-ttu-id="61cac-976">O Visual Studio 2010 fornece tarefas e destinos do MSBuild criados para criar pacotes da Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-976">Visual Studio 2010 provides built in MSBuild tasks and targets to create Web packages.</span></span> <span data-ttu-id="61cac-977">Para obter mais informações, consulte [visão geral da implantação do projeto de aplicativo Web do ASP.net](https://msdn.microsoft.com/library/dd394698%28VS.100%29.aspx) no site do MSDN e [10 + 20 motivos pelos quais você deve criar um pacote da Web](http://vishaljoshi.blogspot.com/2009/07/10-20-reasons-why-you-should-create-web.html) no blog do Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="61cac-977">For more information, see [ASP.NET Web Application Project Deployment Overview](https://msdn.microsoft.com/library/dd394698%28VS.100%29.aspx) on the MSDN Web site and [10 + 20 reasons why you should create a Web Package](http://vishaljoshi.blogspot.com/2009/07/10-20-reasons-why-you-should-create-web.html) on Vishal Joshi's blog.</span></span>

<a id="0.2__Toc224729057"></a><a id="0.2__Toc253429294"></a><a id="0.2__Toc243304665"></a>

### <a name="webconfig-transformation"></a><span data-ttu-id="61cac-978">Transformação de Web. config</span><span class="sxs-lookup"><span data-stu-id="61cac-978">Web.config Transformation</span></span>

<span data-ttu-id="61cac-979">Para a implantação de aplicativos Web, o Visual Studio 2010 apresenta a [transformação de documento XML (xdt)](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html), que é um recurso que permite transformar um arquivo de `Web.config` de configurações de desenvolvimento para as configurações de produção.</span><span class="sxs-lookup"><span data-stu-id="61cac-979">For Web application deployment, Visual Studio 2010 introduces [XML Document Transform (XDT)](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html), which is a feature that lets you transform a `Web.config` file from development settings to production settings.</span></span> <span data-ttu-id="61cac-980">As configurações de transformação são especificadas em arquivos de transformação chamados `web.debug.config`, `web.release.config`e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="61cac-980">Transformation settings are specified in transform files named `web.debug.config`, `web.release.config`, and so on.</span></span> <span data-ttu-id="61cac-981">(Os nomes desses arquivos correspondem às configurações do MSBuild.) Um arquivo de transformação inclui apenas as alterações que você precisa fazer em um arquivo de `Web.config` implantado.</span><span class="sxs-lookup"><span data-stu-id="61cac-981">(The names of these files match MSBuild configurations.) A transform file includes just the changes that you need to make to a deployed `Web.config` file.</span></span> <span data-ttu-id="61cac-982">Você especifica as alterações usando a sintaxe simples.</span><span class="sxs-lookup"><span data-stu-id="61cac-982">You specify the changes by using simple syntax.</span></span>

<span data-ttu-id="61cac-983">O exemplo a seguir mostra uma parte de um arquivo `web.release.config` que pode ser produzido para implantação da sua configuração de versão.</span><span class="sxs-lookup"><span data-stu-id="61cac-983">The following example shows a portion of a `web.release.config` file that might be produced for deployment of your release configuration.</span></span> <span data-ttu-id="61cac-984">A palavra-chave Replace no exemplo especifica que, durante a implantação, o nó *ConnectionString* no arquivo de `Web.config` será substituído pelos valores listados no exemplo.</span><span class="sxs-lookup"><span data-stu-id="61cac-984">The Replace keyword in the example specifies that during deployment the *connectionString* node in the `Web.config` file will be replaced with the values that are listed in the example.</span></span>

[!code-xml[Main](overview/samples/sample102.xml)]

<span data-ttu-id="61cac-985">Para obter mais informações, consulte [sintaxe de transformação Web. config para implantação de projeto de aplicativo Web](https://msdn.microsoft.com/library/dd465326%28VS.100%29.aspx) na Web site do MSDN <a id="0.2_a"></a> e[implantação da Web: transformação Web. config](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html) no blog de Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="61cac-985">For more information, see [Web.config Transformation Syntax for Web Application Project Deployment](https://msdn.microsoft.com/library/dd465326%28VS.100%29.aspx) on the MSDN <a id="0.2_a"></a> Web site and[Web Deployment: Web.Config Transformation](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html) on Vishal Joshi's blog.</span></span>

<a id="0.2__Toc224729058"></a><a id="0.2__Toc253429295"></a><a id="0.2__Toc243304666"></a>

### <a name="database-deployment"></a><span data-ttu-id="61cac-986">Implantação de banco de dados</span><span class="sxs-lookup"><span data-stu-id="61cac-986">Database Deployment</span></span>

<span data-ttu-id="61cac-987">Um pacote de implantação do Visual Studio 2010 pode incluir dependências em bancos de dados SQL Server.</span><span class="sxs-lookup"><span data-stu-id="61cac-987">A Visual Studio 2010 deployment package can include dependencies on SQL Server databases.</span></span> <span data-ttu-id="61cac-988">Como parte da definição do pacote, você fornece a cadeia de conexão para o banco de dados de origem.</span><span class="sxs-lookup"><span data-stu-id="61cac-988">As part of the package definition, you provide the connection string for your source database.</span></span> <span data-ttu-id="61cac-989">Quando você cria o pacote da Web, o Visual Studio 2010 cria scripts do SQL para o esquema de banco de dados e, opcionalmente, para o dado e, em seguida, os adiciona ao pacote.</span><span class="sxs-lookup"><span data-stu-id="61cac-989">When you create the Web package, Visual Studio 2010 creates SQL scripts for the database schema and optionally for the data, and then adds these to the package.</span></span> <span data-ttu-id="61cac-990">Você também pode fornecer scripts SQL personalizados e especificar a sequência na qual eles devem ser executados no servidor.</span><span class="sxs-lookup"><span data-stu-id="61cac-990">You can also provide custom SQL scripts and specify the sequence in which they should run on the server.</span></span> <span data-ttu-id="61cac-991">No momento da implantação, você fornece uma cadeia de conexão apropriada para o servidor de destino; em seguida, o processo de implantação usa essa cadeia de conexão para executar os scripts que criam o esquema de banco de dados e os adicionam.</span><span class="sxs-lookup"><span data-stu-id="61cac-991">At deployment time, you provide a connection string that is appropriate for the target server; the deployment process then uses this connection string to run the scripts that create the database schema and add the data.</span></span>

<span data-ttu-id="61cac-992">Além disso, usando a publicação com um clique, você pode configurar a implantação para publicar seu banco de dados diretamente quando o aplicativo é publicado em um site de hospedagem compartilhado remoto.</span><span class="sxs-lookup"><span data-stu-id="61cac-992">In addition, by using one-click publish, you can configure deployment to publish your database directly when the application is published to a remote shared hosting site.</span></span> <span data-ttu-id="61cac-993">Para obter mais informações, consulte [como implantar um banco de dados com um projeto de aplicativo Web](https://msdn.microsoft.com/library/dd465343%28VS.100%29.aspx) no site do MSDN e [implantação de banco de dados com o vs 2010](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html) no blog de Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="61cac-993">For more information, see [How to: Deploy a Database With a Web Application Project](https://msdn.microsoft.com/library/dd465343%28VS.100%29.aspx) on the MSDN Web site and [Database Deployment with VS 2010](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html) on Vishal Joshi's blog.</span></span>

<a id="0.2__Toc224729059"></a><a id="0.2__Toc253429296"></a><a id="0.2__Toc243304667"></a>

### <a name="one-click-publish-for-web-applications"></a><span data-ttu-id="61cac-994">Publicação com um clique para aplicativos Web</span><span class="sxs-lookup"><span data-stu-id="61cac-994">One-Click Publish for Web Applications</span></span>

<span data-ttu-id="61cac-995">O Visual Studio 2010 também permite que você use o serviço de gerenciamento remoto do IIS para publicar um aplicativo Web em um servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="61cac-995">Visual Studio 2010 also lets you use the IIS remote management service to publish a Web application to a remote server.</span></span> <span data-ttu-id="61cac-996">Você pode criar um perfil de publicação para sua conta de hospedagem ou para servidores de teste ou servidores de preparo.</span><span class="sxs-lookup"><span data-stu-id="61cac-996">You can create a publish profile for your hosting account or for testing servers or staging servers.</span></span> <span data-ttu-id="61cac-997">Cada perfil pode salvar as credenciais apropriadas com segurança.</span><span class="sxs-lookup"><span data-stu-id="61cac-997">Each profile can save appropriate credentials securely.</span></span> <span data-ttu-id="61cac-998">Em seguida, você pode implantar em qualquer um dos servidores de destino com um clique usando a barra de ferramentas de publicação com um clique da Web.</span><span class="sxs-lookup"><span data-stu-id="61cac-998">You can then deploy to any of the target servers with one click by using the Web one-click publish toolbar.</span></span> <span data-ttu-id="61cac-999">Com o Visual Studio 2010, você também pode publicar usando a linha de comando do MSBuild.</span><span class="sxs-lookup"><span data-stu-id="61cac-999">With Visual Studio 2010, you can also publish by using the MSBuild command line.</span></span> <span data-ttu-id="61cac-1000">Isso permite que você configure seu ambiente do Team Build para incluir a publicação em um modelo de integração contínua.</span><span class="sxs-lookup"><span data-stu-id="61cac-1000">This lets you configure your team build environment to include publishing in a continuous-integration model.</span></span>

<span data-ttu-id="61cac-1001">Para obter mais informações, consulte [como implantar um projeto de aplicativo Web usando a publicação de um clique e implantação da Web](https://msdn.microsoft.com/library/dd465337%28VS.100%29.aspx) no site do MSDN e [na Web 1-clique em publicar com vs 2010](http://vishaljoshi.blogspot.com/2009/05/web-1-click-publish-with-vs-2010.html) no blog do Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="61cac-1001">For more information, see [How to: Deploy a Web Application Project Using One-Click Publish and Web Deploy](https://msdn.microsoft.com/library/dd465337%28VS.100%29.aspx) on the MSDN Web site and [Web 1-Click Publish with VS 2010](http://vishaljoshi.blogspot.com/2009/05/web-1-click-publish-with-vs-2010.html) on Vishal Joshi's blog.</span></span> <span data-ttu-id="61cac-1002">Para exibir apresentações em vídeo sobre a implantação de aplicativos Web no Visual Studio 2010, consulte [VS 2010 for Web Developer visualizações](http://vishaljoshi.blogspot.com/2008/12/vs-2010-for-web-developer-previews.html) no blog de Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="61cac-1002">To view video presentations about Web application deployment in Visual Studio 2010, see [VS 2010 for Web Developer Previews](http://vishaljoshi.blogspot.com/2008/12/vs-2010-for-web-developer-previews.html) on Vishal Joshi's blog.</span></span>

<a id="0.2__Toc224729060"></a><a id="0.2__Toc253429297"></a><a id="0.2__Toc243304668"></a>

### <a name="resources"></a><span data-ttu-id="61cac-1003">Recursos</span><span class="sxs-lookup"><span data-stu-id="61cac-1003">Resources</span></span>

<span data-ttu-id="61cac-1004">Os sites a seguir fornecem informações adicionais sobre o ASP.NET 4 e o Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="61cac-1004">The following Web sites provide additional information about ASP.NET 4 and Visual Studio 2010.</span></span>

- <span data-ttu-id="61cac-1005">[ASP.NET 4](https://msdn.microsoft.com/library/ee532866%28VS.100%29.aspx) – a documentação oficial do ASP.NET 4 no site do MSDN.</span><span class="sxs-lookup"><span data-stu-id="61cac-1005">[ASP.NET 4](https://msdn.microsoft.com/library/ee532866%28VS.100%29.aspx) — The official documentation for ASP.NET 4 on the MSDN Web site.</span></span>
- <span data-ttu-id="61cac-1006">[https://www.asp.net/](https://www.asp.net/) — o próprio site da equipe do ASP.net.</span><span class="sxs-lookup"><span data-stu-id="61cac-1006">[https://www.asp.net/](https://www.asp.net/) — The ASP.NET team's own Web site.</span></span>
- <span data-ttu-id="61cac-1007">[https://www.asp.net/dynamicdata/](https://msdn.microsoft.com/library/cc488545.aspx) e [ASP.net dados dinâmicos o mapa de conteúdo](https://msdn.microsoft.com/library/cc488545%28VS.100%29.aspx) — recursos online no site da equipe do ASP.net e na documentação oficial do ASP.net dados dinâmicos.</span><span class="sxs-lookup"><span data-stu-id="61cac-1007">[https://www.asp.net/dynamicdata/](https://msdn.microsoft.com/library/cc488545.aspx) and [ASP.NET Dynamic Data Content Map](https://msdn.microsoft.com/library/cc488545%28VS.100%29.aspx) — Online resources on the ASP.NET team site and in the official documentation for ASP.NET Dynamic Data.</span></span>
- <span data-ttu-id="61cac-1008">[https://www.asp.net/ajax/](../../ajax/index.md) — o principal recurso da Web para o desenvolvimento do ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="61cac-1008">[https://www.asp.net/ajax/](../../ajax/index.md) — The main Web resource for ASP.NET Ajax development.</span></span>
- <span data-ttu-id="61cac-1009">[https://blogs.msdn.com/webdevtools/](https://blogs.msdn.com/webdevtools/) — o blog da equipe do Visual Web Developer, que inclui informações sobre os recursos do Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="61cac-1009">[https://blogs.msdn.com/webdevtools/](https://blogs.msdn.com/webdevtools/) — The Visual Web Developer Team blog, which includes information about features in Visual Studio 2010.</span></span>
- <span data-ttu-id="61cac-1010">[Webstack do ASP.net](https://github.com/aspnet/AspNetWebStack) — o principal recurso da Web para versões de visualização do ASP.net.</span><span class="sxs-lookup"><span data-stu-id="61cac-1010">[ASP.NET WebStack](https://github.com/aspnet/AspNetWebStack) — The main Web resource for preview releases of ASP.NET.</span></span>

<a id="0.2__Toc224729061"></a><a id="0.2__Toc253429298"></a><a id="0.2__Toc243304669"></a>

## <a name="disclaimer"></a><span data-ttu-id="61cac-1011">Isenção de responsabilidade</span><span class="sxs-lookup"><span data-stu-id="61cac-1011">Disclaimer</span></span>

<span data-ttu-id="61cac-1012">Este é um documento preliminar e pode ser alterado substancialmente antes da versão comercial final do software descrito aqui.</span><span class="sxs-lookup"><span data-stu-id="61cac-1012">This is a preliminary document and may be changed substantially prior to final commercial release of the software described herein.</span></span>

<span data-ttu-id="61cac-1013">As informações contidas neste documento representam a visão atual da Microsoft Corporation acerca das questões discutidas até a data da publicação.</span><span class="sxs-lookup"><span data-stu-id="61cac-1013">The information contained in this document represents the current view of Microsoft Corporation on the issues discussed as of the date of publication.</span></span> <span data-ttu-id="61cac-1014">Como a Microsoft deve reagir às dinâmicas condições do mercado, essas informações não devem ser interpretadas como um compromisso por parte da Microsoft e a Microsoft não garante a precisão de qualquer informação apresentada após a data de publicação.</span><span class="sxs-lookup"><span data-stu-id="61cac-1014">Because Microsoft must respond to changing market conditions, it should not be interpreted to be a commitment on the part of Microsoft, and Microsoft cannot guarantee the accuracy of any information presented after the date of publication.</span></span>

<span data-ttu-id="61cac-1015">Este white paper é fornecido apenas para fins informativos.</span><span class="sxs-lookup"><span data-stu-id="61cac-1015">This White Paper is for informational purposes only.</span></span> <span data-ttu-id="61cac-1016">A MICROSOFT NÃO OFERECE NENHUMA GARANTIA EXPRESSA, IMPLÍCITA OU ESTATUTÁRIA EM RELAÇÃO ÀS INFORMAÇÕES CONTIDAS NESTE DOCUMENTO.</span><span class="sxs-lookup"><span data-stu-id="61cac-1016">MICROSOFT MAKES NO WARRANTIES, EXPRESS, IMPLIED OR STATUTORY, AS TO THE INFORMATION IN THIS DOCUMENT.</span></span>

<span data-ttu-id="61cac-1017">Obedecer a todas as leis de direitos autorais aplicáveis é responsabilidade do usuário.</span><span class="sxs-lookup"><span data-stu-id="61cac-1017">Complying with all applicable copyright laws is the responsibility of the user.</span></span> <span data-ttu-id="61cac-1018">Sem limitar os direitos autorais, nenhuma parte deste documento pode ser reproduzida, armazenada ou introduzida em um sistema de recuperação, ou transmitida de qualquer forma ou por qualquer meio (seja eletrônico, mecânico, fotocópia, gravação ou outro), ou para qualquer finalidade, sem a permissão expressa e por escrito da Microsoft Corporation.</span><span class="sxs-lookup"><span data-stu-id="61cac-1018">Without limiting the rights under copyright, no part of this document may be reproduced, stored in or introduced into a retrieval system, or transmitted in any form or by any means (electronic, mechanical, photocopying, recording, or otherwise), or for any purpose, without the express written permission of Microsoft Corporation.</span></span>

<span data-ttu-id="61cac-1019">A Microsoft pode ter patentes ou requisições para obtenção de patente, marcas comerciais, direitos autorais ou outros direitos de propriedade intelectual que abrangem o conteúdo deste documento.</span><span class="sxs-lookup"><span data-stu-id="61cac-1019">Microsoft may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter in this document.</span></span> <span data-ttu-id="61cac-1020">A posse deste documento não lhe confere nenhum direito sobre patentes, marcas comerciais, direitos autorais ou outros direitos de propriedade intelectual, salvo aqueles expressamente mencionados em um contrato de licença, por escrito, da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="61cac-1020">Except as expressly provided in any written license agreement from Microsoft, the furnishing of this document does not give you any license to these patents, trademarks, copyrights, or other intellectual property.</span></span>

<span data-ttu-id="61cac-1021">Salvo indicação em contrário, os exemplos de empresas, organizações, produtos, nomes de domínio, endereços de email, logotipos, pessoas, lugares e eventos aqui mencionados são fictícios e nenhuma associação com qualquer empresa, organização, produto, nome de domínio, emails reais Endereço, logotipo, pessoa, local ou evento é intencional ou deve ser inferido.</span><span class="sxs-lookup"><span data-stu-id="61cac-1021">Unless otherwise noted, the example companies, organizations, products, domain names, email addresses, logos, people, places and events depicted herein are fictitious, and no association with any real company, organization, product, domain name, email address, logo, person, place or event is intended or should be inferred.</span></span>

<span data-ttu-id="61cac-1022">© 2009 Microsoft Corporation.</span><span class="sxs-lookup"><span data-stu-id="61cac-1022">© 2009 Microsoft Corporation.</span></span> <span data-ttu-id="61cac-1023">Todos os direitos reservados.</span><span class="sxs-lookup"><span data-stu-id="61cac-1023">All rights reserved.</span></span>

<span data-ttu-id="61cac-1024">Microsoft e Windows são marcas registradas ou comerciais da Microsoft Corporation nos Estados Unidos e/ou em outros países.</span><span class="sxs-lookup"><span data-stu-id="61cac-1024">Microsoft and Windows are either registered trademarks or trademarks of Microsoft Corporation in the United States and/or other countries.</span></span>

<span data-ttu-id="61cac-1025">Os nomes de empresas e produtos reais mencionados aqui podem ser marcas comerciais de seus respectivos proprietários.</span><span class="sxs-lookup"><span data-stu-id="61cac-1025">The names of actual companies and products mentioned herein may be the trademarks of their respective owners.</span></span>
